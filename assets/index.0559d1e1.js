const vL=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};vL();var ff=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wL(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var G={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c=Symbol.for("react.element"),_L=Symbol.for("react.portal"),bL=Symbol.for("react.fragment"),xL=Symbol.for("react.strict_mode"),SL=Symbol.for("react.profiler"),EL=Symbol.for("react.provider"),TL=Symbol.for("react.context"),IL=Symbol.for("react.forward_ref"),AL=Symbol.for("react.suspense"),kL=Symbol.for("react.memo"),OL=Symbol.for("react.lazy"),xx=Symbol.iterator;function CL(t){return t===null||typeof t!="object"?null:(t=xx&&t[xx]||t["@@iterator"],typeof t=="function"?t:null)}var tO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nO=Object.assign,rO={};function qs(t,e,n){this.props=t,this.context=e,this.refs=rO,this.updater=n||tO}qs.prototype.isReactComponent={};qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iO(){}iO.prototype=qs.prototype;function jw(t,e,n){this.props=t,this.context=e,this.refs=rO,this.updater=n||tO}var Uw=jw.prototype=new iO;Uw.constructor=jw;nO(Uw,qs.prototype);Uw.isPureReactComponent=!0;var Sx=Array.isArray,oO=Object.prototype.hasOwnProperty,Bw={current:null},aO={key:!0,ref:!0,__self:!0,__source:!0};function sO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)oO.call(e,r)&&!aO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:_c,type:t,key:o,ref:a,props:i,_owner:Bw.current}}function PL(t,e){return{$$typeof:_c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vw(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c}function $L(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ex=/\/+/g;function mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$L(""+t.key):e.toString(36)}function Yf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case _c:case _L:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+mg(a,0):r,Sx(i)?(n="",t!=null&&(n=t.replace(Ex,"$&/")+"/"),Yf(i,e,n,"",function(l){return l})):i!=null&&(Vw(i)&&(i=PL(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ex,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Sx(t))for(var s=0;s<t.length;s++){o=t[s];var u=r+mg(o,s);a+=Yf(o,e,n,u,i)}else if(u=CL(t),typeof u=="function")for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=r+mg(o,s++),a+=Yf(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function hf(t,e,n){if(t==null)return t;var r=[],i=0;return Yf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function NL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Xf={transition:null},ML={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Xf,ReactCurrentOwner:Bw};xe.Children={map:hf,forEach:function(t,e,n){hf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hf(t,function(){e++}),e},toArray:function(t){return hf(t,function(e){return e})||[]},only:function(t){if(!Vw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=qs;xe.Fragment=bL;xe.Profiler=SL;xe.PureComponent=jw;xe.StrictMode=xL;xe.Suspense=AL;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ML;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Bw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)oO.call(e,u)&&!aO.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];r.children=s}return{$$typeof:_c,type:t.type,key:i,ref:o,props:r,_owner:a}};xe.createContext=function(t){return t={$$typeof:TL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EL,_context:t},t.Consumer=t};xe.createElement=sO;xe.createFactory=function(t){var e=sO.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:IL,render:t}};xe.isValidElement=Vw;xe.lazy=function(t){return{$$typeof:OL,_payload:{_status:-1,_result:t},_init:NL}};xe.memo=function(t,e){return{$$typeof:kL,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Xf.transition;Xf.transition={};try{t()}finally{Xf.transition=e}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(t,e){return hn.current.useCallback(t,e)};xe.useContext=function(t){return hn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return hn.current.useEffect(t,e)};xe.useId=function(){return hn.current.useId()};xe.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return hn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};xe.useRef=function(t){return hn.current.useRef(t)};xe.useState=function(t){return hn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return hn.current.useTransition()};xe.version="18.2.0";G.exports=xe;var Z=G.exports,Wv={},uO={exports:{}},Ln={},lO={exports:{}},cO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,$){var M=C.length;C.push($);e:for(;0<M;){var H=M-1>>>1,q=C[H];if(0<i(q,$))C[H]=$,C[M]=q,M=H;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var $=C[0],M=C.pop();if(M!==$){C[0]=M;e:for(var H=0,q=C.length,ae=q>>>1;H<ae;){var ce=2*(H+1)-1,pe=C[ce],se=ce+1,le=C[se];if(0>i(pe,M))se<q&&0>i(le,pe)?(C[H]=le,C[se]=M,H=se):(C[H]=pe,C[ce]=M,H=ce);else if(se<q&&0>i(le,M))C[H]=le,C[se]=M,H=se;else break e}}return $}function i(C,$){var M=C.sortIndex-$.sortIndex;return M!==0?M:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,h=3,p=!1,m=!1,d=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=C)r(l),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(l)}}function y(C){if(d=!1,v(C),!m)if(n(u)!==null)m=!0,j(b);else{var $=n(l);$!==null&&X(y,$.startTime-C)}}function b(C,$){m=!1,d&&(d=!1,g(E),E=-1),p=!0;var M=h;try{for(v($),f=n(u);f!==null&&(!(f.expirationTime>$)||C&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var q=H(f.expirationTime<=$);$=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(u)&&r(u),v($)}else r(u);f=n(u)}if(f!==null)var ae=!0;else{var ce=n(l);ce!==null&&X(y,ce.startTime-$),ae=!1}return ae}finally{f=null,h=M,p=!1}}var x=!1,S=null,E=-1,T=5,A=-1;function I(){return!(t.unstable_now()-A<T)}function N(){if(S!==null){var C=t.unstable_now();A=C;var $=!0;try{$=S(!0,C)}finally{$?k():(x=!1,S=null)}}else x=!1}var k;if(typeof _=="function")k=function(){_(N)};else if(typeof MessageChannel!="undefined"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=N,k=function(){B.postMessage(null)}}else k=function(){w(N,0)};function j(C){S=C,x||(x=!0,k())}function X(C,$){E=w(function(){C(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var M=h;h=$;try{return C()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=h;h=C;try{return $()}finally{h=M}},t.unstable_scheduleCallback=function(C,$,M){var H=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,C){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=M+q,C={id:c++,callback:$,priorityLevel:C,startTime:M,expirationTime:q,sortIndex:-1},M>H?(C.sortIndex=M,e(l,C),n(u)===null&&C===n(l)&&(d?(g(E),E=-1):d=!0,X(y,M-H))):(C.sortIndex=q,e(u,C),m||p||(m=!0,j(b))),C},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(C){var $=h;return function(){var M=h;h=$;try{return C.apply(this,arguments)}finally{h=M}}}})(cO);lO.exports=cO;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fO=G.exports,Mn=lO.exports;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hO=new Set,xl={};function wa(t,e){gs(t,e),gs(t+"Capture",e)}function gs(t,e){for(xl[t]=e,t=0;t<e.length;t++)hO.add(e[t])}var Yr=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Gv=Object.prototype.hasOwnProperty,DL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tx={},Ix={};function RL(t){return Gv.call(Ix,t)?!0:Gv.call(Tx,t)?!1:DL.test(t)?Ix[t]=!0:(Tx[t]=!0,!1)}function LL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FL(t,e,n,r){if(e===null||typeof e=="undefined"||LL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var zw=/[\-:]([a-z])/g;function qw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zw,qw);qt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zw,qw);qt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zw,qw);qt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hw(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FL(e,n,i,r)&&(n=null),r||i===null?RL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oi=fO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,df=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),dO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),Yv=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),mO=Symbol.for("react.offscreen"),Ax=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,gg;function qu(t){if(gg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gg=e&&e[1]||""}return`
`+gg+t}var vg=!1;function yg(t,e){if(!t||vg)return"";vg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=s);break}}}finally{vg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qu(t):""}function jL(t){switch(t.tag){case 5:return qu(t.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return t=yg(t.type,!1),t;case 11:return t=yg(t.type.render,!1),t;case 1:return t=yg(t.type,!0),t;default:return""}}function Xv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Va:return"Fragment";case Ba:return"Portal";case Kv:return"Profiler";case Ww:return"StrictMode";case Qv:return"Suspense";case Yv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pO:return(t.displayName||"Context")+".Consumer";case dO:return(t._context.displayName||"Context")+".Provider";case Gw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:Xv(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return Xv(t(e))}catch{}}return null}function UL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xv(e);case 8:return e===Ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BL(t){var e=gO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pf(t){t._valueTracker||(t._valueTracker=BL(t))}function vO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fh(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jv(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function kx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yO(t,e){e=e.checked,e!=null&&Hw(t,"checked",e,!1)}function Zv(t,e){yO(t,e);var n=zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ey(t,e.type,n):e.hasOwnProperty("defaultValue")&&ey(t,e.type,zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ox(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ey(t,e,n){(e!=="number"||Fh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hu=Array.isArray;function rs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ty(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Hu(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zi(n)}}function wO(t,e){var n=zi(e.value),r=zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Px(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _O(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ny(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_O(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mf,bO=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mf=mf||document.createElement("div"),mf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VL=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(t){VL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tl[e]=tl[t]})});function xO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tl.hasOwnProperty(t)&&tl[t]?(""+e).trim():e+"px"}function SO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var zL=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ry(t,e){if(e){if(zL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function iy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=null;function Qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ay=null,is=null,os=null;function $x(t){if(t=Sc(t)){if(typeof ay!="function")throw Error(W(280));var e=t.stateNode;e&&(e=$p(e),ay(t.stateNode,t.type,e))}}function EO(t){is?os?os.push(t):os=[t]:is=t}function TO(){if(is){var t=is,e=os;if(os=is=null,$x(t),e)for(t=0;t<e.length;t++)$x(e[t])}}function IO(t,e){return t(e)}function AO(){}var wg=!1;function kO(t,e,n){if(wg)return t(e,n);wg=!0;try{return IO(t,e,n)}finally{wg=!1,(is!==null||os!==null)&&(AO(),TO())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=$p(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var sy=!1;if(Yr)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){sy=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{sy=!1}function qL(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var nl=!1,jh=null,Uh=!1,uy=null,HL={onError:function(t){nl=!0,jh=t}};function WL(t,e,n,r,i,o,a,s,u){nl=!1,jh=null,qL.apply(HL,arguments)}function GL(t,e,n,r,i,o,a,s,u){if(WL.apply(this,arguments),nl){if(nl){var l=jh;nl=!1,jh=null}else throw Error(W(198));Uh||(Uh=!0,uy=l)}}function _a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nx(t){if(_a(t)!==t)throw Error(W(188))}function KL(t){var e=t.alternate;if(!e){if(e=_a(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Nx(i),t;if(o===r)return Nx(i),e;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function CO(t){return t=KL(t),t!==null?PO(t):null}function PO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PO(t);if(e!==null)return e;t=t.sibling}return null}var $O=Mn.unstable_scheduleCallback,Mx=Mn.unstable_cancelCallback,QL=Mn.unstable_shouldYield,YL=Mn.unstable_requestPaint,ut=Mn.unstable_now,XL=Mn.unstable_getCurrentPriorityLevel,Yw=Mn.unstable_ImmediatePriority,NO=Mn.unstable_UserBlockingPriority,Bh=Mn.unstable_NormalPriority,JL=Mn.unstable_LowPriority,MO=Mn.unstable_IdlePriority,kp=null,xr=null;function ZL(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:nF,eF=Math.log,tF=Math.LN2;function nF(t){return t>>>=0,t===0?32:31-(eF(t)/tF|0)|0}var gf=64,vf=4194304;function Wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Wu(s):(o&=a,o!==0&&(r=Wu(o)))}else a=n&~i,a!==0?r=Wu(a):o!==0&&(r=Wu(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),i=1<<n,r|=t[n],e&=~i;return r}function rF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-lr(o),s=1<<a,u=i[a];u===-1?((s&n)===0||(s&r)!==0)&&(i[a]=rF(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}function ly(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DO(){var t=gf;return gf<<=1,(gf&4194240)===0&&(gf=64),t}function _g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function oF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-lr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Xw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function RO(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var LO,Jw,FO,jO,UO,cy=!1,yf=[],Ci=null,Pi=null,$i=null,Tl=new Map,Il=new Map,wi=[],aF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dx(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function bu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sF(t,e,n,r,i){switch(e){case"focusin":return Ci=bu(Ci,t,e,n,r,i),!0;case"dragenter":return Pi=bu(Pi,t,e,n,r,i),!0;case"mouseover":return $i=bu($i,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tl.set(o,bu(Tl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Il.set(o,bu(Il.get(o)||null,t,e,n,r,i)),!0}return!1}function BO(t){var e=Lo(t.target);if(e!==null){var n=_a(e);if(n!==null){if(e=n.tag,e===13){if(e=OO(n),e!==null){t.blockedOn=e,UO(t.priority,function(){FO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);oy=r,n.target.dispatchEvent(r),oy=null}else return e=Sc(n),e!==null&&Jw(e),t.blockedOn=n,!1;e.shift()}return!0}function Rx(t,e,n){Jf(t)&&n.delete(e)}function uF(){cy=!1,Ci!==null&&Jf(Ci)&&(Ci=null),Pi!==null&&Jf(Pi)&&(Pi=null),$i!==null&&Jf($i)&&($i=null),Tl.forEach(Rx),Il.forEach(Rx)}function xu(t,e){t.blockedOn===e&&(t.blockedOn=null,cy||(cy=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,uF)))}function Al(t){function e(i){return xu(i,t)}if(0<yf.length){xu(yf[0],t);for(var n=1;n<yf.length;n++){var r=yf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&xu(Ci,t),Pi!==null&&xu(Pi,t),$i!==null&&xu($i,t),Tl.forEach(e),Il.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)BO(n),n.blockedOn===null&&wi.shift()}var as=oi.ReactCurrentBatchConfig,zh=!0;function lF(t,e,n,r){var i=Ne,o=as.transition;as.transition=null;try{Ne=1,Zw(t,e,n,r)}finally{Ne=i,as.transition=o}}function cF(t,e,n,r){var i=Ne,o=as.transition;as.transition=null;try{Ne=4,Zw(t,e,n,r)}finally{Ne=i,as.transition=o}}function Zw(t,e,n,r){if(zh){var i=fy(t,e,n,r);if(i===null)Cg(t,e,r,qh,n),Dx(t,r);else if(sF(i,t,e,n,r))r.stopPropagation();else if(Dx(t,r),e&4&&-1<aF.indexOf(t)){for(;i!==null;){var o=Sc(i);if(o!==null&&LO(o),o=fy(t,e,n,r),o===null&&Cg(t,e,r,qh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cg(t,e,r,null,n)}}var qh=null;function fy(t,e,n,r){if(qh=null,t=Qw(r),t=Lo(t),t!==null)if(e=_a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qh=t,null}function VO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XL()){case Yw:return 1;case NO:return 4;case Bh:case JL:return 16;case MO:return 536870912;default:return 16}default:return 16}}var Ai=null,e1=null,Zf=null;function zO(){if(Zf)return Zf;var t,e=e1,n=e.length,r,i="value"in Ai?Ai.value:Ai.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Zf=i.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wf(){return!0}function Lx(){return!1}function Fn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wf:Lx,this.isPropagationStopped=Lx,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wf)},persist:function(){},isPersistent:wf}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=Fn(Hs),xc=nt({},Hs,{view:0,detail:0}),fF=Fn(xc),bg,xg,Su,Op=nt({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Su&&(Su&&t.type==="mousemove"?(bg=t.screenX-Su.screenX,xg=t.screenY-Su.screenY):xg=bg=0,Su=t),bg)},movementY:function(t){return"movementY"in t?t.movementY:xg}}),Fx=Fn(Op),hF=nt({},Op,{dataTransfer:0}),dF=Fn(hF),pF=nt({},xc,{relatedTarget:0}),Sg=Fn(pF),mF=nt({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),gF=Fn(mF),vF=nt({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yF=Fn(vF),wF=nt({},Hs,{data:0}),jx=Fn(wF),_F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xF[t])?!!e[t]:!1}function n1(){return SF}var EF=nt({},xc,{key:function(t){if(t.key){var e=_F[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n1,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TF=Fn(EF),IF=nt({},Op,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ux=Fn(IF),AF=nt({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n1}),kF=Fn(AF),OF=nt({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),CF=Fn(OF),PF=nt({},Op,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$F=Fn(PF),NF=[9,13,27,32],r1=Yr&&"CompositionEvent"in window,rl=null;Yr&&"documentMode"in document&&(rl=document.documentMode);var MF=Yr&&"TextEvent"in window&&!rl,qO=Yr&&(!r1||rl&&8<rl&&11>=rl),Bx=String.fromCharCode(32),Vx=!1;function HO(t,e){switch(t){case"keyup":return NF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function DF(t,e){switch(t){case"compositionend":return WO(e);case"keypress":return e.which!==32?null:(Vx=!0,Bx);case"textInput":return t=e.data,t===Bx&&Vx?null:t;default:return null}}function RF(t,e){if(za)return t==="compositionend"||!r1&&HO(t,e)?(t=zO(),Zf=e1=Ai=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qO&&e.locale!=="ko"?null:e.data;default:return null}}var LF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LF[t.type]:e==="textarea"}function GO(t,e,n,r){EO(r),e=Hh(e,"onChange"),0<e.length&&(n=new t1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var il=null,kl=null;function FF(t){iC(t,0)}function Cp(t){var e=Wa(t);if(vO(e))return t}function jF(t,e){if(t==="change")return e}var KO=!1;if(Yr){var Eg;if(Yr){var Tg="oninput"in document;if(!Tg){var qx=document.createElement("div");qx.setAttribute("oninput","return;"),Tg=typeof qx.oninput=="function"}Eg=Tg}else Eg=!1;KO=Eg&&(!document.documentMode||9<document.documentMode)}function Hx(){il&&(il.detachEvent("onpropertychange",QO),kl=il=null)}function QO(t){if(t.propertyName==="value"&&Cp(kl)){var e=[];GO(e,kl,t,Qw(t)),kO(FF,e)}}function UF(t,e,n){t==="focusin"?(Hx(),il=e,kl=n,il.attachEvent("onpropertychange",QO)):t==="focusout"&&Hx()}function BF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cp(kl)}function VF(t,e){if(t==="click")return Cp(e)}function zF(t,e){if(t==="input"||t==="change")return Cp(e)}function qF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:qF;function Ol(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gv.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function Wx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gx(t,e){var n=Wx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wx(n)}}function YO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?YO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XO(){for(var t=window,e=Fh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fh(t.document)}return e}function i1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HF(t){var e=XO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&YO(n.ownerDocument.documentElement,n)){if(r!==null&&i1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Gx(n,o);var a=Gx(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WF=Yr&&"documentMode"in document&&11>=document.documentMode,qa=null,hy=null,ol=null,dy=!1;function Kx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dy||qa==null||qa!==Fh(r)||(r=qa,"selectionStart"in r&&i1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&Ol(ol,r)||(ol=r,r=Hh(hy,"onSelect"),0<r.length&&(e=new t1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function _f(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:_f("Animation","AnimationEnd"),animationiteration:_f("Animation","AnimationIteration"),animationstart:_f("Animation","AnimationStart"),transitionend:_f("Transition","TransitionEnd")},Ig={},JO={};Yr&&(JO=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Pp(t){if(Ig[t])return Ig[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JO)return Ig[t]=e[n];return t}var ZO=Pp("animationend"),eC=Pp("animationiteration"),tC=Pp("animationstart"),nC=Pp("transitionend"),rC=new Map,Qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){rC.set(t,e),wa(e,[t])}for(var Ag=0;Ag<Qx.length;Ag++){var kg=Qx[Ag],GF=kg.toLowerCase(),KF=kg[0].toUpperCase()+kg.slice(1);no(GF,"on"+KF)}no(ZO,"onAnimationEnd");no(eC,"onAnimationIteration");no(tC,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(nC,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function Yx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GL(r,e,void 0,t),t.currentTarget=null}function iC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Yx(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Yx(i,s,l),o=u}}}if(Uh)throw t=uy,Uh=!1,uy=null,t}function Be(t,e){var n=e[yy];n===void 0&&(n=e[yy]=new Set);var r=t+"__bubble";n.has(r)||(oC(e,t,2,!1),n.add(r))}function Og(t,e,n){var r=0;e&&(r|=4),oC(n,t,r,e)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[bf]){t[bf]=!0,hO.forEach(function(n){n!=="selectionchange"&&(QF.has(n)||Og(n,!1,t),Og(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bf]||(e[bf]=!0,Og("selectionchange",!1,e))}}function oC(t,e,n,r){switch(VO(e)){case 1:var i=lF;break;case 4:i=cF;break;default:i=Zw}n=i.bind(null,e,n,t),i=void 0,!sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cg(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Lo(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}kO(function(){var l=o,c=Qw(n),f=[];e:{var h=rC.get(t);if(h!==void 0){var p=t1,m=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":p=TF;break;case"focusin":m="focus",p=Sg;break;case"focusout":m="blur",p=Sg;break;case"beforeblur":case"afterblur":p=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kF;break;case ZO:case eC:case tC:p=gF;break;case nC:p=CF;break;case"scroll":p=fF;break;case"wheel":p=$F;break;case"copy":case"cut":case"paste":p=yF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ux}var d=(e&4)!==0,w=!d&&t==="scroll",g=d?h!==null?h+"Capture":null:h;d=[];for(var _=l,v;_!==null;){v=_;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,g!==null&&(y=El(_,g),y!=null&&d.push(Pl(_,y,v)))),w)break;_=_.return}0<d.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:d}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==oy&&(m=n.relatedTarget||n.fromElement)&&(Lo(m)||m[Xr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?Lo(m):null,m!==null&&(w=_a(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(d=Fx,y="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(d=Ux,y="onPointerLeave",g="onPointerEnter",_="pointer"),w=p==null?h:Wa(p),v=m==null?h:Wa(m),h=new d(y,_+"leave",p,n,c),h.target=w,h.relatedTarget=v,y=null,Lo(c)===l&&(d=new d(g,_+"enter",m,n,c),d.target=v,d.relatedTarget=w,y=d),w=y,p&&m)t:{for(d=p,g=m,_=0,v=d;v;v=$a(v))_++;for(v=0,y=g;y;y=$a(y))v++;for(;0<_-v;)d=$a(d),_--;for(;0<v-_;)g=$a(g),v--;for(;_--;){if(d===g||g!==null&&d===g.alternate)break t;d=$a(d),g=$a(g)}d=null}else d=null;p!==null&&Xx(f,h,p,d,!1),m!==null&&w!==null&&Xx(f,w,m,d,!0)}}e:{if(h=l?Wa(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=jF;else if(zx(h))if(KO)b=zF;else{b=BF;var x=UF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=VF);if(b&&(b=b(t,l))){GO(f,b,n,c);break e}x&&x(t,h,l),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&ey(h,"number",h.value)}switch(x=l?Wa(l):window,t){case"focusin":(zx(x)||x.contentEditable==="true")&&(qa=x,hy=l,ol=null);break;case"focusout":ol=hy=qa=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,Kx(f,n,c);break;case"selectionchange":if(WF)break;case"keydown":case"keyup":Kx(f,n,c)}var S;if(r1)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else za?HO(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(qO&&n.locale!=="ko"&&(za||E!=="onCompositionStart"?E==="onCompositionEnd"&&za&&(S=zO()):(Ai=c,e1="value"in Ai?Ai.value:Ai.textContent,za=!0)),x=Hh(l,E),0<x.length&&(E=new jx(E,t,null,n,c),f.push({event:E,listeners:x}),S?E.data=S:(S=WO(n),S!==null&&(E.data=S)))),(S=MF?DF(t,n):RF(t,n))&&(l=Hh(l,"onBeforeInput"),0<l.length&&(c=new jx("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=S))}iC(f,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=El(t,n),o!=null&&r.unshift(Pl(t,o,i)),o=El(t,e),o!=null&&r.push(Pl(t,o,i))),t=t.return}return r}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xx(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&l!==null&&(s=l,i?(u=El(n,o),u!=null&&a.unshift(Pl(n,u,s))):i||(u=El(n,o),u!=null&&a.push(Pl(n,u,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var YF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function Jx(t){return(typeof t=="string"?t:""+t).replace(YF,`
`).replace(XF,"")}function xf(t,e,n){if(e=Jx(e),Jx(t)!==e&&n)throw Error(W(425))}function Wh(){}var py=null,my=null;function gy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vy=typeof setTimeout=="function"?setTimeout:void 0,JF=typeof clearTimeout=="function"?clearTimeout:void 0,Zx=typeof Promise=="function"?Promise:void 0,ZF=typeof queueMicrotask=="function"?queueMicrotask:typeof Zx!="undefined"?function(t){return Zx.resolve(null).then(t).catch(ej)}:vy;function ej(t){setTimeout(function(){throw t})}function Pg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Al(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),gr="__reactFiber$"+Ws,$l="__reactProps$"+Ws,Xr="__reactContainer$"+Ws,yy="__reactEvents$"+Ws,tj="__reactListeners$"+Ws,nj="__reactHandles$"+Ws;function Lo(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eS(t);t!==null;){if(n=t[gr])return n;t=eS(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[gr]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function $p(t){return t[$l]||null}var wy=[],Ga=-1;function ro(t){return{current:t}}function qe(t){0>Ga||(t.current=wy[Ga],wy[Ga]=null,Ga--)}function Ue(t,e){Ga++,wy[Ga]=t.current,t.current=e}var qi={},Jt=ro(qi),_n=ro(!1),Qo=qi;function vs(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Gh(){qe(_n),qe(Jt)}function tS(t,e,n){if(Jt.current!==qi)throw Error(W(168));Ue(Jt,e),Ue(_n,n)}function aC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,UL(t)||"Unknown",i));return nt({},n,r)}function Kh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Qo=Jt.current,Ue(Jt,t),Ue(_n,_n.current),!0}function nS(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=aC(t,e,Qo),r.__reactInternalMemoizedMergedChildContext=t,qe(_n),qe(Jt),Ue(Jt,t)):qe(_n),Ue(_n,n)}var jr=null,Np=!1,$g=!1;function sC(t){jr===null?jr=[t]:jr.push(t)}function rj(t){Np=!0,sC(t)}function io(){if(!$g&&jr!==null){$g=!0;var t=0,e=Ne;try{var n=jr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,Np=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),$O(Yw,io),i}finally{Ne=e,$g=!1}}return null}var Ka=[],Qa=0,Qh=null,Yh=0,Hn=[],Wn=0,Yo=null,Ur=1,Br="";function So(t,e){Ka[Qa++]=Yh,Ka[Qa++]=Qh,Qh=t,Yh=e}function uC(t,e,n){Hn[Wn++]=Ur,Hn[Wn++]=Br,Hn[Wn++]=Yo,Yo=t;var r=Ur;t=Br;var i=32-lr(r)-1;r&=~(1<<i),n+=1;var o=32-lr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ur=1<<32-lr(e)+i|n<<i|r,Br=o+t}else Ur=1<<o|n<<i|r,Br=t}function o1(t){t.return!==null&&(So(t,1),uC(t,1,0))}function a1(t){for(;t===Qh;)Qh=Ka[--Qa],Ka[Qa]=null,Yh=Ka[--Qa],Ka[Qa]=null;for(;t===Yo;)Yo=Hn[--Wn],Hn[Wn]=null,Br=Hn[--Wn],Hn[Wn]=null,Ur=Hn[--Wn],Hn[Wn]=null}var Pn=null,On=null,Ke=!1,sr=null;function lC(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function rS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,On=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yo!==null?{id:Ur,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,On=null,!0):!1;default:return!1}}function _y(t){return(t.mode&1)!==0&&(t.flags&128)===0}function by(t){if(Ke){var e=On;if(e){var n=e;if(!rS(t,e)){if(_y(t))throw Error(W(418));e=Ni(n.nextSibling);var r=Pn;e&&rS(t,e)?lC(r,n):(t.flags=t.flags&-4097|2,Ke=!1,Pn=t)}}else{if(_y(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ke=!1,Pn=t}}}function iS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Sf(t){if(t!==Pn)return!1;if(!Ke)return iS(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gy(t.type,t.memoizedProps)),e&&(e=On)){if(_y(t))throw cC(),Error(W(418));for(;e;)lC(t,e),e=Ni(e.nextSibling)}if(iS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Pn?Ni(t.stateNode.nextSibling):null;return!0}function cC(){for(var t=On;t;)t=Ni(t.nextSibling)}function ys(){On=Pn=null,Ke=!1}function s1(t){sr===null?sr=[t]:sr.push(t)}var ij=oi.ReactCurrentBatchConfig;function ir(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xh=ro(null),Jh=null,Ya=null,u1=null;function l1(){u1=Ya=Jh=null}function c1(t){var e=Xh.current;qe(Xh),t._currentValue=e}function xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ss(t,e){Jh=t,u1=Ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(vn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(u1!==t)if(t={context:t,memoizedValue:e,next:null},Ya===null){if(Jh===null)throw Error(W(308));Ya=t,Jh.dependencies={lanes:0,firstContext:t}}else Ya=Ya.next=t;return e}var Fo=null;function f1(t){Fo===null?Fo=[t]:Fo.push(t)}function fC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function h1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ie&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jr(t,n)}return i=r.interleaved,i===null?(e.next=e,f1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jr(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}function oS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zh(t,e,n,r){var i=t.updateQueue;vi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?o=l:a.next=l,a=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;a=0,c=l=u=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,d=s;switch(h=e,p=n,d.tag){case 1:if(m=d.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=d.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=nt({},f,h);break e;case 2:vi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Jo|=a,t.lanes=a,t.memoizedState=f}}function aS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var dC=new fO.Component().refs;function Sy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mp={isMounted:function(t){return(t=t._reactInternals)?_a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Ri(t),o=Kr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Mi(t,o,i),e!==null&&(cr(e,t,i,r),th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Ri(t),o=Kr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Mi(t,o,i),e!==null&&(cr(e,t,i,r),th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Ri(t),i=Kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,r),e!==null&&(cr(e,t,r,n),th(e,t,r))}};function sS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ol(n,r)||!Ol(i,o):!0}function pC(t,e,n){var r=!1,i=qi,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=bn(e)?Qo:Jt.current,r=e.contextTypes,o=(r=r!=null)?vs(t,i):qi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function uS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mp.enqueueReplaceState(e,e.state,null)}function Ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=dC,h1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=bn(e)?Qo:Jt.current,i.context=vs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Sy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mp.enqueueReplaceState(i,i.state,null),Zh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;s===dC&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ef(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lS(t){var e=t._init;return e(t._payload)}function mC(t){function e(g,_){if(t){var v=g.deletions;v===null?(g.deletions=[_],g.flags|=16):v.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Li(g,_),g.index=0,g.sibling=null,g}function o(g,_,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<_?(g.flags|=2,_):v):(g.flags|=2,_)):(g.flags|=1048576,_)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,_,v,y){return _===null||_.tag!==6?(_=jg(v,g.mode,y),_.return=g,_):(_=i(_,v),_.return=g,_)}function u(g,_,v,y){var b=v.type;return b===Va?c(g,_,v.props.children,y,v.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&lS(b)===_.type)?(y=i(_,v.props),y.ref=Eu(g,_,v),y.return=g,y):(y=sh(v.type,v.key,v.props,null,g.mode,y),y.ref=Eu(g,_,v),y.return=g,y)}function l(g,_,v,y){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=Ug(v,g.mode,y),_.return=g,_):(_=i(_,v.children||[]),_.return=g,_)}function c(g,_,v,y,b){return _===null||_.tag!==7?(_=Wo(v,g.mode,y,b),_.return=g,_):(_=i(_,v),_.return=g,_)}function f(g,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=jg(""+_,g.mode,v),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case df:return v=sh(_.type,_.key,_.props,null,g.mode,v),v.ref=Eu(g,null,_),v.return=g,v;case Ba:return _=Ug(_,g.mode,v),_.return=g,_;case gi:var y=_._init;return f(g,y(_._payload),v)}if(Hu(_)||wu(_))return _=Wo(_,g.mode,v,null),_.return=g,_;Ef(g,_)}return null}function h(g,_,v,y){var b=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:s(g,_,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case df:return v.key===b?u(g,_,v,y):null;case Ba:return v.key===b?l(g,_,v,y):null;case gi:return b=v._init,h(g,_,b(v._payload),y)}if(Hu(v)||wu(v))return b!==null?null:c(g,_,v,y,null);Ef(g,v)}return null}function p(g,_,v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(v)||null,s(_,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case df:return g=g.get(y.key===null?v:y.key)||null,u(_,g,y,b);case Ba:return g=g.get(y.key===null?v:y.key)||null,l(_,g,y,b);case gi:var x=y._init;return p(g,_,v,x(y._payload),b)}if(Hu(y)||wu(y))return g=g.get(v)||null,c(_,g,y,b,null);Ef(_,y)}return null}function m(g,_,v,y){for(var b=null,x=null,S=_,E=_=0,T=null;S!==null&&E<v.length;E++){S.index>E?(T=S,S=null):T=S.sibling;var A=h(g,S,v[E],y);if(A===null){S===null&&(S=T);break}t&&S&&A.alternate===null&&e(g,S),_=o(A,_,E),x===null?b=A:x.sibling=A,x=A,S=T}if(E===v.length)return n(g,S),Ke&&So(g,E),b;if(S===null){for(;E<v.length;E++)S=f(g,v[E],y),S!==null&&(_=o(S,_,E),x===null?b=S:x.sibling=S,x=S);return Ke&&So(g,E),b}for(S=r(g,S);E<v.length;E++)T=p(S,g,E,v[E],y),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),_=o(T,_,E),x===null?b=T:x.sibling=T,x=T);return t&&S.forEach(function(I){return e(g,I)}),Ke&&So(g,E),b}function d(g,_,v,y){var b=wu(v);if(typeof b!="function")throw Error(W(150));if(v=b.call(v),v==null)throw Error(W(151));for(var x=b=null,S=_,E=_=0,T=null,A=v.next();S!==null&&!A.done;E++,A=v.next()){S.index>E?(T=S,S=null):T=S.sibling;var I=h(g,S,A.value,y);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(g,S),_=o(I,_,E),x===null?b=I:x.sibling=I,x=I,S=T}if(A.done)return n(g,S),Ke&&So(g,E),b;if(S===null){for(;!A.done;E++,A=v.next())A=f(g,A.value,y),A!==null&&(_=o(A,_,E),x===null?b=A:x.sibling=A,x=A);return Ke&&So(g,E),b}for(S=r(g,S);!A.done;E++,A=v.next())A=p(S,g,E,A.value,y),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),_=o(A,_,E),x===null?b=A:x.sibling=A,x=A);return t&&S.forEach(function(N){return e(g,N)}),Ke&&So(g,E),b}function w(g,_,v,y){if(typeof v=="object"&&v!==null&&v.type===Va&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case df:e:{for(var b=v.key,x=_;x!==null;){if(x.key===b){if(b=v.type,b===Va){if(x.tag===7){n(g,x.sibling),_=i(x,v.props.children),_.return=g,g=_;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===gi&&lS(b)===x.type){n(g,x.sibling),_=i(x,v.props),_.ref=Eu(g,x,v),_.return=g,g=_;break e}n(g,x);break}else e(g,x);x=x.sibling}v.type===Va?(_=Wo(v.props.children,g.mode,y,v.key),_.return=g,g=_):(y=sh(v.type,v.key,v.props,null,g.mode,y),y.ref=Eu(g,_,v),y.return=g,g=y)}return a(g);case Ba:e:{for(x=v.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(g,_.sibling),_=i(_,v.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=Ug(v,g.mode,y),_.return=g,g=_}return a(g);case gi:return x=v._init,w(g,_,x(v._payload),y)}if(Hu(v))return m(g,_,v,y);if(wu(v))return d(g,_,v,y);Ef(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,v),_.return=g,g=_):(n(g,_),_=jg(v,g.mode,y),_.return=g,g=_),a(g)):n(g,_)}return w}var ws=mC(!0),gC=mC(!1),Ec={},Sr=ro(Ec),Nl=ro(Ec),Ml=ro(Ec);function jo(t){if(t===Ec)throw Error(W(174));return t}function d1(t,e){switch(Ue(Ml,e),Ue(Nl,t),Ue(Sr,Ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ny(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ny(e,t)}qe(Sr),Ue(Sr,e)}function _s(){qe(Sr),qe(Nl),qe(Ml)}function vC(t){jo(Ml.current);var e=jo(Sr.current),n=ny(e,t.type);e!==n&&(Ue(Nl,t),Ue(Sr,n))}function p1(t){Nl.current===t&&(qe(Sr),qe(Nl))}var Ze=ro(0);function ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function m1(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var nh=oi.ReactCurrentDispatcher,Mg=oi.ReactCurrentBatchConfig,Xo=0,tt=null,gt=null,St=null,td=!1,al=!1,Dl=0,oj=0;function Gt(){throw Error(W(321))}function g1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function v1(t,e,n,r,i,o){if(Xo=o,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?lj:cj,t=n(r,i),al){o=0;do{if(al=!1,Dl=0,25<=o)throw Error(W(301));o+=1,St=gt=null,e.updateQueue=null,nh.current=fj,t=n(r,i)}while(al)}if(nh.current=nd,e=gt!==null&&gt.next!==null,Xo=0,St=gt=tt=null,td=!1,e)throw Error(W(300));return t}function y1(){var t=Dl!==0;return Dl=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=t:St=St.next=t,St}function Jn(){if(gt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=St===null?tt.memoizedState:St.next;if(e!==null)St=e,gt=t;else{if(t===null)throw Error(W(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?tt.memoizedState=St=t:St=St.next=t}return St}function Rl(t,e){return typeof e=="function"?e(t):e}function Dg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,l=o;do{var c=l.lane;if((Xo&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=r):u=u.next=f,tt.lanes|=c,Jo|=c}l=l.next}while(l!==null&&l!==o);u===null?a=r:u.next=s,fr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,tt.lanes|=o,Jo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);fr(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function yC(){}function wC(t,e){var n=tt,r=Jn(),i=e(),o=!fr(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,w1(xC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Ll(9,bC.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(W(349));(Xo&30)!==0||_C(n,e,i)}return i}function _C(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bC(t,e,n,r){e.value=n,e.getSnapshot=r,SC(e)&&EC(t)}function xC(t,e,n){return n(function(){SC(e)&&EC(t)})}function SC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function EC(t){var e=Jr(t,1);e!==null&&cr(e,t,1,-1)}function cS(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=uj.bind(null,tt,t),[e.memoizedState,t]}function Ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TC(){return Jn().memoizedState}function rh(t,e,n,r){var i=mr();tt.flags|=t,i.memoizedState=Ll(1|e,n,void 0,r===void 0?null:r)}function Dp(t,e,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,r!==null&&g1(r,a.deps)){i.memoizedState=Ll(e,n,o,r);return}}tt.flags|=t,i.memoizedState=Ll(1|e,n,o,r)}function fS(t,e){return rh(8390656,8,t,e)}function w1(t,e){return Dp(2048,8,t,e)}function IC(t,e){return Dp(4,2,t,e)}function AC(t,e){return Dp(4,4,t,e)}function kC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OC(t,e,n){return n=n!=null?n.concat([t]):null,Dp(4,4,kC.bind(null,e,t),n)}function _1(){}function CC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $C(t,e,n){return(Xo&21)===0?(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n):(fr(n,e)||(n=DO(),tt.lanes|=n,Jo|=n,t.baseState=!0),e)}function aj(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Mg.transition;Mg.transition={};try{t(!1),e()}finally{Ne=n,Mg.transition=r}}function NC(){return Jn().memoizedState}function sj(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MC(t))DC(e,n);else if(n=fC(t,e,n,r),n!==null){var i=cn();cr(n,t,r,i),RC(n,e,r)}}function uj(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MC(t))DC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,fr(s,a)){var u=e.interleaved;u===null?(i.next=i,f1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=fC(t,e,i,r),n!==null&&(i=cn(),cr(n,t,r,i),RC(n,e,r))}}function MC(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function DC(t,e){al=td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RC(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}var nd={readContext:Xn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},lj={readContext:Xn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:fS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,kC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sj.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:cS,useDebugValue:_1,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=cS(!1),e=t[0];return t=aj.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=mr();if(Ke){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Tt===null)throw Error(W(349));(Xo&30)!==0||_C(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,fS(xC.bind(null,r,o,t),[t]),r.flags|=2048,Ll(9,bC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=mr(),e=Tt.identifierPrefix;if(Ke){var n=Br,r=Ur;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cj={readContext:Xn,useCallback:CC,useContext:Xn,useEffect:w1,useImperativeHandle:OC,useInsertionEffect:IC,useLayoutEffect:AC,useMemo:PC,useReducer:Dg,useRef:TC,useState:function(){return Dg(Rl)},useDebugValue:_1,useDeferredValue:function(t){var e=Jn();return $C(e,gt.memoizedState,t)},useTransition:function(){var t=Dg(Rl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:yC,useSyncExternalStore:wC,useId:NC,unstable_isNewReconciler:!1},fj={readContext:Xn,useCallback:CC,useContext:Xn,useEffect:w1,useImperativeHandle:OC,useInsertionEffect:IC,useLayoutEffect:AC,useMemo:PC,useReducer:Rg,useRef:TC,useState:function(){return Rg(Rl)},useDebugValue:_1,useDeferredValue:function(t){var e=Jn();return gt===null?e.memoizedState=t:$C(e,gt.memoizedState,t)},useTransition:function(){var t=Rg(Rl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:yC,useSyncExternalStore:wC,useId:NC,unstable_isNewReconciler:!1};function bs(t,e){try{var n="",r=e;do n+=jL(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lg(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Ty(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hj=typeof WeakMap=="function"?WeakMap:Map;function LC(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,Dy=r),Ty(t,e)},n}function FC(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ty(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ty(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function hS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ij.bind(null,t,e,n),e.then(t,t))}function dS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pS(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Mi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var dj=oi.ReactCurrentOwner,vn=!1;function en(t,e,n,r){e.child=t===null?gC(e,null,n,r):ws(e,t.child,n,r)}function mS(t,e,n,r,i){n=n.render;var o=e.ref;return ss(e,i),r=v1(t,e,n,r,o,i),n=y1(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(Ke&&n&&o1(e),e.flags|=1,en(t,e,r,i),e.child)}function gS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!k1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,jC(t,e,o,r,i)):(t=sh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ol,n(a,r)&&t.ref===e.ref)return Zr(t,e,i)}return e.flags|=1,t=Li(o,r),t.ref=e.ref,t.return=e,e.child=t}function jC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ol(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(vn=!0);else return e.lanes=t.lanes,Zr(t,e,i)}return Iy(t,e,n,r,i)}function UC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ja,In),In|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Ja,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ue(Ja,In),In|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ue(Ja,In),In|=r;return en(t,e,i,n),e.child}function BC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Iy(t,e,n,r,i){var o=bn(n)?Qo:Jt.current;return o=vs(e,o),ss(e,i),n=v1(t,e,n,r,o,i),r=y1(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(Ke&&r&&o1(e),e.flags|=1,en(t,e,n,i),e.child)}function vS(t,e,n,r,i){if(bn(n)){var o=!0;Kh(e)}else o=!1;if(ss(e,i),e.stateNode===null)ih(t,e),pC(e,n,r),Ey(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;typeof l=="object"&&l!==null?l=Xn(l):(l=bn(n)?Qo:Jt.current,l=vs(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==l)&&uS(e,a,r,l),vi=!1;var h=e.memoizedState;a.state=h,Zh(e,r,a,i),u=e.memoizedState,s!==r||h!==u||_n.current||vi?(typeof c=="function"&&(Sy(e,n,c,r),u=e.memoizedState),(s=vi||sS(e,n,s,r,h,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,hC(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ir(e.type,s),a.props=l,f=e.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xn(u):(u=bn(n)?Qo:Jt.current,u=vs(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==u)&&uS(e,a,r,u),vi=!1,h=e.memoizedState,a.state=h,Zh(e,r,a,i);var m=e.memoizedState;s!==f||h!==m||_n.current||vi?(typeof p=="function"&&(Sy(e,n,p,r),m=e.memoizedState),(l=vi||sS(e,n,l,r,h,m,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=u,r=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ay(t,e,n,r,o,i)}function Ay(t,e,n,r,i,o){BC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&nS(e,n,!1),Zr(t,e,o);r=e.stateNode,dj.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,s,o)):en(t,e,s,o),e.memoizedState=r.state,i&&nS(e,n,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?tS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tS(t,e.context,!1),d1(t,e.containerInfo)}function yS(t,e,n,r,i){return ys(),s1(i),e.flags|=256,en(t,e,n,r),e.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function Oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function zC(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ue(Ze,i&1),t===null)return by(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Fp(a,r,0,null),t=Wo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Oy(n),e.memoizedState=ky,t):b1(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:r.children};return(a&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Li(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Li(s,o):(o=Wo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Oy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=ky,r}return o=t.child,t=o.sibling,r=Li(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function b1(t,e){return e=Fp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tf(t,e,n,r){return r!==null&&s1(r),ws(e,t.child,null,n),t=b1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Lg(Error(W(422))),Tf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Fp({mode:"visible",children:r.children},i,0,null),o=Wo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&ws(e,t.child,null,a),e.child.memoizedState=Oy(a),e.memoizedState=ky,o);if((e.mode&1)===0)return Tf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=Lg(o,r,void 0),Tf(t,e,a,r)}if(s=(a&t.childLanes)!==0,vn||s){if(r=Tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|a))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jr(t,i),cr(r,t,i,-1))}return A1(),r=Lg(Error(W(421))),Tf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Aj.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,On=Ni(i.nextSibling),Pn=e,Ke=!0,sr=null,t!==null&&(Hn[Wn++]=Ur,Hn[Wn++]=Br,Hn[Wn++]=Yo,Ur=t.id,Br=t.overflow,Yo=e),e=b1(e,r.children),e.flags|=4096,e)}function wS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xy(t.return,e,n)}function Fg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(en(t,e,r.children,n),r=Ze.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wS(t,n,e);else if(t.tag===19)wS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Ze,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fg(e,!0,n,null,o);break;case"together":Fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jo|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mj(t,e,n){switch(e.tag){case 3:VC(e),ys();break;case 5:vC(e);break;case 1:bn(e.type)&&Kh(e);break;case 4:d1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ue(Xh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Ze,Ze.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?zC(t,e,n):(Ue(Ze,Ze.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);Ue(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return qC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,UC(t,e,n)}return Zr(t,e,n)}var HC,Cy,WC,GC;HC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cy=function(){};WC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jo(Sr.current);var o=null;switch(n){case"input":i=Jv(t,i),r=Jv(t,r),o=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),o=[];break;case"textarea":i=ty(t,i),r=ty(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wh)}ry(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xl.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(xl.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Be("scroll",t),o||s===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};GC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tu(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gj(t,e,n){var r=e.pendingProps;switch(a1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return bn(e.type)&&Gh(),Kt(e),null;case 3:return r=e.stateNode,_s(),qe(_n),qe(Jt),m1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,sr!==null&&(Fy(sr),sr=null))),Cy(t,e),Kt(e),null;case 5:p1(e);var i=jo(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)WC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Kt(e),null}if(t=jo(Sr.current),Sf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[gr]=e,r[$l]=o,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Be(Gu[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":kx(r,o),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Be("invalid",r);break;case"textarea":Cx(r,o),Be("invalid",r)}ry(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&xf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&xf(r.textContent,s,t),i=["children",""+s]):xl.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Be("scroll",r)}switch(n){case"input":pf(r),Ox(r,o,!0);break;case"textarea":pf(r),Px(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_O(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[gr]=e,t[$l]=r,HC(t,e,!1,!1),e.stateNode=t;e:{switch(a=iy(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Gu.length;i++)Be(Gu[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":kx(t,r),i=Jv(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Be("invalid",t);break;case"textarea":Cx(t,r),i=ty(t,r),Be("invalid",t);break;default:i=r}ry(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?SO(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&bO(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sl(t,u):typeof u=="number"&&Sl(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Be("scroll",t):u!=null&&Hw(t,o,u,a))}switch(n){case"input":pf(t),Ox(t,r,!1);break;case"textarea":pf(t),Px(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?rs(t,!!r.multiple,o,!1):r.defaultValue!=null&&rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)GC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=jo(Ml.current),jo(Sr.current),Sf(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(o=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:xf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Kt(e),null;case 13:if(qe(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&On!==null&&(e.mode&1)!==0&&(e.flags&128)===0)cC(),ys(),e.flags|=98560,o=!1;else if(o=Sf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(W(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[gr]=e}else ys(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Kt(e),o=!1}else sr!==null&&(Fy(sr),sr=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ze.current&1)!==0?vt===0&&(vt=3):A1())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return _s(),Cy(t,e),t===null&&Cl(e.stateNode.containerInfo),Kt(e),null;case 10:return c1(e.type._context),Kt(e),null;case 17:return bn(e.type)&&Gh(),Kt(e),null;case 19:if(qe(Ze),o=e.memoizedState,o===null)return Kt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Tu(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(a=ed(t),a!==null){for(e.flags|=128,Tu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>xs&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=ed(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ke)return Kt(e),null}else 2*ut()-o.renderingStartTime>xs&&n!==1073741824&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=Ze.current,Ue(Ze,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return I1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(In&1073741824)!==0&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function vj(t,e){switch(a1(e),e.tag){case 1:return bn(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),qe(_n),qe(Jt),m1(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return p1(e),null;case 13:if(qe(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Ze),null;case 4:return _s(),null;case 10:return c1(e.type._context),null;case 22:case 23:return I1(),null;case 24:return null;default:return null}}var If=!1,Yt=!1,yj=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Xa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Py(t,e,n){try{n()}catch(r){rt(t,e,r)}}var _S=!1;function wj(t,e){if(py=zh,t=XO(),i1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++l===i&&(s=a),h===o&&++c===r&&(u=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(my={focusedElem:t,selectionRange:n},zh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var d=m.memoizedProps,w=m.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?d:ir(e.type,d),w);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(y){rt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return m=_S,_S=!1,m}function sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Py(e,n,o)}i=i.next}while(i!==r)}}function Rp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $y(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KC(t){var e=t.alternate;e!==null&&(t.alternate=null,KC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[$l],delete e[yy],delete e[tj],delete e[nj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QC(t){return t.tag===5||t.tag===3||t.tag===4}function bS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wh));else if(r!==4&&(t=t.child,t!==null))for(Ny(t,e,n),t=t.sibling;t!==null;)Ny(t,e,n),t=t.sibling}function My(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}var Dt=null,or=!1;function ci(t,e,n){for(n=n.child;n!==null;)YC(t,e,n),n=n.sibling}function YC(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(kp,n)}catch{}switch(n.tag){case 5:Yt||Xa(n,e);case 6:var r=Dt,i=or;Dt=null,ci(t,e,n),Dt=r,or=i,Dt!==null&&(or?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(or?(t=Dt,n=n.stateNode,t.nodeType===8?Pg(t.parentNode,n):t.nodeType===1&&Pg(t,n),Al(t)):Pg(Dt,n.stateNode));break;case 4:r=Dt,i=or,Dt=n.stateNode.containerInfo,or=!0,ci(t,e,n),Dt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&((o&2)!==0||(o&4)!==0)&&Py(n,e,a),i=i.next}while(i!==r)}ci(t,e,n);break;case 1:if(!Yt&&(Xa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){rt(n,e,s)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,ci(t,e,n),Yt=r):ci(t,e,n);break;default:ci(t,e,n)}}function xS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yj),e.forEach(function(r){var i=kj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Dt=s.stateNode,or=!1;break e;case 3:Dt=s.stateNode.containerInfo,or=!0;break e;case 4:Dt=s.stateNode.containerInfo,or=!0;break e}s=s.return}if(Dt===null)throw Error(W(160));YC(o,a,i),Dt=null,or=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){rt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XC(e,t),e=e.sibling}function XC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),pr(t),r&4){try{sl(3,t,t.return),Rp(3,t)}catch(d){rt(t,t.return,d)}try{sl(5,t,t.return)}catch(d){rt(t,t.return,d)}}break;case 1:nr(e,t),pr(t),r&512&&n!==null&&Xa(n,n.return);break;case 5:if(nr(e,t),pr(t),r&512&&n!==null&&Xa(n,n.return),t.flags&32){var i=t.stateNode;try{Sl(i,"")}catch(d){rt(t,t.return,d)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&yO(i,o),iy(s,a);var l=iy(s,o);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?SO(i,f):c==="dangerouslySetInnerHTML"?bO(i,f):c==="children"?Sl(i,f):Hw(i,c,f,l)}switch(s){case"input":Zv(i,o);break;case"textarea":wO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?rs(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?rs(i,!!o.multiple,o.defaultValue,!0):rs(i,!!o.multiple,o.multiple?[]:"",!1))}i[$l]=o}catch(d){rt(t,t.return,d)}}break;case 6:if(nr(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(d){rt(t,t.return,d)}}break;case 3:if(nr(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(d){rt(t,t.return,d)}break;case 4:nr(e,t),pr(t);break;case 13:nr(e,t),pr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(E1=ut())),r&4&&xS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(l=Yt)||c,nr(e,t),Yt=l):nr(e,t),pr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(ne=t,c=t.child;c!==null;){for(f=ne=c;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:sl(4,h,h.return);break;case 1:Xa(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(d){rt(r,n,d)}}break;case 5:Xa(h,h.return);break;case 22:if(h.memoizedState!==null){ES(f);continue}}p!==null?(p.return=h,ne=p):ES(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=xO("display",a))}catch(d){rt(t,t.return,d)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(d){rt(t,t.return,d)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(e,t),pr(t),r&4&&xS(t);break;case 21:break;default:nr(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QC(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sl(i,""),r.flags&=-33);var o=bS(t);My(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=bS(t);Ny(t,s,a);break;default:throw Error(W(161))}}catch(u){rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _j(t,e,n){ne=t,JC(t)}function JC(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||If;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||Yt;s=If;var l=Yt;if(If=a,(Yt=u)&&!l)for(ne=i;ne!==null;)a=ne,u=a.child,a.tag===22&&a.memoizedState!==null?TS(i):u!==null?(u.return=a,ne=u):TS(i);for(;o!==null;)ne=o,JC(o),o=o.sibling;ne=i,If=s,Yt=l}SS(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,ne=o):SS(t)}}function SS(t){for(;ne!==null;){var e=ne;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Yt||Rp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&aS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Yt||e.flags&512&&$y(e)}catch(h){rt(e,e.return,h)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ES(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function TS(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rp(4,e)}catch(u){rt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){rt(e,i,u)}}var o=e.return;try{$y(e)}catch(u){rt(e,o,u)}break;case 5:var a=e.return;try{$y(e)}catch(u){rt(e,a,u)}}}catch(u){rt(e,e.return,u)}if(e===t){ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ne=s;break}ne=e.return}}var bj=Math.ceil,rd=oi.ReactCurrentDispatcher,x1=oi.ReactCurrentOwner,Yn=oi.ReactCurrentBatchConfig,Ie=0,Tt=null,ht=null,Bt=0,In=0,Ja=ro(0),vt=0,Fl=null,Jo=0,Lp=0,S1=0,ul=null,mn=null,E1=0,xs=1/0,Fr=null,id=!1,Dy=null,Di=null,Af=!1,ki=null,od=0,ll=0,Ry=null,oh=-1,ah=0;function cn(){return(Ie&6)!==0?ut():oh!==-1?oh:oh=ut()}function Ri(t){return(t.mode&1)===0?1:(Ie&2)!==0&&Bt!==0?Bt&-Bt:ij.transition!==null?(ah===0&&(ah=DO()),ah):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:VO(t.type)),t)}function cr(t,e,n,r){if(50<ll)throw ll=0,Ry=null,Error(W(185));bc(t,n,r),((Ie&2)===0||t!==Tt)&&(t===Tt&&((Ie&2)===0&&(Lp|=n),vt===4&&_i(t,Bt)),xn(t,r),n===1&&Ie===0&&(e.mode&1)===0&&(xs=ut()+500,Np&&io()))}function xn(t,e){var n=t.callbackNode;iF(t,e);var r=Vh(t,t===Tt?Bt:0);if(r===0)n!==null&&Mx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mx(n),e===1)t.tag===0?rj(IS.bind(null,t)):sC(IS.bind(null,t)),ZF(function(){(Ie&6)===0&&io()}),n=null;else{switch(RO(r)){case 1:n=Yw;break;case 4:n=NO;break;case 16:n=Bh;break;case 536870912:n=MO;break;default:n=Bh}n=aP(n,ZC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZC(t,e){if(oh=-1,ah=0,(Ie&6)!==0)throw Error(W(327));var n=t.callbackNode;if(us()&&t.callbackNode!==n)return null;var r=Vh(t,t===Tt?Bt:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=ad(t,r);else{e=r;var i=Ie;Ie|=2;var o=tP();(Tt!==t||Bt!==e)&&(Fr=null,xs=ut()+500,Ho(t,e));do try{Ej();break}catch(s){eP(t,s)}while(1);l1(),rd.current=o,Ie=i,ht!==null?e=0:(Tt=null,Bt=0,e=vt)}if(e!==0){if(e===2&&(i=ly(t),i!==0&&(r=i,e=Ly(t,i))),e===1)throw n=Fl,Ho(t,0),_i(t,r),xn(t,ut()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,(r&30)===0&&!xj(i)&&(e=ad(t,r),e===2&&(o=ly(t),o!==0&&(r=o,e=Ly(t,o))),e===1))throw n=Fl,Ho(t,0),_i(t,r),xn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Eo(t,mn,Fr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=E1+500-ut(),10<e)){if(Vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vy(Eo.bind(null,t,mn,Fr),e);break}Eo(t,mn,Fr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-lr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bj(r/1960))-r,10<r){t.timeoutHandle=vy(Eo.bind(null,t,mn,Fr),r);break}Eo(t,mn,Fr);break;case 5:Eo(t,mn,Fr);break;default:throw Error(W(329))}}}return xn(t,ut()),t.callbackNode===n?ZC.bind(null,t):null}function Ly(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(Ho(t,e).flags|=256),t=ad(t,e),t!==2&&(e=mn,mn=n,e!==null&&Fy(e)),t}function Fy(t){mn===null?mn=t:mn.push.apply(mn,t)}function xj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~S1,e&=~Lp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function IS(t){if((Ie&6)!==0)throw Error(W(327));us();var e=Vh(t,0);if((e&1)===0)return xn(t,ut()),null;var n=ad(t,e);if(t.tag!==0&&n===2){var r=ly(t);r!==0&&(e=r,n=Ly(t,r))}if(n===1)throw n=Fl,Ho(t,0),_i(t,e),xn(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eo(t,mn,Fr),xn(t,ut()),null}function T1(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(xs=ut()+500,Np&&io())}}function Zo(t){ki!==null&&ki.tag===0&&(Ie&6)===0&&us();var e=Ie;Ie|=1;var n=Yn.transition,r=Ne;try{if(Yn.transition=null,Ne=1,t)return t()}finally{Ne=r,Yn.transition=n,Ie=e,(Ie&6)===0&&io()}}function I1(){In=Ja.current,qe(Ja)}function Ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JF(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(a1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gh();break;case 3:_s(),qe(_n),qe(Jt),m1();break;case 5:p1(r);break;case 4:_s();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:c1(r.type._context);break;case 22:case 23:I1()}n=n.return}if(Tt=t,ht=t=Li(t.current,null),Bt=In=e,vt=0,Fl=null,S1=Lp=Jo=0,mn=ul=null,Fo!==null){for(e=0;e<Fo.length;e++)if(n=Fo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Fo=null}return t}function eP(t,e){do{var n=ht;try{if(l1(),nh.current=nd,td){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}td=!1}if(Xo=0,St=gt=tt=null,al=!1,Dl=0,x1.current=null,n===null||n.return===null){vt=1,Fl=e,ht=null;break}e:{var o=t,a=n.return,s=n,u=e;if(e=Bt,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=dS(a);if(p!==null){p.flags&=-257,pS(p,a,s,o,e),p.mode&1&&hS(o,l,e),e=p,u=l;var m=e.updateQueue;if(m===null){var d=new Set;d.add(u),e.updateQueue=d}else m.add(u);break e}else{if((e&1)===0){hS(o,l,e),A1();break e}u=Error(W(426))}}else if(Ke&&s.mode&1){var w=dS(a);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),pS(w,a,s,o,e),s1(bs(u,s));break e}}o=u=bs(u,s),vt!==4&&(vt=2),ul===null?ul=[o]:ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=LC(o,u,e);oS(o,g);break e;case 1:s=u;var _=o.type,v=o.stateNode;if((o.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Di===null||!Di.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=FC(o,s,e);oS(o,y);break e}}o=o.return}while(o!==null)}rP(n)}catch(b){e=b,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function tP(){var t=rd.current;return rd.current=nd,t===null?nd:t}function A1(){(vt===0||vt===3||vt===2)&&(vt=4),Tt===null||(Jo&268435455)===0&&(Lp&268435455)===0||_i(Tt,Bt)}function ad(t,e){var n=Ie;Ie|=2;var r=tP();(Tt!==t||Bt!==e)&&(Fr=null,Ho(t,e));do try{Sj();break}catch(i){eP(t,i)}while(1);if(l1(),Ie=n,rd.current=r,ht!==null)throw Error(W(261));return Tt=null,Bt=0,vt}function Sj(){for(;ht!==null;)nP(ht)}function Ej(){for(;ht!==null&&!QL();)nP(ht)}function nP(t){var e=oP(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?rP(t):ht=e,x1.current=null}function rP(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=gj(n,e,In),n!==null){ht=n;return}}else{if(n=vj(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ht=null;return}}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);vt===0&&(vt=5)}function Eo(t,e,n){var r=Ne,i=Yn.transition;try{Yn.transition=null,Ne=1,Tj(t,e,n,r)}finally{Yn.transition=i,Ne=r}return null}function Tj(t,e,n,r){do us();while(ki!==null);if((Ie&6)!==0)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oF(t,o),t===Tt&&(ht=Tt=null,Bt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Af||(Af=!0,aP(Bh,function(){return us(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Yn.transition,Yn.transition=null;var a=Ne;Ne=1;var s=Ie;Ie|=4,x1.current=null,wj(t,n),XC(n,t),HF(my),zh=!!py,my=py=null,t.current=n,_j(n),YL(),Ie=s,Ne=a,Yn.transition=o}else t.current=n;if(Af&&(Af=!1,ki=t,od=i),o=t.pendingLanes,o===0&&(Di=null),ZL(n.stateNode),xn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(id)throw id=!1,t=Dy,Dy=null,t;return(od&1)!==0&&t.tag!==0&&us(),o=t.pendingLanes,(o&1)!==0?t===Ry?ll++:(ll=0,Ry=t):ll=0,io(),null}function us(){if(ki!==null){var t=RO(od),e=Yn.transition,n=Ne;try{if(Yn.transition=null,Ne=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,od=0,(Ie&6)!==0)throw Error(W(331));var i=Ie;for(Ie|=4,ne=t.current;ne!==null;){var o=ne,a=o.child;if((ne.flags&16)!==0){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(ne=l;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:sl(8,c,o)}var f=c.child;if(f!==null)f.return=c,ne=f;else for(;ne!==null;){c=ne;var h=c.sibling,p=c.return;if(KC(c),c===l){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var m=o.alternate;if(m!==null){var d=m.child;if(d!==null){m.child=null;do{var w=d.sibling;d.sibling=null,d=w}while(d!==null)}}ne=o}}if((o.subtreeFlags&2064)!==0&&a!==null)a.return=o,ne=a;else e:for(;ne!==null;){if(o=ne,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:sl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ne=g;break e}ne=o.return}}var _=t.current;for(ne=_;ne!==null;){a=ne;var v=a.child;if((a.subtreeFlags&2064)!==0&&v!==null)v.return=a,ne=v;else e:for(a=_;ne!==null;){if(s=ne,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Rp(9,s)}}catch(b){rt(s,s.return,b)}if(s===a){ne=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,ne=y;break e}ne=s.return}}if(Ie=i,io(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(kp,t)}catch{}r=!0}return r}finally{Ne=n,Yn.transition=e}}return!1}function AS(t,e,n){e=bs(n,e),e=LC(t,e,1),t=Mi(t,e,1),e=cn(),t!==null&&(bc(t,1,e),xn(t,e))}function rt(t,e,n){if(t.tag===3)AS(t,t,n);else for(;e!==null;){if(e.tag===3){AS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=bs(n,t),t=FC(e,t,1),e=Mi(e,t,1),t=cn(),e!==null&&(bc(e,1,t),xn(e,t));break}}e=e.return}}function Ij(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Bt&n)===n&&(vt===4||vt===3&&(Bt&130023424)===Bt&&500>ut()-E1?Ho(t,0):S1|=n),xn(t,e)}function iP(t,e){e===0&&((t.mode&1)===0?e=1:(e=vf,vf<<=1,(vf&130023424)===0&&(vf=4194304)));var n=cn();t=Jr(t,e),t!==null&&(bc(t,e,n),xn(t,n))}function Aj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iP(t,n)}function kj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),iP(t,n)}var oP;oP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return vn=!1,mj(t,e,n);vn=(t.flags&131072)!==0}else vn=!1,Ke&&(e.flags&1048576)!==0&&uC(e,Yh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ih(t,e),t=e.pendingProps;var i=vs(e,Jt.current);ss(e,n),i=v1(null,e,r,t,i,n);var o=y1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Kh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h1(e),i.updater=Mp,e.stateNode=i,i._reactInternals=e,Ey(e,r,t,n),e=Ay(null,e,r,!0,o,n)):(e.tag=0,Ke&&o&&o1(e),en(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ih(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Cj(r),t=ir(r,t),i){case 0:e=Iy(null,e,r,t,n);break e;case 1:e=vS(null,e,r,t,n);break e;case 11:e=mS(null,e,r,t,n);break e;case 14:e=gS(null,e,r,ir(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Iy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),vS(t,e,r,i,n);case 3:e:{if(VC(e),t===null)throw Error(W(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hC(t,e),Zh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bs(Error(W(423)),e),e=yS(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(W(424)),e),e=yS(t,e,r,n,i);break e}else for(On=Ni(e.stateNode.containerInfo.firstChild),Pn=e,Ke=!0,sr=null,n=gC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===i){e=Zr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return vC(e),t===null&&by(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,gy(r,i)?a=null:o!==null&&gy(r,o)&&(e.flags|=32),BC(t,e),en(t,e,a,n),e.child;case 6:return t===null&&by(e),null;case 13:return zC(t,e,n);case 4:return d1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),mS(t,e,r,i,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ue(Xh,r._currentValue),r._currentValue=a,o!==null)if(fr(o.value,a)){if(o.children===i.children&&!_n.current){e=Zr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Kr(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),xy(o.return,n,e),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xy(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}en(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ss(e,n),i=Xn(i),r=r(i),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),gS(t,e,r,i,n);case 15:return jC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),ih(t,e),e.tag=1,bn(r)?(t=!0,Kh(e)):t=!1,ss(e,n),pC(e,r,i),Ey(e,r,i,n),Ay(null,e,r,!0,t,n);case 19:return qC(t,e,n);case 22:return UC(t,e,n)}throw Error(W(156,e.tag))};function aP(t,e){return $O(t,e)}function Oj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new Oj(t,e,n,r)}function k1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cj(t){if(typeof t=="function")return k1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gw)return 11;if(t===Kw)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")k1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Va:return Wo(n.children,i,o,e);case Ww:a=8,i|=8;break;case Kv:return t=Gn(12,n,e,i|2),t.elementType=Kv,t.lanes=o,t;case Qv:return t=Gn(13,n,e,i),t.elementType=Qv,t.lanes=o,t;case Yv:return t=Gn(19,n,e,i),t.elementType=Yv,t.lanes=o,t;case mO:return Fp(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dO:a=10;break e;case pO:a=9;break e;case Gw:a=11;break e;case Kw:a=14;break e;case gi:a=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Gn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wo(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Fp(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=mO,t.lanes=n,t.stateNode={isHidden:!1},t}function jg(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Ug(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_g(0),this.expirationTimes=_g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O1(t,e,n,r,i,o,a,s,u){return t=new Pj(t,e,n,s,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},h1(o),t}function $j(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sP(t){if(!t)return qi;t=t._reactInternals;e:{if(_a(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(bn(n))return aC(t,n,e)}return e}function uP(t,e,n,r,i,o,a,s,u){return t=O1(n,r,!0,t,i,o,a,s,u),t.context=sP(null),n=t.current,r=cn(),i=Ri(n),o=Kr(r,i),o.callback=e!=null?e:null,Mi(n,o,i),t.current.lanes=i,bc(t,i,r),xn(t,r),t}function jp(t,e,n,r){var i=e.current,o=cn(),a=Ri(i);return n=sP(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mi(i,e,a),t!==null&&(cr(t,i,a,o),th(t,i,a)),a}function sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function C1(t,e){kS(t,e),(t=t.alternate)&&kS(t,e)}function Nj(){return null}var lP=typeof reportError=="function"?reportError:function(t){console.error(t)};function P1(t){this._internalRoot=t}Up.prototype.render=P1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));jp(t,e,null,null)};Up.prototype.unmount=P1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zo(function(){jp(null,t,null,null)}),e[Xr]=null}};function Up(t){this._internalRoot=t}Up.prototype.unstable_scheduleHydration=function(t){if(t){var e=jO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&BO(t)}};function $1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function OS(){}function Mj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=sd(a);o.call(l)}}var a=uP(e,r,t,0,null,!1,!1,"",OS);return t._reactRootContainer=a,t[Xr]=a.current,Cl(t.nodeType===8?t.parentNode:t),Zo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var l=sd(u);s.call(l)}}var u=O1(t,0,!1,null,null,!1,!1,"",OS);return t._reactRootContainer=u,t[Xr]=u.current,Cl(t.nodeType===8?t.parentNode:t),Zo(function(){jp(e,u,n,r)}),u}function Vp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=sd(a);s.call(u)}}jp(e,a,t,i)}else a=Mj(n,e,t,i,r);return sd(a)}LO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wu(e.pendingLanes);n!==0&&(Xw(e,n|1),xn(e,ut()),(Ie&6)===0&&(xs=ut()+500,io()))}break;case 13:Zo(function(){var r=Jr(t,1);if(r!==null){var i=cn();cr(r,t,1,i)}}),C1(t,1)}};Jw=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=cn();cr(e,t,134217728,n)}C1(t,134217728)}};FO=function(t){if(t.tag===13){var e=Ri(t),n=Jr(t,e);if(n!==null){var r=cn();cr(n,t,e,r)}C1(t,e)}};jO=function(){return Ne};UO=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};ay=function(t,e,n){switch(e){case"input":if(Zv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$p(r);if(!i)throw Error(W(90));vO(r),Zv(r,i)}}}break;case"textarea":wO(t,n);break;case"select":e=n.value,e!=null&&rs(t,!!n.multiple,e,!1)}};IO=T1;AO=Zo;var Dj={usingClientEntryPoint:!1,Events:[Sc,Wa,$p,EO,TO,T1]},Iu={findFiberByHostInstance:Lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Rj={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CO(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||Nj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{kp=kf.inject(Rj),xr=kf}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$1(e))throw Error(W(200));return $j(t,e,null,n)};Ln.createRoot=function(t,e){if(!$1(t))throw Error(W(299));var n=!1,r="",i=lP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=O1(t,1,!1,null,null,n,!1,r,i),t[Xr]=e.current,Cl(t.nodeType===8?t.parentNode:t),new P1(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=CO(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Zo(t)};Ln.hydrate=function(t,e,n){if(!Bp(e))throw Error(W(200));return Vp(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!$1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=lP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=uP(e,null,t,1,n!=null?n:null,i,!1,o,a),t[Xr]=e.current,Cl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Up(e)};Ln.render=function(t,e,n){if(!Bp(e))throw Error(W(200));return Vp(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Bp(t))throw Error(W(40));return t._reactRootContainer?(Zo(function(){Vp(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};Ln.unstable_batchedUpdates=T1;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bp(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Vp(t,e,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";function cP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cP)}catch(t){console.error(t)}}cP(),uO.exports=Ln;var CS=uO.exports;Wv.createRoot=CS.createRoot,Wv.hydrateRoot=CS.hydrateRoot;function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jy(t,e)}function $r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jy(t,e)}var fP={exports:{}},Lj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fj=Lj,jj=Fj;function hP(){}function dP(){}dP.resetWarningCache=hP;var Uj=function(){function t(r,i,o,a,s,u){if(u!==jj){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dP,resetWarningCache:hP};return n.PropTypes=n,n};fP.exports=Uj();var ve=fP.exports;function Ht(){return Ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ht.apply(this,arguments)}function Of(t){return t.charAt(0)==="/"}function Bg(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Bj(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Of(t),o=e&&Of(e),a=i||o;if(t&&Of(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s;if(r.length){var u=r[r.length-1];s=u==="."||u===".."||u===""}else s=!1;for(var l=0,c=r.length;c>=0;c--){var f=r[c];f==="."?Bg(r,c):f===".."?(Bg(r,c),l++):l&&(Bg(r,c),l--)}if(!a)for(;l--;l)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Of(r[0]))&&r.unshift("");var h=r.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}function PS(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function uh(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,o){return uh(i,e[o])});if(typeof t=="object"||typeof e=="object"){var n=PS(t),r=PS(e);return n!==t||r!==e?uh(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return uh(t[i],e[i])})}return!1}var Vj=!0,Vg="Invariant failed";function oo(t,e){if(!t){if(Vj)throw new Error(Vg);var n=typeof e=="function"?e():e,r=n?Vg+": "+n:Vg;throw new Error(r)}}function cl(t){return t.charAt(0)==="/"?t:"/"+t}function $S(t){return t.charAt(0)==="/"?t.substr(1):t}function zj(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function pP(t,e){return zj(t,e)?t.substr(e.length):t}function mP(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function qj(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function qn(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function sn(t,e,n,r){var i;typeof t=="string"?(i=qj(t),i.state=e):(i=Ht({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Bj(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Hj(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&uh(t.state,e.state)}function N1(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function n(a,s,u,l){if(t!=null){var c=typeof t=="function"?t(a,s):t;typeof c=="string"?typeof u=="function"?u(c,l):l(!0):l(c!==!1)}else l(!0)}var r=[];function i(a){var s=!0;function u(){s&&a.apply(void 0,arguments)}return r.push(u),function(){s=!1,r=r.filter(function(l){return l!==u})}}function o(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];r.forEach(function(l){return l.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var gP=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function vP(t,e){e(window.confirm(t))}function Wj(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Gj(){return window.navigator.userAgent.indexOf("Trident")===-1}function Kj(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Qj(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var NS="popstate",MS="hashchange";function DS(){try{return window.history.state||{}}catch{return{}}}function Yj(t){t===void 0&&(t={}),gP||oo(!1);var e=window.history,n=Wj(),r=!Gj(),i=t,o=i.forceRefresh,a=o===void 0?!1:o,s=i.getUserConfirmation,u=s===void 0?vP:s,l=i.keyLength,c=l===void 0?6:l,f=t.basename?mP(cl(t.basename)):"";function h($){var M=$||{},H=M.key,q=M.state,ae=window.location,ce=ae.pathname,pe=ae.search,se=ae.hash,le=ce+pe+se;return f&&(le=pP(le,f)),sn(le,q,H)}function p(){return Math.random().toString(36).substr(2,c)}var m=N1();function d($){Ht(C,$),C.length=e.length,m.notifyListeners(C.location,C.action)}function w($){Qj($)||v(h($.state))}function g(){v(h(DS()))}var _=!1;function v($){if(_)_=!1,d();else{var M="POP";m.confirmTransitionTo($,M,u,function(H){H?d({action:M,location:$}):y($)})}}function y($){var M=C.location,H=x.indexOf(M.key);H===-1&&(H=0);var q=x.indexOf($.key);q===-1&&(q=0);var ae=H-q;ae&&(_=!0,A(ae))}var b=h(DS()),x=[b.key];function S($){return f+qn($)}function E($,M){var H="PUSH",q=sn($,M,p(),C.location);m.confirmTransitionTo(q,H,u,function(ae){if(!!ae){var ce=S(q),pe=q.key,se=q.state;if(n)if(e.pushState({key:pe,state:se},null,ce),a)window.location.href=ce;else{var le=x.indexOf(C.location.key),K=x.slice(0,le+1);K.push(q.key),x=K,d({action:H,location:q})}else window.location.href=ce}})}function T($,M){var H="REPLACE",q=sn($,M,p(),C.location);m.confirmTransitionTo(q,H,u,function(ae){if(!!ae){var ce=S(q),pe=q.key,se=q.state;if(n)if(e.replaceState({key:pe,state:se},null,ce),a)window.location.replace(ce);else{var le=x.indexOf(C.location.key);le!==-1&&(x[le]=q.key),d({action:H,location:q})}else window.location.replace(ce)}})}function A($){e.go($)}function I(){A(-1)}function N(){A(1)}var k=0;function R($){k+=$,k===1&&$===1?(window.addEventListener(NS,w),r&&window.addEventListener(MS,g)):k===0&&(window.removeEventListener(NS,w),r&&window.removeEventListener(MS,g))}var B=!1;function j($){$===void 0&&($=!1);var M=m.setPrompt($);return B||(R(1),B=!0),function(){return B&&(B=!1,R(-1)),M()}}function X($){var M=m.appendListener($);return R(1),function(){R(-1),M()}}var C={length:e.length,action:"POP",location:b,createHref:S,push:E,replace:T,go:A,goBack:I,goForward:N,block:j,listen:X};return C}var RS="hashchange",Xj={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+$S(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:$S,decodePath:cl},slash:{encodePath:cl,decodePath:cl}};function yP(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Au(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Jj(t){window.location.hash=t}function zg(t){window.location.replace(yP(window.location.href)+"#"+t)}function Zj(t){t===void 0&&(t={}),gP||oo(!1);var e=window.history;Kj();var n=t,r=n.getUserConfirmation,i=r===void 0?vP:r,o=n.hashType,a=o===void 0?"slash":o,s=t.basename?mP(cl(t.basename)):"",u=Xj[a],l=u.encodePath,c=u.decodePath;function f(){var M=c(Au());return s&&(M=pP(M,s)),sn(M)}var h=N1();function p(M){Ht($,M),$.length=e.length,h.notifyListeners($.location,$.action)}var m=!1,d=null;function w(M,H){return M.pathname===H.pathname&&M.search===H.search&&M.hash===H.hash}function g(){var M=Au(),H=l(M);if(M!==H)zg(H);else{var q=f(),ae=$.location;if(!m&&w(ae,q)||d===qn(q))return;d=null,_(q)}}function _(M){if(m)m=!1,p();else{var H="POP";h.confirmTransitionTo(M,H,i,function(q){q?p({action:H,location:M}):v(M)})}}function v(M){var H=$.location,q=S.lastIndexOf(qn(H));q===-1&&(q=0);var ae=S.lastIndexOf(qn(M));ae===-1&&(ae=0);var ce=q-ae;ce&&(m=!0,I(ce))}var y=Au(),b=l(y);y!==b&&zg(b);var x=f(),S=[qn(x)];function E(M){var H=document.querySelector("base"),q="";return H&&H.getAttribute("href")&&(q=yP(window.location.href)),q+"#"+l(s+qn(M))}function T(M,H){var q="PUSH",ae=sn(M,void 0,void 0,$.location);h.confirmTransitionTo(ae,q,i,function(ce){if(!!ce){var pe=qn(ae),se=l(s+pe),le=Au()!==se;if(le){d=pe,Jj(se);var K=S.lastIndexOf(qn($.location)),F=S.slice(0,K+1);F.push(pe),S=F,p({action:q,location:ae})}else p()}})}function A(M,H){var q="REPLACE",ae=sn(M,void 0,void 0,$.location);h.confirmTransitionTo(ae,q,i,function(ce){if(!!ce){var pe=qn(ae),se=l(s+pe),le=Au()!==se;le&&(d=pe,zg(se));var K=S.indexOf(qn($.location));K!==-1&&(S[K]=pe),p({action:q,location:ae})}})}function I(M){e.go(M)}function N(){I(-1)}function k(){I(1)}var R=0;function B(M){R+=M,R===1&&M===1?window.addEventListener(RS,g):R===0&&window.removeEventListener(RS,g)}var j=!1;function X(M){M===void 0&&(M=!1);var H=h.setPrompt(M);return j||(B(1),j=!0),function(){return j&&(j=!1,B(-1)),H()}}function C(M){var H=h.appendListener(M);return B(1),function(){B(-1),H()}}var $={length:e.length,action:"POP",location:x,createHref:E,push:T,replace:A,go:I,goBack:N,goForward:k,block:X,listen:C};return $}function LS(t,e,n){return Math.min(Math.max(t,e),n)}function eU(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,u=s===void 0?6:s,l=N1();function c(E){Ht(S,E),S.length=S.entries.length,l.notifyListeners(S.location,S.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=LS(a,0,i.length-1),p=i.map(function(E){return typeof E=="string"?sn(E,void 0,f()):sn(E,void 0,E.key||f())}),m=qn;function d(E,T){var A="PUSH",I=sn(E,T,f(),S.location);l.confirmTransitionTo(I,A,n,function(N){if(!!N){var k=S.index,R=k+1,B=S.entries.slice(0);B.length>R?B.splice(R,B.length-R,I):B.push(I),c({action:A,location:I,index:R,entries:B})}})}function w(E,T){var A="REPLACE",I=sn(E,T,f(),S.location);l.confirmTransitionTo(I,A,n,function(N){!N||(S.entries[S.index]=I,c({action:A,location:I}))})}function g(E){var T=LS(S.index+E,0,S.entries.length-1),A="POP",I=S.entries[T];l.confirmTransitionTo(I,A,n,function(N){N?c({action:A,location:I,index:T}):c()})}function _(){g(-1)}function v(){g(1)}function y(E){var T=S.index+E;return T>=0&&T<S.entries.length}function b(E){return E===void 0&&(E=!1),l.setPrompt(E)}function x(E){return l.appendListener(E)}var S={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:m,push:d,replace:w,go:g,goBack:_,goForward:v,canGo:y,block:b,listen:x};return S}var qg=1073741823,FS=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function tU(){var t="__global_unique_id__";return FS[t]=(FS[t]||0)+1}function nU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rU(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(o){return o(t,i)})}}}function iU(t){return Array.isArray(t)?t[0]:t}function oU(t,e){var n,r,i="__create-react-context-"+tU()+"__",o=function(s){$r(u,s);function u(){var c;return c=s.apply(this,arguments)||this,c.emitter=rU(c.props.value),c}var l=u.prototype;return l.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},l.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,p=f.value,m;nU(h,p)?m=0:(m=typeof e=="function"?e(h,p):qg,m|=0,m!==0&&this.emitter.set(f.value,m))}},l.render=function(){return this.props.children},u}(G.exports.Component);o.childContextTypes=(n={},n[i]=ve.object.isRequired,n);var a=function(s){$r(u,s);function u(){var c;return c=s.apply(this,arguments)||this,c.state={value:c.getValue()},c.onUpdate=function(f,h){var p=c.observedBits|0;(p&h)!==0&&c.setState({value:c.getValue()})},c}var l=u.prototype;return l.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?qg:h},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?qg:f},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return iU(this.props.children)(this.state.value)},u}(G.exports.Component);return a.contextTypes=(r={},r[i]=ve.object,r),{Provider:o,Consumer:a}}var wP=Z.createContext||oU,Gs={exports:{}},aU=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ud=aU;Gs.exports=xP;Gs.exports.parse=M1;Gs.exports.compile=uU;Gs.exports.tokensToFunction=_P;Gs.exports.tokensToRegExp=bP;var sU=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M1(t,e){for(var n=[],r=0,i=0,o="",a=e&&e.delimiter||"/",s;(s=sU.exec(t))!=null;){var u=s[0],l=s[1],c=s.index;if(o+=t.slice(i,c),i=c+u.length,l){o+=l[1];continue}var f=t[i],h=s[2],p=s[3],m=s[4],d=s[5],w=s[6],g=s[7];o&&(n.push(o),o="");var _=h!=null&&f!=null&&f!==h,v=w==="+"||w==="*",y=w==="?"||w==="*",b=s[2]||a,x=m||d;n.push({name:p||r++,prefix:h||"",delimiter:b,optional:y,repeat:v,partial:_,asterisk:!!g,pattern:x?fU(x):g?".*":"[^"+lh(b)+"]+?"})}return i<t.length&&(o+=t.substr(i)),o&&n.push(o),n}function uU(t,e){return _P(M1(t,e),e)}function lU(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function cU(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _P(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",R1(e)));return function(i,o){for(var a="",s=i||{},u=o||{},l=u.pretty?lU:encodeURIComponent,c=0;c<t.length;c++){var f=t[c];if(typeof f=="string"){a+=f;continue}var h=s[f.name],p;if(h==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(ud(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(p=l(h[m]),!n[c].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");a+=(m===0?f.prefix:f.delimiter)+p}continue}if(p=f.asterisk?cU(h):l(h),!n[c].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');a+=f.prefix+p}return a}}function lh(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function fU(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function D1(t,e){return t.keys=e,t}function R1(t){return t&&t.sensitive?"":"i"}function hU(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return D1(t,e)}function dU(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(xP(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",R1(n));return D1(o,e)}function pU(t,e,n){return bP(M1(t,n),e,n)}function bP(t,e,n){ud(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if(typeof s=="string")o+=lh(s);else{var u=lh(s.prefix),l="(?:"+s.pattern+")";e.push(s),s.repeat&&(l+="(?:"+u+l+")*"),s.optional?s.partial?l=u+"("+l+")?":l="(?:"+u+"("+l+"))?":l=u+"("+l+")",o+=l}}var c=lh(n.delimiter||"/"),f=o.slice(-c.length)===c;return r||(o=(f?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),i?o+="$":o+=r&&f?"":"(?="+c+"|$)",D1(new RegExp("^"+o,R1(n)),e)}function xP(t,e,n){return ud(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?hU(t,e):ud(t)?dU(t,e,n):pU(t,e,n)}var SP=Gs.exports,L1={exports:{}},Me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot=typeof Symbol=="function"&&Symbol.for,F1=Ot?Symbol.for("react.element"):60103,j1=Ot?Symbol.for("react.portal"):60106,zp=Ot?Symbol.for("react.fragment"):60107,qp=Ot?Symbol.for("react.strict_mode"):60108,Hp=Ot?Symbol.for("react.profiler"):60114,Wp=Ot?Symbol.for("react.provider"):60109,Gp=Ot?Symbol.for("react.context"):60110,U1=Ot?Symbol.for("react.async_mode"):60111,Kp=Ot?Symbol.for("react.concurrent_mode"):60111,Qp=Ot?Symbol.for("react.forward_ref"):60112,Yp=Ot?Symbol.for("react.suspense"):60113,mU=Ot?Symbol.for("react.suspense_list"):60120,Xp=Ot?Symbol.for("react.memo"):60115,Jp=Ot?Symbol.for("react.lazy"):60116,gU=Ot?Symbol.for("react.block"):60121,vU=Ot?Symbol.for("react.fundamental"):60117,yU=Ot?Symbol.for("react.responder"):60118,wU=Ot?Symbol.for("react.scope"):60119;function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F1:switch(t=t.type,t){case U1:case Kp:case zp:case Hp:case qp:case Yp:return t;default:switch(t=t&&t.$$typeof,t){case Gp:case Qp:case Jp:case Xp:case Wp:return t;default:return e}}case j1:return e}}}function EP(t){return jn(t)===Kp}Me.AsyncMode=U1;Me.ConcurrentMode=Kp;Me.ContextConsumer=Gp;Me.ContextProvider=Wp;Me.Element=F1;Me.ForwardRef=Qp;Me.Fragment=zp;Me.Lazy=Jp;Me.Memo=Xp;Me.Portal=j1;Me.Profiler=Hp;Me.StrictMode=qp;Me.Suspense=Yp;Me.isAsyncMode=function(t){return EP(t)||jn(t)===U1};Me.isConcurrentMode=EP;Me.isContextConsumer=function(t){return jn(t)===Gp};Me.isContextProvider=function(t){return jn(t)===Wp};Me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F1};Me.isForwardRef=function(t){return jn(t)===Qp};Me.isFragment=function(t){return jn(t)===zp};Me.isLazy=function(t){return jn(t)===Jp};Me.isMemo=function(t){return jn(t)===Xp};Me.isPortal=function(t){return jn(t)===j1};Me.isProfiler=function(t){return jn(t)===Hp};Me.isStrictMode=function(t){return jn(t)===qp};Me.isSuspense=function(t){return jn(t)===Yp};Me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===zp||t===Kp||t===Hp||t===qp||t===Yp||t===mU||typeof t=="object"&&t!==null&&(t.$$typeof===Jp||t.$$typeof===Xp||t.$$typeof===Wp||t.$$typeof===Gp||t.$$typeof===Qp||t.$$typeof===vU||t.$$typeof===yU||t.$$typeof===wU||t.$$typeof===gU)};Me.typeOf=jn;L1.exports=Me;function Zp(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var TP=L1.exports,_U={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IP={};IP[TP.ForwardRef]=_U;IP[TP.Memo]=bU;var xU=function(e){var n=wP();return n.displayName=e,n},SU=xU("Router-History"),EU=function(e){var n=wP();return n.displayName=e,n},ea=EU("Router"),em=function(t){$r(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(o){i._isMounted?i.setState({location:o}):i._pendingLocation=o})),i}var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return Z.createElement(ea.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Z.createElement(SU.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Z.Component);Z.Component;var TU=function(t){$r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(Z.Component),Hg={},IU=1e4,jS=0;function AU(t){if(Hg[t])return Hg[t];var e=SP.compile(t);return jS<IU&&(Hg[t]=e,jS++),e}function US(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:AU(t)(e,{pretty:!0})}function kU(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return Z.createElement(ea.Consumer,null,function(o){o||oo(!1);var a=o.history,s=o.staticContext,u=i?a.push:a.replace,l=sn(e?typeof n=="string"?US(n,e.params):Ht({},n,{pathname:US(n.pathname,e.params)}):n);return s?(u(l),null):Z.createElement(TU,{onMount:function(){u(l)},onUpdate:function(f,h){var p=sn(h.to);Hj(p,Ht({},l,{key:p.key}))||u(l)},to:n})})}var BS={},OU=1e4,VS=0;function CU(t,e){var n=""+e.end+e.strict+e.sensitive,r=BS[n]||(BS[n]={});if(r[t])return r[t];var i=[],o=SP(t,i,e),a={regexp:o,keys:i};return VS<OU&&(r[t]=a,VS++),a}function B1(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=i===void 0?!1:i,a=n.strict,s=a===void 0?!1:a,u=n.sensitive,l=u===void 0?!1:u,c=[].concat(r);return c.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var p=CU(h,{end:o,strict:s,sensitive:l}),m=p.regexp,d=p.keys,w=m.exec(t);if(!w)return null;var g=w[0],_=w.slice(1),v=t===g;return o&&!v?null:{path:h,url:h==="/"&&g===""?"/":g,isExact:v,params:d.reduce(function(y,b,x){return y[b.name]=_[x],y},{})}},null)}var Cf=function(t){$r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Z.createElement(ea.Consumer,null,function(o){o||oo(!1);var a=i.props.location||o.location,s=i.props.computedMatch?i.props.computedMatch:i.props.path?B1(a.pathname,i.props):o.match,u=Ht({},o,{location:a,match:s}),l=i.props,c=l.children,f=l.component,h=l.render;return Array.isArray(c)&&c.length===0&&(c=null),Z.createElement(ea.Provider,{value:u},u.match?c?typeof c=="function"?c(u):c:f?Z.createElement(f,u):h?h(u):null:typeof c=="function"?c(u):null)})},e}(Z.Component);function V1(t){return t.charAt(0)==="/"?t:"/"+t}function PU(t,e){return t?Ht({},e,{pathname:V1(t)+e.pathname}):e}function $U(t,e){if(!t)return e;var n=V1(t);return e.pathname.indexOf(n)!==0?e:Ht({},e,{pathname:e.pathname.substr(n.length)})}function zS(t){return typeof t=="string"?t:qn(t)}function Wg(t){return function(){oo(!1)}}function qS(){}Z.Component;var NU=function(t){$r(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return Z.createElement(ea.Consumer,null,function(o){o||oo(!1);var a=i.props.location||o.location,s,u;return Z.Children.forEach(i.props.children,function(l){if(u==null&&Z.isValidElement(l)){s=l;var c=l.props.path||l.props.from;u=c?B1(a.pathname,Ht({},l.props,{path:c})):o.match}}),u?Z.cloneElement(s,{location:a,computedMatch:u}):null})},e}(Z.Component);Z.useContext;var MU=function(t){$r(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o))||this,r.history=Yj(r.props),r}var n=e.prototype;return n.render=function(){return Z.createElement(em,{history:this.history,children:this.props.children})},e}(Z.Component);Z.Component;var Uy=function(e,n){return typeof e=="function"?e(n):e},AP=function(e,n){return typeof e=="string"?sn(e,null,null,n):e},z1=function(e){return e},Ss=Z.forwardRef;typeof Ss=="undefined"&&(Ss=z1);function DU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var RU=Ss(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Zp(t,["innerRef","navigate","onClick"]),a=o.target,s=Ht({},o,{onClick:function(l){try{i&&i(l)}catch(c){throw l.preventDefault(),c}!l.defaultPrevented&&l.button===0&&(!a||a==="_self")&&!DU(l)&&(l.preventDefault(),r())}});return z1!==Ss?s.ref=e||n:s.ref=n,Z.createElement("a",s)}),LU=Ss(function(t,e){var n=t.component,r=n===void 0?RU:n,i=t.replace,o=t.to,a=t.innerRef,s=Zp(t,["component","replace","to","innerRef"]);return Z.createElement(ea.Consumer,null,function(u){u||oo(!1);var l=u.history,c=AP(Uy(o,u.location),u.location),f=c?l.createHref(c):"",h=Ht({},s,{href:f,navigate:function(){var m=Uy(o,u.location),d=i?l.replace:l.push;d(m)}});return z1!==Ss?h.ref=e||a:h.innerRef=a,Z.createElement(r,h)})}),kP=function(e){return e},ld=Z.forwardRef;typeof ld=="undefined"&&(ld=kP);function FU(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}ld(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,o=i===void 0?"active":i,a=t.activeStyle,s=t.className,u=t.exact,l=t.isActive,c=t.location,f=t.sensitive,h=t.strict,p=t.style,m=t.to,d=t.innerRef,w=Zp(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Z.createElement(ea.Consumer,null,function(g){g||oo(!1);var _=c||g.location,v=AP(Uy(m,_),_),y=v.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?B1(_.pathname,{path:b,exact:u,sensitive:f,strict:h}):null,S=!!(l?l(x,_):x),E=S?FU(s,o):s,T=S?Ht({},p,{},a):p,A=Ht({"aria-current":S&&r||null,className:E,style:T,to:v},w);return kP!==ld?A.ref=e||d:A.innerRef=d,Z.createElement(LU,A)})});var tm={exports:{}},nm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU=G.exports,UU=Symbol.for("react.element"),BU=Symbol.for("react.fragment"),VU=Object.prototype.hasOwnProperty,zU=jU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qU={key:!0,ref:!0,__self:!0,__source:!0};function OP(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)VU.call(e,r)&&!qU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UU,type:t,key:o,ref:a,props:i,_owner:zU.current}}nm.Fragment=BU;nm.jsx=OP;nm.jsxs=OP;tm.exports=nm;const O=tm.exports.jsx,ue=tm.exports.jsxs,HU=tm.exports.Fragment,q1=()=>ue("div",{className:"bg-sidebar",children:[O("div",{className:"logo-sidebar",children:O("div",{className:"logo-image"})}),O("div",{children:ue("ul",{className:"navigate-sidebar",children:[O("a",{href:"/realtime",children:O("button",{type:"button",className:"sidebar-button",children:O("li",{children:"Realtime"})})}),O("a",{href:"/results",children:O("button",{className:"sidebar-button",children:O("li",{children:"Results"})})}),O("a",{href:"/credits",children:O("button",{className:"sidebar-button",children:O("li",{children:"Credit"})})}),O("a",{href:"/",children:O("button",{className:"sidebar-button",children:O("li",{children:"LogOut"})})})]})}),ue("div",{className:"sync-sidebar",children:[O("div",{className:"sync-image"}),"Auto Sync"]})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},PP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|l>>6,p=l&63;u||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||l==null||f==null)throw Error();const h=o<<2|s>>4;if(r.push(h),l!==64){const p=s<<4&240|l>>2;if(r.push(p),f!==64){const m=l<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},GU=function(t){const e=CP(t);return PP.encodeByteArray(e,!0)},cd=function(t){return GU(t).replace(/\./g,"")},KU=function(t){try{return PP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QU(n)||(t[n]=fd(t[n],e[n]));return t}function QU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[cd(JSON.stringify(n)),cd(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $P(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function JU(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZU(){return typeof self=="object"&&self.self===self}function NP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eB(){return ct().indexOf("Electron/")>=0}function DP(){const t=ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tB(){return ct().indexOf("MSAppHost/")>=0}function nB(){return!JU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RP(){return typeof indexedDB=="object"}function rB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="FirebaseError";class ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iB,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?oB(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ao(i,s,r)}}function oB(t,e){return t.replace(aB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(WS(o)&&WS(a)){if(!hd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LP(t,e){const n=new uB(t,e);return n.subscribe.bind(n)}class uB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gg),i.error===void 0&&(i.error=Gg),i.complete===void 0&&(i.complete=Gg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hB(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fB(t){return t===To?void 0:t}function hB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=[];var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const FP={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},pB=Te.INFO,mB={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},gB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rm{constructor(e){this.name=e,this._logLevel=pB,this._logHandler=gB,this._userLogHandler=null,H1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}function vB(t){H1.forEach(e=>{e.setLogLevel(t)})}function yB(t,e){for(const n of H1){let r=null;e&&e.level&&(r=FP[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...a)=>{const s=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(r!=null?r:i.logLevel)&&t({level:Te[o].toLowerCase(),message:s,args:a,type:i.name})}}}const wB=(t,e)=>e.some(n=>t instanceof n);let GS,KS;function _B(){return GS||(GS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bB(){return KS||(KS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jP=new WeakMap,By=new WeakMap,UP=new WeakMap,Kg=new WeakMap,W1=new WeakMap;function xB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Fi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jP.set(n,t)}).catch(()=>{}),W1.set(e,t),e}function SB(t){if(By.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});By.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EB(t){Vy=t(Vy)}function TB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return UP.set(r,e.sort?e.sort():[e]),Fi(r)}:bB().includes(t)?function(...e){return t.apply(Qg(this),e),Fi(jP.get(this))}:function(...e){return Fi(t.apply(Qg(this),e))}}function IB(t){return typeof t=="function"?TB(t):(t instanceof IDBTransaction&&SB(t),wB(t,_B())?new Proxy(t,Vy):t)}function Fi(t){if(t instanceof IDBRequest)return xB(t);if(Kg.has(t))return Kg.get(t);const e=IB(t);return e!==t&&(Kg.set(t,e),W1.set(e,t)),e}const Qg=t=>W1.get(t);function AB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Fi(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Fi(a.result),u.oldVersion,u.newVersion,Fi(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),s.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),s}const kB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],Yg=new Map;function QS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kB.includes(n)))return;const o=async function(a,...s){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(s.shift())),(await Promise.all([l[n](...s),i&&u.done]))[0]};return Yg.set(e,o),o}EB(t=>({...t,get:(e,n,r)=>QS(e,n)||t.get(e,n,r),has:(e,n)=>!!QS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zy="@firebase/app",YS="0.7.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new rm("@firebase/app"),$B="@firebase/app-compat",NB="@firebase/analytics-compat",MB="@firebase/analytics",DB="@firebase/app-check-compat",RB="@firebase/app-check",LB="@firebase/auth",FB="@firebase/auth-compat",jB="@firebase/database",UB="@firebase/database-compat",BB="@firebase/functions",VB="@firebase/functions-compat",zB="@firebase/installations",qB="@firebase/installations-compat",HB="@firebase/messaging",WB="@firebase/messaging-compat",GB="@firebase/performance",KB="@firebase/performance-compat",QB="@firebase/remote-config",YB="@firebase/remote-config-compat",XB="@firebase/storage",JB="@firebase/storage-compat",ZB="@firebase/firestore",eV="@firebase/firestore-compat",tV="firebase",nV="9.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]",rV={[zy]:"fire-core",[$B]:"fire-core-compat",[MB]:"fire-analytics",[NB]:"fire-analytics-compat",[RB]:"fire-app-check",[DB]:"fire-app-check-compat",[LB]:"fire-auth",[FB]:"fire-auth-compat",[jB]:"fire-rtdb",[UB]:"fire-rtdb-compat",[BB]:"fire-fn",[VB]:"fire-fn-compat",[zB]:"fire-iid",[qB]:"fire-iid-compat",[HB]:"fire-fcm",[WB]:"fire-fcm-compat",[GB]:"fire-perf",[KB]:"fire-perf-compat",[QB]:"fire-rc",[YB]:"fire-rc-compat",[XB]:"fire-gcs",[JB]:"fire-gcs-compat",[ZB]:"fire-fst",[eV]:"fire-fst-compat","fire-js":"fire-js",[tV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Map,jl=new Map;function dd(t,e){try{t.container.addComponent(e)}catch(n){G1.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function BP(t,e){t.container.addOrOverwriteComponent(e)}function Wi(t){const e=t.name;if(jl.has(e))return G1.debug(`There were multiple attempts to register component ${e}.`),!1;jl.set(e,t);for(const n of Hi.values())dd(n,t);return!0}function im(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function iV(t,e,n=ta){im(t,e).clearInstance(n)}function oV(){jl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Gi=new ba("app","Firebase",aV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=nV;function VP(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:ta,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Gi.create("bad-app-name",{appName:String(r)});const i=Hi.get(r);if(i){if(hd(t,i.options)&&hd(n,i.config))return i;throw Gi.create("duplicate-app",{appName:r})}const o=new dB(r);for(const s of jl.values())o.addComponent(s);const a=new sV(t,n,o);return Hi.set(r,a),a}function zP(t=ta){const e=Hi.get(t);if(!e)throw Gi.create("no-app",{appName:t});return e}function uV(){return Array.from(Hi.values())}async function qP(t){const e=t.name;Hi.has(e)&&(Hi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Er(t,e,n){var r;let i=(r=rV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),G1.warn(s.join(" "));return}Wi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function HP(t,e){if(t!==null&&typeof t!="function")throw Gi.create("invalid-log-argument");yB(t,e)}function WP(t){vB(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="firebase-heartbeat-database",cV=1,Ul="firebase-heartbeat-store";let Xg=null;function GP(){return Xg||(Xg=AB(lV,cV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ul)}}}).catch(t=>{throw Gi.create("storage-open",{originalErrorMessage:t.message})})),Xg}async function fV(t){var e;try{return(await GP()).transaction(Ul).objectStore(Ul).get(KP(t))}catch(n){throw Gi.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function XS(t,e){var n;try{const i=(await GP()).transaction(Ul,"readwrite");return await i.objectStore(Ul).put(e,KP(t)),i.done}catch(r){throw Gi.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function KP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1024,dV=30*24*60*60*1e3;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=JS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=dV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JS(),{heartbeatsToSend:n,unsentEntries:r}=mV(this._heartbeatsCache.heartbeats),i=cd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function JS(){return new Date().toISOString().substring(0,10)}function mV(t,e=hV){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),ZS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RP()?rB().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return XS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ZS(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){Wi(new ei("platform-logger",e=>new CB(e),"PRIVATE")),Wi(new ei("heartbeat",e=>new pV(e),"PRIVATE")),Er(zy,YS,t),Er(zy,YS,"esm2017"),Er("fire-js","")}vV("");var yV=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:xa,_DEFAULT_ENTRY_NAME:ta,_addComponent:dd,_addOrOverwriteComponent:BP,_apps:Hi,_clearComponents:oV,_components:jl,_getProvider:im,_registerComponent:Wi,_removeServiceInstance:iV,deleteApp:qP,getApp:zP,getApps:uV,initializeApp:VP,onLog:HP,registerVersion:Er,setLogLevel:WP,FirebaseError:ao},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this._delegate=e,this.firebase=n,dd(e,new ei("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),qP(this._delegate)))}_getService(e,n=ta){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ta){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){dd(this._delegate,e)}_addOrOverwriteComponent(e){BP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},eE=new ba("app-compat","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Er,setLogLevel:WP,onLog:HP,apps:null,SDK_VERSION:xa,INTERNAL:{registerComponent:s,removeApp:r,useAsService:u,modularAPIs:yV}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(l){delete e[l]}function i(l){if(l=l||ta,!HS(e,l))throw eE.create("no-app",{appName:l});return e[l]}i.App=t;function o(l,c={}){const f=VP(l,c);if(HS(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function a(){return Object.keys(e).map(l=>e[l])}function s(l){const c=l.name,f=c.replace("-compat","");if(Wi(l)&&l.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw eE.create("invalid-app-argument",{appName:c});return p[f]()};l.serviceProps!==void 0&&fd(h,l.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,c).apply(this,l.multipleInstances?p:[])}}return l.type==="PUBLIC"?n[f]:null}function u(l,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){const t=bV(wV);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:QP,extendNamespace:e,createSubscribe:LP,ErrorFactory:ba,deepExtend:fd});function e(n){fd(t,n)}return t}const xV=QP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new rm("@firebase/app-compat"),SV="@firebase/app-compat",EV="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){Er(SV,EV,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ZU()&&self.firebase!==void 0){tE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&tE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ks=xV;TV();var IV="firebase",AV="9.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.registerVersion(IV,AV,"app-compat");const kV=()=>{const[t,e]=G.exports.useState(""),[n,r]=G.exports.useState(""),[i,o]=G.exports.useState(""),[a,s]=G.exports.useState(""),[u,l]=G.exports.useState(""),[c,f]=G.exports.useState(""),[h,p]=G.exports.useState(""),[m,d]=G.exports.useState(""),[w,g]=G.exports.useState(""),[_,v]=G.exports.useState(""),y=new Date,b=y.toLocaleString("default",{month:"long"}),x=`${y.getDate()} ${b} ${y.getFullYear()}`;console.log(x);const E=Ks.firestore().collection("Measurement"),T=E.doc(x),A=E.doc("12 August 2022");return T.get().then(I=>{I.exists?(console.log("Document data:",I.data()),T.collection("data").orderBy("Time","desc").limit(10).onSnapshot(function(N){const k=N.docs.map(R=>({id:R.id,...R.data()}));console.log(k),r(k[0].Value),e(k[0].Time),s(k[1].Value),o(k[1].Time),f(k[2].Value),l(k[2].Time),d(k[3].Value),p(k[3].Time),v(k[4].Value),g(k[4].Time)})):(console.log("No such document!"),A.collection("data").orderBy("Time","desc").limit(10).onSnapshot(function(N){const k=N.docs.map(R=>({id:R.id,...R.data()}));console.log(k),r(k[0].Value),e(k[0].Time),s(k[1].Value),o(k[1].Time),f(k[2].Value),l(k[2].Time),d(k[3].Value),p(k[3].Time),v(k[4].Value),g(k[4].Time)}))}).catch(I=>{console.log("Error getting document:",I)}),ue("div",{className:"bg-Dataflow",children:["Data recieved Transmission started...",O("h5",{children:"Data"}),ue("li",{children:["Time = ",t," , Amper = ",n," "]}),ue("li",{children:["Time = ",i," , Amper = ",a," "]}),ue("li",{children:["Time = ",u," , Amper = ",c," "]}),ue("li",{children:["Time = ",h," , Amper = ",m," "]}),ue("li",{children:["Time = ",w," , Amper = ",_," "]})]})};var YP={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var a=typeof o;if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=n.apply(null,o);s&&r.push(s)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var u in o)e.call(o,u)&&o[u]&&r.push(u);else r.push(o.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(YP);var He=YP.exports;function OV(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Un=OV;function ch(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ch=function(n){return typeof n}:ch=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ch(t)}var CV=["viewBox","children"],PV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],K1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(G.exports.isValidElement(e)&&(i=e.props),!Un(i))return null;var o={};return Object.keys(i).forEach(function(a){(PV.includes(a)||r&&CV.includes(a)||n&&K1.includes(a))&&(o[a]=i[a])}),o},pd=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(G.exports.isValidElement(e)&&(r=e.props),!Un(r))return null;var i={};return Object.keys(r).forEach(function(o){K1.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},$V=function(e,n,r){return function(i){return e(n,r,i),null}},XP=function(e,n,r){if(!Un(e)||ch(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];K1.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=$V(a,n,r))}),i};function qy(){return qy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function NV(t,e){if(t==null)return{};var n=MV(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function MV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hy(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=NV(t,["children","width","height","viewBox","className","style"]),u=i||{width:n,height:r,x:0,y:0},l=He("recharts-surface",o);return Z.createElement("svg",qy({},$e(s,!0,!0),{className:l,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),version:"1.1"}),e)}function Wy(){return Wy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(this,arguments)}function DV(t,e){if(t==null)return{};var n=RV(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function RV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sn(t){var e=t.children,n=t.className,r=DV(t,["children","className"]),i=He("recharts-layer",n);return Z.createElement("g",Wy({className:i},$e(r,!0)),e)}var LV=typeof ff=="object"&&ff&&ff.Object===Object&&ff,JP=LV,FV=JP,jV=typeof self=="object"&&self&&self.Object===Object&&self,UV=FV||jV||Function("return this")(),Lr=UV,BV=Lr,VV=BV.Symbol,Ic=VV,nE=Ic,ZP=Object.prototype,zV=ZP.hasOwnProperty,qV=ZP.toString,ku=nE?nE.toStringTag:void 0;function HV(t){var e=zV.call(t,ku),n=t[ku];try{t[ku]=void 0;var r=!0}catch{}var i=qV.call(t);return r&&(e?t[ku]=n:delete t[ku]),i}var WV=HV,GV=Object.prototype,KV=GV.toString;function QV(t){return KV.call(t)}var YV=QV,rE=Ic,XV=WV,JV=YV,ZV="[object Null]",e3="[object Undefined]",iE=rE?rE.toStringTag:void 0;function t3(t){return t==null?t===void 0?e3:ZV:iE&&iE in Object(t)?XV(t):JV(t)}var so=t3,n3=so,r3=Un,i3="[object AsyncFunction]",o3="[object Function]",a3="[object GeneratorFunction]",s3="[object Proxy]";function u3(t){if(!r3(t))return!1;var e=n3(t);return e==o3||e==a3||e==i3||e==s3}var ye=u3;function l3(){this.__data__=[],this.size=0}var c3=l3;function f3(t,e){return t===e||t!==t&&e!==e}var Q1=f3,h3=Q1;function d3(t,e){for(var n=t.length;n--;)if(h3(t[n][0],e))return n;return-1}var om=d3,p3=om,m3=Array.prototype,g3=m3.splice;function v3(t){var e=this.__data__,n=p3(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():g3.call(e,n,1),--this.size,!0}var y3=v3,w3=om;function _3(t){var e=this.__data__,n=w3(e,t);return n<0?void 0:e[n][1]}var b3=_3,x3=om;function S3(t){return x3(this.__data__,t)>-1}var E3=S3,T3=om;function I3(t,e){var n=this.__data__,r=T3(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var A3=I3,k3=c3,O3=y3,C3=b3,P3=E3,$3=A3;function Qs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qs.prototype.clear=k3;Qs.prototype.delete=O3;Qs.prototype.get=C3;Qs.prototype.has=P3;Qs.prototype.set=$3;var am=Qs,N3=am;function M3(){this.__data__=new N3,this.size=0}var D3=M3;function R3(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var L3=R3;function F3(t){return this.__data__.get(t)}var j3=F3;function U3(t){return this.__data__.has(t)}var B3=U3,V3=Lr,z3=V3["__core-js_shared__"],q3=z3,Jg=q3,oE=function(){var t=/[^.]+$/.exec(Jg&&Jg.keys&&Jg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function H3(t){return!!oE&&oE in t}var W3=H3,G3=Function.prototype,K3=G3.toString;function Q3(t){if(t!=null){try{return K3.call(t)}catch{}try{return t+""}catch{}}return""}var e$=Q3,Y3=ye,X3=W3,J3=Un,Z3=e$,e4=/[\\^$.*+?()[\]{}|]/g,t4=/^\[object .+?Constructor\]$/,n4=Function.prototype,r4=Object.prototype,i4=n4.toString,o4=r4.hasOwnProperty,a4=RegExp("^"+i4.call(o4).replace(e4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s4(t){if(!J3(t)||X3(t))return!1;var e=Y3(t)?a4:t4;return e.test(Z3(t))}var u4=s4;function l4(t,e){return t==null?void 0:t[e]}var c4=l4,f4=u4,h4=c4;function d4(t,e){var n=h4(t,e);return f4(n)?n:void 0}var Sa=d4,p4=Sa,m4=Lr,g4=p4(m4,"Map"),Y1=g4,v4=Sa,y4=v4(Object,"create"),sm=y4,aE=sm;function w4(){this.__data__=aE?aE(null):{},this.size=0}var _4=w4;function b4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var x4=b4,S4=sm,E4="__lodash_hash_undefined__",T4=Object.prototype,I4=T4.hasOwnProperty;function A4(t){var e=this.__data__;if(S4){var n=e[t];return n===E4?void 0:n}return I4.call(e,t)?e[t]:void 0}var k4=A4,O4=sm,C4=Object.prototype,P4=C4.hasOwnProperty;function $4(t){var e=this.__data__;return O4?e[t]!==void 0:P4.call(e,t)}var N4=$4,M4=sm,D4="__lodash_hash_undefined__";function R4(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=M4&&e===void 0?D4:e,this}var L4=R4,F4=_4,j4=x4,U4=k4,B4=N4,V4=L4;function Ys(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ys.prototype.clear=F4;Ys.prototype.delete=j4;Ys.prototype.get=U4;Ys.prototype.has=B4;Ys.prototype.set=V4;var z4=Ys,sE=z4,q4=am,H4=Y1;function W4(){this.size=0,this.__data__={hash:new sE,map:new(H4||q4),string:new sE}}var G4=W4;function K4(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Q4=K4,Y4=Q4;function X4(t,e){var n=t.__data__;return Y4(e)?n[typeof e=="string"?"string":"hash"]:n.map}var um=X4,J4=um;function Z4(t){var e=J4(this,t).delete(t);return this.size-=e?1:0,e}var ez=Z4,tz=um;function nz(t){return tz(this,t).get(t)}var rz=nz,iz=um;function oz(t){return iz(this,t).has(t)}var az=oz,sz=um;function uz(t,e){var n=sz(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var lz=uz,cz=G4,fz=ez,hz=rz,dz=az,pz=lz;function Xs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xs.prototype.clear=cz;Xs.prototype.delete=fz;Xs.prototype.get=hz;Xs.prototype.has=dz;Xs.prototype.set=pz;var X1=Xs,mz=am,gz=Y1,vz=X1,yz=200;function wz(t,e){var n=this.__data__;if(n instanceof mz){var r=n.__data__;if(!gz||r.length<yz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new vz(r)}return n.set(t,e),this.size=n.size,this}var _z=wz,bz=am,xz=D3,Sz=L3,Ez=j3,Tz=B3,Iz=_z;function Js(t){var e=this.__data__=new bz(t);this.size=e.size}Js.prototype.clear=xz;Js.prototype.delete=Sz;Js.prototype.get=Ez;Js.prototype.has=Tz;Js.prototype.set=Iz;var t$=Js,Az="__lodash_hash_undefined__";function kz(t){return this.__data__.set(t,Az),this}var Oz=kz;function Cz(t){return this.__data__.has(t)}var Pz=Cz,$z=X1,Nz=Oz,Mz=Pz;function md(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new $z;++e<n;)this.add(t[e])}md.prototype.add=md.prototype.push=Nz;md.prototype.has=Mz;var n$=md;function Dz(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var r$=Dz;function Rz(t,e){return t.has(e)}var i$=Rz,Lz=n$,Fz=r$,jz=i$,Uz=1,Bz=2;function Vz(t,e,n,r,i,o){var a=n&Uz,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var f=-1,h=!0,p=n&Bz?new Lz:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],d=e[f];if(r)var w=a?r(d,m,f,e,t,o):r(m,d,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!Fz(e,function(g,_){if(!jz(p,_)&&(m===g||i(m,g,n,r,o)))return p.push(_)})){h=!1;break}}else if(!(m===d||i(m,d,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var o$=Vz,zz=Lr,qz=zz.Uint8Array,Hz=qz;function Wz(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Gz=Wz;function Kz(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var J1=Kz,uE=Ic,lE=Hz,Qz=Q1,Yz=o$,Xz=Gz,Jz=J1,Zz=1,e5=2,t5="[object Boolean]",n5="[object Date]",r5="[object Error]",i5="[object Map]",o5="[object Number]",a5="[object RegExp]",s5="[object Set]",u5="[object String]",l5="[object Symbol]",c5="[object ArrayBuffer]",f5="[object DataView]",cE=uE?uE.prototype:void 0,Zg=cE?cE.valueOf:void 0;function h5(t,e,n,r,i,o,a){switch(n){case f5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case c5:return!(t.byteLength!=e.byteLength||!o(new lE(t),new lE(e)));case t5:case n5:case o5:return Qz(+t,+e);case r5:return t.name==e.name&&t.message==e.message;case a5:case u5:return t==e+"";case i5:var s=Xz;case s5:var u=r&Zz;if(s||(s=Jz),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=e5,a.set(t,e);var c=Yz(s(t),s(e),r,i,o,a);return a.delete(t),c;case l5:if(Zg)return Zg.call(t)==Zg.call(e)}return!1}var d5=h5;function p5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var a$=p5,m5=Array.isArray,Ce=m5,g5=a$,v5=Ce;function y5(t,e,n){var r=e(t);return v5(t)?r:g5(r,n(t))}var w5=y5;function _5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var b5=_5;function x5(){return[]}var S5=x5,E5=b5,T5=S5,I5=Object.prototype,A5=I5.propertyIsEnumerable,fE=Object.getOwnPropertySymbols,k5=fE?function(t){return t==null?[]:(t=Object(t),E5(fE(t),function(e){return A5.call(t,e)}))}:T5,O5=k5;function C5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var P5=C5;function $5(t){return t!=null&&typeof t=="object"}var uo=$5,N5=so,M5=uo,D5="[object Arguments]";function R5(t){return M5(t)&&N5(t)==D5}var L5=R5,hE=L5,F5=uo,s$=Object.prototype,j5=s$.hasOwnProperty,U5=s$.propertyIsEnumerable,B5=hE(function(){return arguments}())?hE:function(t){return F5(t)&&j5.call(t,"callee")&&!U5.call(t,"callee")},Z1=B5,gd={exports:{}};function V5(){return!1}var z5=V5;(function(t,e){var n=Lr,r=z5,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||r;t.exports=l})(gd,gd.exports);var q5=9007199254740991,H5=/^(?:0|[1-9]\d*)$/;function W5(t,e){var n=typeof t;return e=e==null?q5:e,!!e&&(n=="number"||n!="symbol"&&H5.test(t))&&t>-1&&t%1==0&&t<e}var e_=W5,G5=9007199254740991;function K5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G5}var t_=K5,Q5=so,Y5=t_,X5=uo,J5="[object Arguments]",Z5="[object Array]",eq="[object Boolean]",tq="[object Date]",nq="[object Error]",rq="[object Function]",iq="[object Map]",oq="[object Number]",aq="[object Object]",sq="[object RegExp]",uq="[object Set]",lq="[object String]",cq="[object WeakMap]",fq="[object ArrayBuffer]",hq="[object DataView]",dq="[object Float32Array]",pq="[object Float64Array]",mq="[object Int8Array]",gq="[object Int16Array]",vq="[object Int32Array]",yq="[object Uint8Array]",wq="[object Uint8ClampedArray]",_q="[object Uint16Array]",bq="[object Uint32Array]",Ve={};Ve[dq]=Ve[pq]=Ve[mq]=Ve[gq]=Ve[vq]=Ve[yq]=Ve[wq]=Ve[_q]=Ve[bq]=!0;Ve[J5]=Ve[Z5]=Ve[fq]=Ve[eq]=Ve[hq]=Ve[tq]=Ve[nq]=Ve[rq]=Ve[iq]=Ve[oq]=Ve[aq]=Ve[sq]=Ve[uq]=Ve[lq]=Ve[cq]=!1;function xq(t){return X5(t)&&Y5(t.length)&&!!Ve[Q5(t)]}var Sq=xq;function Eq(t){return function(e){return t(e)}}var u$=Eq,Gy={exports:{}};(function(t,e){var n=JP,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Gy,Gy.exports);var Tq=Sq,Iq=u$,dE=Gy.exports,pE=dE&&dE.isTypedArray,Aq=pE?Iq(pE):Tq,l$=Aq,kq=P5,Oq=Z1,Cq=Ce,Pq=gd.exports,$q=e_,Nq=l$,Mq=Object.prototype,Dq=Mq.hasOwnProperty;function Rq(t,e){var n=Cq(t),r=!n&&Oq(t),i=!n&&!r&&Pq(t),o=!n&&!r&&!i&&Nq(t),a=n||r||i||o,s=a?kq(t.length,String):[],u=s.length;for(var l in t)(e||Dq.call(t,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||$q(l,u)))&&s.push(l);return s}var Lq=Rq,Fq=Object.prototype;function jq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Fq;return t===n}var Uq=jq;function Bq(t,e){return function(n){return t(e(n))}}var Vq=Bq,zq=Vq,qq=zq(Object.keys,Object),Hq=qq,Wq=Uq,Gq=Hq,Kq=Object.prototype,Qq=Kq.hasOwnProperty;function Yq(t){if(!Wq(t))return Gq(t);var e=[];for(var n in Object(t))Qq.call(t,n)&&n!="constructor"&&e.push(n);return e}var Xq=Yq,Jq=ye,Zq=t_;function e6(t){return t!=null&&Zq(t.length)&&!Jq(t)}var Ac=e6,t6=Lq,n6=Xq,r6=Ac;function i6(t){return r6(t)?t6(t):n6(t)}var lm=i6,o6=w5,a6=O5,s6=lm;function u6(t){return o6(t,s6,a6)}var l6=u6,mE=l6,c6=1,f6=Object.prototype,h6=f6.hasOwnProperty;function d6(t,e,n,r,i,o){var a=n&c6,s=mE(t),u=s.length,l=mE(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:h6.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var d=!0;o.set(t,e),o.set(e,t);for(var w=a;++f<u;){h=s[f];var g=t[h],_=e[h];if(r)var v=a?r(_,g,h,e,t,o):r(g,_,h,t,e,o);if(!(v===void 0?g===_||i(g,_,n,r,o):v)){d=!1;break}w||(w=h=="constructor")}if(d&&!w){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof b=="function"&&b instanceof b)&&(d=!1)}return o.delete(t),o.delete(e),d}var p6=d6,m6=Sa,g6=Lr,v6=m6(g6,"DataView"),y6=v6,w6=Sa,_6=Lr,b6=w6(_6,"Promise"),x6=b6,S6=Sa,E6=Lr,T6=S6(E6,"Set"),c$=T6,I6=Sa,A6=Lr,k6=I6(A6,"WeakMap"),O6=k6,Ky=y6,Qy=Y1,Yy=x6,Xy=c$,Jy=O6,f$=so,Zs=e$,gE="[object Map]",C6="[object Object]",vE="[object Promise]",yE="[object Set]",wE="[object WeakMap]",_E="[object DataView]",P6=Zs(Ky),$6=Zs(Qy),N6=Zs(Yy),M6=Zs(Xy),D6=Zs(Jy),Io=f$;(Ky&&Io(new Ky(new ArrayBuffer(1)))!=_E||Qy&&Io(new Qy)!=gE||Yy&&Io(Yy.resolve())!=vE||Xy&&Io(new Xy)!=yE||Jy&&Io(new Jy)!=wE)&&(Io=function(t){var e=f$(t),n=e==C6?t.constructor:void 0,r=n?Zs(n):"";if(r)switch(r){case P6:return _E;case $6:return gE;case N6:return vE;case M6:return yE;case D6:return wE}return e});var R6=Io,ev=t$,L6=o$,F6=d5,j6=p6,bE=R6,xE=Ce,SE=gd.exports,U6=l$,B6=1,EE="[object Arguments]",TE="[object Array]",Pf="[object Object]",V6=Object.prototype,IE=V6.hasOwnProperty;function z6(t,e,n,r,i,o){var a=xE(t),s=xE(e),u=a?TE:bE(t),l=s?TE:bE(e);u=u==EE?Pf:u,l=l==EE?Pf:l;var c=u==Pf,f=l==Pf,h=u==l;if(h&&SE(t)){if(!SE(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ev),a||U6(t)?L6(t,e,n,r,i,o):F6(t,e,u,n,r,i,o);if(!(n&B6)){var p=c&&IE.call(t,"__wrapped__"),m=f&&IE.call(e,"__wrapped__");if(p||m){var d=p?t.value():t,w=m?e.value():e;return o||(o=new ev),i(d,w,n,r,o)}}return h?(o||(o=new ev),j6(t,e,n,r,i,o)):!1}var q6=z6,H6=q6,AE=uo;function h$(t,e,n,r,i){return t===e?!0:t==null||e==null||!AE(t)&&!AE(e)?t!==t&&e!==e:H6(t,e,n,r,h$,i)}var n_=h$,W6=t$,G6=n_,K6=1,Q6=2;function Y6(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===void 0&&!(u in t))return!1}else{var f=new W6;if(r)var h=r(l,c,u,t,e,f);if(!(h===void 0?G6(c,l,K6|Q6,r,f):h))return!1}}return!0}var X6=Y6,J6=Un;function Z6(t){return t===t&&!J6(t)}var d$=Z6,e8=d$,t8=lm;function n8(t){for(var e=t8(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,e8(i)]}return e}var r8=n8;function i8(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var p$=i8,o8=X6,a8=r8,s8=p$;function u8(t){var e=a8(t);return e.length==1&&e[0][2]?s8(e[0][0],e[0][1]):function(n){return n===t||o8(n,t,e)}}var l8=u8,c8=so,f8=uo,h8="[object Symbol]";function d8(t){return typeof t=="symbol"||f8(t)&&c8(t)==h8}var eu=d8,p8=Ce,m8=eu,g8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v8=/^\w*$/;function y8(t,e){if(p8(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||m8(t)?!0:v8.test(t)||!g8.test(t)||e!=null&&t in Object(e)}var r_=y8,m$=X1,w8="Expected a function";function i_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(w8);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i_.Cache||m$),n}i_.Cache=m$;var _8=i_,b8=_8,x8=500;function S8(t){var e=b8(t,function(r){return n.size===x8&&n.clear(),r}),n=e.cache;return e}var E8=S8,T8=E8,I8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A8=/\\(\\)?/g,k8=T8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(I8,function(n,r,i,o){e.push(i?o.replace(A8,"$1"):r||n)}),e}),O8=k8;function C8(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var o_=C8,kE=Ic,P8=o_,$8=Ce,N8=eu,M8=1/0,OE=kE?kE.prototype:void 0,CE=OE?OE.toString:void 0;function g$(t){if(typeof t=="string")return t;if($8(t))return P8(t,g$)+"";if(N8(t))return CE?CE.call(t):"";var e=t+"";return e=="0"&&1/t==-M8?"-0":e}var D8=g$,R8=D8;function L8(t){return t==null?"":R8(t)}var v$=L8,F8=Ce,j8=r_,U8=O8,B8=v$;function V8(t,e){return F8(t)?t:j8(t,e)?[t]:U8(B8(t))}var y$=V8,z8=eu,q8=1/0;function H8(t){if(typeof t=="string"||z8(t))return t;var e=t+"";return e=="0"&&1/t==-q8?"-0":e}var cm=H8,W8=y$,G8=cm;function K8(t,e){e=W8(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[G8(e[n++])];return n&&n==r?t:void 0}var a_=K8,Q8=a_;function Y8(t,e,n){var r=t==null?void 0:Q8(t,e);return r===void 0?n:r}var $n=Y8;function X8(t,e){return t!=null&&e in Object(t)}var J8=X8,Z8=y$,eH=Z1,tH=Ce,nH=e_,rH=t_,iH=cm;function oH(t,e,n){e=Z8(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=iH(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&rH(i)&&nH(a,i)&&(tH(t)||eH(t)))}var aH=oH,sH=J8,uH=aH;function lH(t,e){return t!=null&&uH(t,e,sH)}var cH=lH,fH=n_,hH=$n,dH=cH,pH=r_,mH=d$,gH=p$,vH=cm,yH=1,wH=2;function _H(t,e){return pH(t)&&mH(e)?gH(vH(t),e):function(n){var r=hH(n,t);return r===void 0&&r===e?dH(n,t):fH(e,r,yH|wH)}}var bH=_H;function xH(t){return t}var tu=xH;function SH(t){return function(e){return e==null?void 0:e[t]}}var EH=SH,TH=a_;function IH(t){return function(e){return TH(e,t)}}var AH=IH,kH=EH,OH=AH,CH=r_,PH=cm;function $H(t){return CH(t)?kH(PH(t)):OH(t)}var NH=$H,MH=l8,DH=bH,RH=tu,LH=Ce,FH=NH;function jH(t){return typeof t=="function"?t:t==null?RH:typeof t=="object"?LH(t)?DH(t[0],t[1]):MH(t):FH(t)}var lo=jH;function UH(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var w$=UH;function BH(t){return t!==t}var VH=BH;function zH(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qH=zH,HH=w$,WH=VH,GH=qH;function KH(t,e,n){return e===e?GH(t,e,n):HH(t,WH,n)}var QH=KH,YH=QH;function XH(t,e){var n=t==null?0:t.length;return!!n&&YH(t,e,0)>-1}var JH=XH;function ZH(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var eW=ZH;function tW(){}var nW=tW,tv=c$,rW=nW,iW=J1,oW=1/0,aW=tv&&1/iW(new tv([,-0]))[1]==oW?function(t){return new tv(t)}:rW,sW=aW,uW=n$,lW=JH,cW=eW,fW=i$,hW=sW,dW=J1,pW=200;function mW(t,e,n){var r=-1,i=lW,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=cW;else if(o>=pW){var l=e?null:hW(t);if(l)return dW(l);a=!1,i=fW,u=new uW}else u=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}var gW=mW,vW=lo,yW=gW;function wW(t,e){return t&&t.length?yW(t,vW(e)):[]}var vd=wW;function _W(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var bW=_W,xW=bW;function SW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:xW(t,e,n)}var EW=SW,TW="\\ud800-\\udfff",IW="\\u0300-\\u036f",AW="\\ufe20-\\ufe2f",kW="\\u20d0-\\u20ff",OW=IW+AW+kW,CW="\\ufe0e\\ufe0f",PW="\\u200d",$W=RegExp("["+PW+TW+OW+CW+"]");function NW(t){return $W.test(t)}var _$=NW;function MW(t){return t.split("")}var DW=MW,b$="\\ud800-\\udfff",RW="\\u0300-\\u036f",LW="\\ufe20-\\ufe2f",FW="\\u20d0-\\u20ff",jW=RW+LW+FW,UW="\\ufe0e\\ufe0f",BW="["+b$+"]",Zy="["+jW+"]",e0="\\ud83c[\\udffb-\\udfff]",VW="(?:"+Zy+"|"+e0+")",x$="[^"+b$+"]",S$="(?:\\ud83c[\\udde6-\\uddff]){2}",E$="[\\ud800-\\udbff][\\udc00-\\udfff]",zW="\\u200d",T$=VW+"?",I$="["+UW+"]?",qW="(?:"+zW+"(?:"+[x$,S$,E$].join("|")+")"+I$+T$+")*",HW=I$+T$+qW,WW="(?:"+[x$+Zy+"?",Zy,S$,E$,BW].join("|")+")",GW=RegExp(e0+"(?="+e0+")|"+WW+HW,"g");function KW(t){return t.match(GW)||[]}var QW=KW,YW=DW,XW=_$,JW=QW;function ZW(t){return XW(t)?JW(t):YW(t)}var eG=ZW,tG=EW,nG=_$,rG=eG,iG=v$;function oG(t){return function(e){e=iG(e);var n=nG(e)?rG(e):void 0,r=n?n[0]:e.charAt(0),i=n?tG(n,1).join(""):e.slice(1);return r[t]()+i}}var aG=oG,sG=aG,uG=sG("toUpperCase"),fm=uG;const t0=Math.PI,n0=2*t0,Ao=1e-6,lG=n0-Ao;function r0(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hm(){return new r0}r0.prototype=hm.prototype={constructor:r0,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Ao)if(!(Math.abs(c*s-u*l)>Ao)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,p=r-a,m=s*s+u*u,d=h*h+p*p,w=Math.sqrt(m),g=Math.sqrt(f),_=i*Math.tan((t0-Math.acos((m+f-d)/(2*w*g)))/2),v=_/g,y=_/w;Math.abs(v-1)>Ao&&(this._+="L"+(t+v*l)+","+(e+v*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=t+y*s)+","+(this._y1=e+y*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Ao||Math.abs(this._y1-l)>Ao)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%n0+n0),f>lG?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>Ao&&(this._+="A"+n+","+n+",0,"+ +(f>=t0)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Fe(t){return function(){return t}}var yd=Math.PI,dm=2*yd;function s_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function A$(t){this._context=t}A$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function pm(t){return new A$(t)}function k$(t){return t[0]}function O$(t){return t[1]}function C$(t,e){var n=Fe(!0),r=null,i=pm,o=null;t=typeof t=="function"?t:t===void 0?k$:Fe(t),e=typeof e=="function"?e:e===void 0?O$:Fe(e);function a(s){var u,l=(s=s_(s)).length,c,f=!1,h;for(r==null&&(o=i(h=hm())),u=0;u<=l;++u)!(u<l&&n(c=s[u],u,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,u,s),+e(c,u,s));if(h)return o=null,h+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:Fe(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:Fe(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Fe(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function $f(t,e,n){var r=null,i=Fe(!0),o=null,a=pm,s=null;t=typeof t=="function"?t:t===void 0?k$:Fe(+t),e=typeof e=="function"?e:Fe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?O$:Fe(+n);function u(c){var f,h,p,m=(c=s_(c)).length,d,w=!1,g,_=new Array(m),v=new Array(m);for(o==null&&(s=a(g=hm())),f=0;f<=m;++f){if(!(f<m&&i(d=c[f],f,c))===w)if(w=!w)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=f-1;p>=h;--p)s.point(_[p],v[p]);s.lineEnd(),s.areaEnd()}w&&(_[f]=+t(d,f,c),v[f]=+e(d,f,c),s.point(r?+r(d,f,c):_[f],n?+n(d,f,c):v[f]))}if(g)return s=null,g+""||null}function l(){return C$().defined(i).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:Fe(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:Fe(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:Fe(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Fe(+c),u):n},u.lineX0=u.lineY0=function(){return l().x(t).y(e)},u.lineY1=function(){return l().x(t).y(n)},u.lineX1=function(){return l().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:Fe(!!c),u):i},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}var u_={draw:function(t,e){var n=Math.sqrt(e/yd);t.moveTo(n,0),t.arc(0,0,n,0,dm)}},cG={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},P$=Math.sqrt(1/3),fG=P$*2,hG={draw:function(t,e){var n=Math.sqrt(e/fG),r=n*P$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},dG=.8908130915292852,$$=Math.sin(yd/10)/Math.sin(7*yd/10),pG=Math.sin(dm/10)*$$,mG=-Math.cos(dm/10)*$$,gG={draw:function(t,e){var n=Math.sqrt(e*dG),r=pG*n,i=mG*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=dm*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},vG={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},nv=Math.sqrt(3),yG={draw:function(t,e){var n=-Math.sqrt(e/(nv*3));t.moveTo(0,n*2),t.lineTo(-nv*n,-n),t.lineTo(nv*n,-n),t.closePath()}},Bn=-.5,Vn=Math.sqrt(3)/2,i0=1/Math.sqrt(12),wG=(i0/2+1)*3,_G={draw:function(t,e){var n=Math.sqrt(e/wG),r=n/2,i=n*i0,o=r,a=n*i0+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(Bn*r-Vn*i,Vn*r+Bn*i),t.lineTo(Bn*o-Vn*a,Vn*o+Bn*a),t.lineTo(Bn*s-Vn*u,Vn*s+Bn*u),t.lineTo(Bn*r+Vn*i,Bn*i-Vn*r),t.lineTo(Bn*o+Vn*a,Bn*a-Vn*o),t.lineTo(Bn*s+Vn*u,Bn*u-Vn*s),t.closePath()}};function bG(t,e){var n=null;t=typeof t=="function"?t:Fe(t||u_),e=typeof e=="function"?e:Fe(e===void 0?64:+e);function r(){var i;if(n||(n=i=hm()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:Fe(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:Fe(+i),r):e},r.context=function(i){return arguments.length?(n=i==null?null:i,r):n},r}function wd(){}function _d(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function N$(t){this._context=t}N$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xG(t){return new N$(t)}function M$(t){this._context=t}M$.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SG(t){return new M$(t)}function D$(t){this._context=t}D$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_d(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EG(t){return new D$(t)}function R$(t){this._context=t}R$.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TG(t){return new R$(t)}function PE(t){return t<0?-1:1}function $E(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(PE(o)+PE(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function NE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function rv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function bd(t){this._context=t}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,NE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,NE(this,n=$E(this,t,e)),n);break;default:rv(this,this._t0,n=$E(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function L$(t){this._context=new F$(t)}(L$.prototype=Object.create(bd.prototype)).point=function(t,e){bd.prototype.point.call(this,e,t)};function F$(t){this._context=t}F$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function IG(t){return new bd(t)}function AG(t){return new L$(t)}function j$(t){this._context=t}j$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ME(t),i=ME(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ME(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function kG(t){return new j$(t)}function mm(t,e){this._context=t,this._t=e}mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function OG(t){return new mm(t,.5)}function CG(t){return new mm(t,0)}function PG(t){return new mm(t,1)}function Es(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function o0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $G(t,e){return t[e]}function NG(t){const e=[];return e.key=t,e}function MG(){var t=Fe([]),e=o0,n=Es,r=$G;function i(o){var a=Array.from(t.apply(this,arguments),NG),s,u=a.length,l=-1,c;for(const f of o)for(s=0,++l;s<u;++s)(a[s][l]=[0,+r(f,a[s].key,l,o)]).data=f;for(s=0,c=s_(e(a));s<u;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Fe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Fe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?o0:typeof o=="function"?o:Fe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o==null?Es:o,i):n},i}function DG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Es(t,e)}}function RG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Es(t,e)}}function LG(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,u=0,l=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var d=t[e[m]],w=d[r][1]||0,g=d[r-1][1]||0;p+=w-g}u+=f,l+=p*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Es(t,e)}}function fh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fh=function(n){return typeof n}:fh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fh(t)}function FG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jG(t,e,n){return e&&DE(t.prototype,e),n&&DE(t,n),t}function UG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a0(t,e)}function a0(t,e){return a0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},a0(t,e)}function BG(t){var e=qG();return function(){var r=xd(t),i;if(e){var o=xd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return VG(this,i)}}function VG(t,e){return e&&(fh(e)==="object"||typeof e=="function")?e:zG(t)}function zG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qG(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},xd(t)}var U$={symbolCircle:u_,symbolCross:cG,symbolDiamond:hG,symbolSquare:vG,symbolStar:gG,symbolTriangle:yG,symbolWye:_G},HG=Math.PI/180,WG=function(e){var n="symbol".concat(fm(e));return U$[n]||u_},GG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*HG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},l_=function(t){UG(n,t);var e=BG(n);function n(){return FG(this,n),e.apply(this,arguments)}return jG(n,[{key:"getPath",value:function(){var i=this.props,o=i.size,a=i.sizeType,s=i.type,u=WG(s),l=bG().type(u).size(GG(o,a,s));return l()}},{key:"render",value:function(){var i=this.props,o=i.className,a=i.cx,s=i.cy,u=i.size;return a===+a&&s===+s&&u===+u?O("path",{...$e(this.props,!0),className:He("recharts-symbols",o),transform:"translate(".concat(a,", ").concat(s,")"),d:this.getPath()}):null}}]),n}(G.exports.PureComponent);l_.defaultProps={type:"circle",size:64,sizeType:"area"};l_.registerSymbol=function(t,e){U$["symbol".concat(fm(t))]=e};function hh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hh=function(n){return typeof n}:hh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hh(t)}function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(r){s0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YG(t,e,n){return e&&LE(t.prototype,e),n&&LE(t,n),t}function XG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},u0(t,e)}function JG(t){var e=tK();return function(){var r=Sd(t),i;if(e){var o=Sd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ZG(this,i)}}function ZG(t,e){return e&&(hh(e)==="object"||typeof e=="function")?e:eK(t)}function eK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(t)}var zn=32,c_=function(t){XG(n,t);var e=JG(n);function n(){return QG(this,n),e.apply(this,arguments)}return YG(n,[{key:"renderIcon",value:function(i){var o=this.props.inactiveColor,a=zn/2,s=zn/6,u=zn/3,l=i.inactive?o:i.color;if(i.type==="plainline")return O("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:a,x2:zn,y2:a,className:"recharts-legend-icon"});if(i.type==="line")return O("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(zn,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(i.type==="rect")return O("path",{stroke:"none",fill:l,d:"M0,".concat(zn/8,"h").concat(zn,"v").concat(zn*3/4,"h").concat(-zn,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(i.legendIcon)){var c=KG({},i);return delete c.legendIcon,Z.cloneElement(i.legendIcon,c)}return O(l_,{fill:l,cx:a,cy:a,size:zn,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,o=this.props,a=o.payload,s=o.iconSize,u=o.layout,l=o.formatter,c=o.inactiveColor,f={x:0,y:0,width:zn,height:zn},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,d){var w,g=m.formatter||l,_=He((w={"recharts-legend-item":!0},s0(w,"legend-item-".concat(d),!0),s0(w,"inactive",m.inactive),w));if(m.type==="none")return null;var v=m.inactive?c:m.color;return ue("li",{className:_,style:h,...XP(i.props,m,d),children:[O(Hy,{width:s,height:s,viewBox:f,style:p,children:i.renderIcon(m)}),O("span",{className:"recharts-legend-item-text",style:{color:v},children:g?g(m.value,m,d):m.value})]},"legend-item-".concat(d))})}},{key:"render",value:function(){var i=this.props,o=i.payload,a=i.layout,s=i.align;if(!o||!o.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return O("ul",{className:"recharts-default-legend",style:u,children:this.renderItems()})}}]),n}(G.exports.PureComponent);c_.displayName="Legend";c_.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"};var nK=so,rK=uo,iK="[object Number]";function oK(t){return typeof t=="number"||rK(t)&&nK(t)==iK}var B$=oK,aK=B$;function sK(t){return aK(t)&&t!=+t}var gm=sK,uK=so,lK=Ce,cK=uo,fK="[object String]";function hK(t){return typeof t=="string"||!lK(t)&&cK(t)&&uK(t)==fK}var kc=hK,yr=function(e){return e===0?0:e>0?1:-1},l0=function(e){return kc(e)&&e.indexOf("%")===e.length-1},J=function(e){return B$(e)&&!gm(e)},yt=function(e){return J(e)||kc(e)},dK=0,vm=function(e){var n=++dK;return"".concat(e||"").concat(n)},Ts=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!kc(e))return r;var o;if(l0(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return gm(o)&&(o=r),i&&o>n&&(o=n),o},pi=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},pK=function(e){if(!Ce(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ou=function(e,n){return J(e)&&J(n)?function(r){return e+r*(n-e)}:function(){return n}};function Ed(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):$n(r,e))===n})}function dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(t)}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(r){mK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vK(t,e,n){return e&&jE(t.prototype,e),n&&jE(t,n),t}function yK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c0(t,e)}function c0(t,e){return c0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},c0(t,e)}function wK(t){var e=xK();return function(){var r=Td(t),i;if(e){var o=Td(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _K(this,i)}}function _K(t,e){return e&&(dh(e)==="object"||typeof e=="function")?e:bK(t)}function bK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Td(t)}function SK(t,e){if(t==null)return{};var n=EK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function EK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TK(t){return t.value}function IK(t,e){return t===!0?vd(e,TK):ye(t)?vd(e,t):e}function AK(t,e){if(Z.isValidElement(t))return Z.cloneElement(t,e);if(ye(t))return Z.createElement(t,e);e.ref;var n=SK(e,["ref"]);return O(c_,{...n})}var UE=1,Bl=function(t){yK(n,t);var e=wK(n);function n(){var r;gK(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.wrapperNode=void 0,r.state={boxWidth:-1,boxHeight:-1},r}return vK(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var i=this.state,o=i.boxWidth,a=i.boxHeight;return o>=0&&a>=0?{width:o,height:a}:null}},{key:"getDefaultPosition",value:function(i){var o=this.props,a=o.layout,s=o.align,u=o.verticalAlign,l=o.margin,c=o.chartWidth,f=o.chartHeight,h,p;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(s==="center"&&a==="vertical"){var m=this.getBBoxSnapshot()||{width:0};h={left:((c||0)-m.width)/2}}else h=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(u==="middle"){var d=this.getBBoxSnapshot()||{height:0};p={top:((f||0)-d.height)/2}}else p=u==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Na(Na({},h),p)}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,a=i.boxHeight,s=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var u=this.wrapperNode.getBoundingClientRect();(Math.abs(u.width-o)>UE||Math.abs(u.height-a)>UE)&&this.setState({boxWidth:u.width,boxHeight:u.height},function(){s&&s(u)})}else(o!==-1||a!==-1)&&this.setState({boxWidth:-1,boxHeight:-1},function(){s&&s(null)})}},{key:"render",value:function(){var i=this,o=this.props,a=o.content,s=o.width,u=o.height,l=o.wrapperStyle,c=o.payloadUniqBy,f=o.payload,h=Na(Na({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(l)),l);return O("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){i.wrapperNode=m},children:AK(a,Na(Na({},this.props),{},{payload:IK(c,f)}))})}}],[{key:"getWithHeight",value:function(i,o){var a=i.props.layout;return a==="vertical"&&J(i.props.height)?{height:i.props.height}:a==="horizontal"?{width:i.props.width||o}:null}}]),n}(G.exports.PureComponent);Bl.displayName="Legend";Bl.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"};function kK(t){return t==null}var fe=kK,OK=typeof WeakSet=="function",BE=Object.keys;function f_(t,e){return t===e||t!==t&&e!==e}function VE(t){return t.constructor===Object||t.constructor==null}function zE(t){return!!t&&typeof t.then=="function"}function qE(t){return!!(t&&t.$$typeof)}function CK(){var t=[];return{add:function(e){t.push(e)},has:function(e){return t.indexOf(e)!==-1}}}var PK=function(t){return t?function(){return new WeakSet}:CK}(OK);function V$(t){return function(n){var r=t||n;return function(o,a,s){s===void 0&&(s=PK());var u=!!o&&typeof o=="object",l=!!a&&typeof a=="object";if(u||l){var c=u&&s.has(o),f=l&&s.has(a);if(c||f)return c&&f;u&&s.add(o),l&&s.add(a)}return r(o,a,s)}}}function $K(t,e,n,r){var i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n(t[i],e[i],r))return!1;return!0}function NK(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var o={};t.forEach(function(a,s){if(i){var u=!1,l=0;e.forEach(function(c,f){!u&&!o[l]&&(u=n(s,f,r)&&n(a,c,r),u&&(o[l]=!0)),l++}),i=u}})}return i}var MK="_owner",DK=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function HE(t,e,n,r){var i=BE(t),o=i.length;if(BE(e).length!==o)return!1;if(o)for(var a=void 0;o-- >0;){if(a=i[o],a===MK){var s=qE(t),u=qE(e);if((s||u)&&s!==u)return!1}if(!DK(e,a)||!n(t[a],e[a],r))return!1}return!0}function RK(t,e){return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.unicode===e.unicode&&t.sticky===e.sticky&&t.lastIndex===e.lastIndex}function LK(t,e,n,r){var i=t.size===e.size;if(i&&t.size){var o={};t.forEach(function(a){if(i){var s=!1,u=0;e.forEach(function(l){!s&&!o[u]&&(s=n(a,l,r),s&&(o[u]=!0)),u++}),i=s}})}return i}var FK=typeof Map=="function",jK=typeof Set=="function";function ym(t){var e=typeof t=="function"?t(n):n;function n(r,i,o){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(VE(r)&&VE(i))return HE(r,i,e,o);var a=Array.isArray(r),s=Array.isArray(i);return a||s?a===s&&$K(r,i,e,o):(a=r instanceof Date,s=i instanceof Date,a||s?a===s&&f_(r.getTime(),i.getTime()):(a=r instanceof RegExp,s=i instanceof RegExp,a||s?a===s&&RK(r,i):zE(r)||zE(i)?r===i:FK&&(a=r instanceof Map,s=i instanceof Map,a||s)?a===s&&NK(r,i,e,o):jK&&(a=r instanceof Set,s=i instanceof Set,a||s)?a===s&&LK(r,i,e,o):HE(r,i,e,o)))}return r!==r&&i!==i}return n}var UK=ym();ym(function(){return f_});ym(V$());ym(V$(f_));function WE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):requestAnimationFrame(i)};requestAnimationFrame(r)}function ph(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ph=function(n){return typeof n}:ph=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ph(t)}function BK(t){return HK(t)||qK(t)||zK(t)||VK()}function VK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(t,e){if(!!t){if(typeof t=="string")return GE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(t,e)}}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qK(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function HK(t){if(Array.isArray(t))return t}function WK(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=BK(a),u=s[0],l=s.slice(1);if(typeof u=="number"){WE(i.bind(null,l),u);return}i(u),WE(i.bind(null,l));return}ph(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function KE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KE(Object(n),!0).forEach(function(r){Id(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Id(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GK=["Webkit","Moz","O","ms"],KK=["-webkit-","-moz-","-o-","-ms-"],QK=["transform","transformOrigin","transition"],YK=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},XK=function(e){return e},JK=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ZK=function(e,n){if(QK.indexOf(e)===-1)return Id({},e,n);var r=e==="transition",i=e.replace(/(\w)/,function(a){return a.toUpperCase()}),o=n;return GK.reduce(function(a,s,u){return r&&(o=n.replace(/(transform|transform-origin)/gim,"".concat(KK[u],"$1"))),Is(Is({},a),{},Id({},s+i,o))},{})},fl=function(e,n){return Object.keys(n).reduce(function(r,i){return Is(Is({},r),{},Id({},i,e(i,n[i])))},{})},f0=function(e){return Object.keys(e).reduce(function(n,r){return Is(Is({},n),ZK(r,n[r]))},e)},QE=function(e,n,r){return e.map(function(i){return"".concat(JK(i)," ").concat(n,"ms ").concat(r)}).join(",")};function e9(t,e){return r9(t)||n9(t,e)||z$(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function r9(t){if(Array.isArray(t))return t}function i9(t){return s9(t)||a9(t)||z$(t)||o9()}function o9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$(t,e){if(!!t){if(typeof t=="string")return h0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h0(t,e)}}function a9(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function s9(t){if(Array.isArray(t))return h0(t)}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ad=1e-4,q$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},H$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},YE=function(e,n){return function(r){var i=q$(e,n);return H$(i,r)}},u9=function(e,n){return function(r){var i=q$(e,n),o=[].concat(i9(i.map(function(a,s){return a*s}).slice(1)),[0]);return H$(o,r)}},XE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=e9(l,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=YE(i,a),h=YE(o,s),p=u9(i,a),m=function(g){return g>1?1:g<0?0:g},d=function(g){for(var _=g>1?1:g,v=_,y=0;y<8;++y){var b=f(v)-_,x=p(v);if(Math.abs(b-_)<Ad||x<Ad)return h(v);v=m(v-b/x)}return h(v)};return d.isStepper=!1,d},l9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,u=function(c,f,h){var p=-(c-f)*r,m=h*o,d=h+(p-m)*s/1e3,w=h*s/1e3+c;return Math.abs(w-f)<Ad&&Math.abs(d)<Ad?[f,0]:[w,d]};return u.isStepper=!0,u.dt=s,u},c9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XE(i);case"spring":return l9();default:if(i.split("(")[0]==="cubic-bezier")return XE(i)}return typeof i=="function"?i:null};function JE(t){return d9(t)||h9(t)||W$(t)||f9()}function f9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h9(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function d9(t){if(Array.isArray(t))return p0(t)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(r){d0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t,e){return v9(t)||g9(t,e)||W$(t,e)||m9()}function m9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W$(t,e){if(!!t){if(typeof t=="string")return p0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p0(t,e)}}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g9(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function v9(t){if(Array.isArray(t))return t}var kd=function(e,n,r){return e+(n-e)*r},m0=function(e){var n=e.from,r=e.to;return n!==r},y9=function t(e,n,r){var i=fl(function(o,a){if(m0(a)){var s=e(a.from,a.to,a.velocity),u=p9(s,2),l=u[0],c=u[1];return Mt(Mt({},a),{},{from:l,velocity:c})}return a},n);return r<1?fl(function(o,a){return m0(a)?Mt(Mt({},a),{},{velocity:kd(a.velocity,i[o].velocity,r),from:kd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)},w9=function(t,e,n,r,i){var o=YK(t,e),a=o.reduce(function(w,g){return Mt(Mt({},w),{},d0({},g,[t[g],e[g]]))},{}),s=o.reduce(function(w,g){return Mt(Mt({},w),{},d0({},g,{from:t[g],velocity:0,to:e[g]}))},{}),u=-1,l,c,f=function(){return null},h=function(){return fl(function(g,_){return _.from},s)},p=function(){return!Object.values(s).filter(m0).length},m=function(g){l||(l=g);var _=g-l,v=_/n.dt;s=y9(n,s,v),i(Mt(Mt(Mt({},t),e),h())),l=g,p()||(u=requestAnimationFrame(f))},d=function(g){c||(c=g);var _=(g-c)/r,v=fl(function(b,x){return kd.apply(void 0,JE(x).concat([n(_)]))},a);if(i(Mt(Mt(Mt({},t),e),v)),_<1)u=requestAnimationFrame(f);else{var y=fl(function(b,x){return kd.apply(void 0,JE(x).concat([n(1)]))},a);i(Mt(Mt(Mt({},t),e),y))}};return f=n.isStepper?m:d,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function mh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mh=function(n){return typeof n}:mh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},mh(t)}function _9(t,e){if(t==null)return{};var n=b9(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function b9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iv(t){return T9(t)||E9(t)||S9(t)||x9()}function x9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9(t,e){if(!!t){if(typeof t=="string")return g0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g0(t,e)}}function E9(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function T9(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){Yu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A9(t,e,n){return e&&tT(t.prototype,e),n&&tT(t,n),t}function k9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},v0(t,e)}function O9(t){var e=C9();return function(){var r=Od(t),i;if(e){var o=Od(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return y0(this,i)}}function y0(t,e){return e&&(mh(e)==="object"||typeof e=="function")?e:w0(t)}function w0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(t)}var As=function(t){k9(n,t);var e=O9(n);function n(r,i){var o;I9(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,u=a.attributeName,l=a.from,c=a.to,f=a.steps,h=a.children;if(o.handleStyleChange=o.handleStyleChange.bind(w0(o)),o.changeStyle=o.changeStyle.bind(w0(o)),!s)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),y0(o);if(f&&f.length)o.state={style:f[0].style};else if(l){if(typeof h=="function")return o.state={style:l},y0(o);o.state={style:u?Yu({},u,l):l}}else o.state={style:{}};return o}return A9(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,u=o.attributeName,l=o.shouldReAnimate;if(!!s){if(!a){var c={style:u?Yu({},u,this.props.to):this.props.to};this.state&&this.state.style&&(u&&this.state.style[u]!==this.props.to||!u&&this.state.style!==this.props.to)&&this.setState(c);return}if(!(UK(i.to,this.props.to)&&i.canBegin&&i.isActive)){var f=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=f||l?this.props.from:i.to;if(this.state&&this.state.style){var p={style:u?Yu({},u,h):h};(u&&this.state.style[u]!==h||!u&&this.state.style!==h)&&this.setState(p)}this.runAnimation(rr(rr({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,u=i.duration,l=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=w9(a,s,c9(l),u,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([h,c,m,u,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,u=i.onAnimationStart,l=a[0],c=l.style,f=l.duration,h=f===void 0?0:f,p=function(d,w,g){if(g===0)return d;var _=w.duration,v=w.easing,y=v===void 0?"ease":v,b=w.style,x=w.properties,S=w.onAnimationEnd,E=g>0?a[g-1]:w,T=x||Object.keys(b);if(typeof y=="function"||y==="spring")return[].concat(iv(d),[o.runJSAnimation.bind(o,{from:E.style,to:b,duration:_,easing:y}),_]);var A=QE(T,_,y),I=rr(rr(rr({},E.style),b),{},{transition:A});return[].concat(iv(d),[I,_,S]).filter(XK)};return this.manager.start([u].concat(iv(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=WK());var o=i.begin,a=i.duration,s=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var d=s?Yu({},s,u):u,w=QE(Object.keys(d),a,l);m.start([c,o,rr(rr({},d),{},{transition:w}),a,f])}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin,i.duration,i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var s=_9(i,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"]),u=G.exports.Children.count(o),l=f0(this.state.style);if(typeof o=="function")return o(l);if(!a||u===0)return o;var c=function(h){var p=h.props,m=p.style,d=m===void 0?{}:m,w=p.className,g=G.exports.cloneElement(h,rr(rr({},s),{},{style:rr(rr({},d),l),className:w}));return g};return u===1?c(G.exports.Children.only(o)):O("div",{children:G.exports.Children.map(o,function(f){return c(f)})})}}]),n}(G.exports.PureComponent);As.displayName="Animate";As.propTypes={from:ve.oneOfType([ve.object,ve.string]),to:ve.oneOfType([ve.object,ve.string]),attributeName:ve.string,duration:ve.number,begin:ve.number,easing:ve.oneOfType([ve.string,ve.func]),steps:ve.arrayOf(ve.shape({duration:ve.number.isRequired,style:ve.object.isRequired,easing:ve.oneOfType([ve.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ve.func]),properties:ve.arrayOf("string"),onAnimationEnd:ve.func})),children:ve.oneOfType([ve.node,ve.func]),isActive:ve.bool,canBegin:ve.bool,onAnimationEnd:ve.func,shouldReAnimate:ve.bool,onAnimationStart:ve.func,onAnimationReStart:ve.func};As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Number.isFinite===void 0&&(Number.isFinite=function(t){return typeof t=="number"&&isFinite(t)});ve.object,ve.object,ve.object,ve.element;ve.object,ve.object,ve.object,ve.oneOfType([ve.array,ve.element]),ve.any;var nT=Ic,P9=Z1,$9=Ce,rT=nT?nT.isConcatSpreadable:void 0;function N9(t){return $9(t)||P9(t)||!!(rT&&t&&t[rT])}var M9=N9,D9=a$,R9=M9;function G$(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=R9),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?G$(s,e-1,n,r,i):D9(i,s):r||(i[i.length]=s)}return i}var K$=G$;function L9(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}var F9=L9,j9=F9,U9=j9(),B9=U9,V9=B9,z9=lm;function q9(t,e){return t&&V9(t,e,z9)}var Q$=q9,H9=Ac;function W9(t,e){return function(n,r){if(n==null)return n;if(!H9(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var G9=W9,K9=Q$,Q9=G9,Y9=Q9(K9),h_=Y9,X9=h_,J9=Ac;function Z9(t,e){var n=-1,r=J9(t)?Array(t.length):[];return X9(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var Y$=Z9;function e7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var t7=e7,iT=eu;function n7(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=iT(t),a=e!==void 0,s=e===null,u=e===e,l=iT(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}var r7=n7,i7=r7;function o7(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=i7(i[r],o[r]);if(u){if(r>=s)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var a7=o7,ov=o_,s7=a_,u7=lo,l7=Y$,c7=t7,f7=u$,h7=a7,d7=tu,p7=Ce;function m7(t,e,n){e.length?e=ov(e,function(o){return p7(o)?function(a){return s7(a,o.length===1?o[0]:o)}:o}):e=[d7];var r=-1;e=ov(e,f7(u7));var i=l7(t,function(o,a,s){var u=ov(e,function(l){return l(o)});return{criteria:u,index:++r,value:o}});return c7(i,function(o,a){return h7(o,a,n)})}var g7=m7;function v7(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var y7=v7,w7=y7,oT=Math.max;function _7(t,e,n){return e=oT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=oT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),w7(t,this,s)}}var b7=_7;function x7(t){return function(){return t}}var S7=x7,E7=Sa,T7=function(){try{var t=E7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),X$=T7,I7=S7,aT=X$,A7=tu,k7=aT?function(t,e){return aT(t,"toString",{configurable:!0,enumerable:!1,value:I7(e),writable:!0})}:A7,O7=k7,C7=800,P7=16,$7=Date.now;function N7(t){var e=0,n=0;return function(){var r=$7(),i=P7-(r-n);if(n=r,i>0){if(++e>=C7)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var M7=N7,D7=O7,R7=M7,L7=R7(D7),F7=L7,j7=tu,U7=b7,B7=F7;function V7(t,e){return B7(U7(t,e,j7),t+"")}var z7=V7,q7=Q1,H7=Ac,W7=e_,G7=Un;function K7(t,e,n){if(!G7(n))return!1;var r=typeof e;return(r=="number"?H7(n)&&W7(e,n.length):r=="string"&&e in n)?q7(n[e],t):!1}var wm=K7,Q7=K$,Y7=g7,X7=z7,sT=wm,J7=X7(function(t,e){if(t==null)return[];var n=e.length;return n>1&&sT(t,e[0],e[1])?e=[]:n>2&&sT(e[0],e[1],e[2])&&(e=[e[0]]),Y7(t,Q7(e,1),[])}),d_=J7;function gh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gh=function(n){return typeof n}:gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gh(t)}function Z7(t,e){return rQ(t)||nQ(t,e)||tQ(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){if(!!t){if(typeof t=="string")return uT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(t,e)}}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nQ(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function rQ(t){if(Array.isArray(t))return t}function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aQ(t,e,n){return e&&cT(t.prototype,e),n&&cT(t,n),t}function sQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_0(t,e)}function uQ(t){var e=fQ();return function(){var r=Cd(t),i;if(e){var o=Cd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return lQ(this,i)}}function lQ(t,e){return e&&(gh(e)==="object"||typeof e=="function")?e:cQ(t)}function cQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fQ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(t)}function hQ(t){return Ce(t)&&yt(t[0])&&yt(t[1])?t.join(" ~ "):t}var p_=function(t){sQ(n,t);var e=uQ(n);function n(){return oQ(this,n),e.apply(this,arguments)}return aQ(n,[{key:"renderContent",value:function(){var i=this.props,o=i.payload,a=i.separator,s=i.formatter,u=i.itemStyle,l=i.itemSorter;if(o&&o.length){var c={padding:0,margin:0},f=(l?d_(o,l):o).map(function(h,p){if(h.type==="none")return null;var m=av({display:"block",paddingTop:4,paddingBottom:4,color:h.color||"#000"},u),d=h.formatter||s||hQ,w=h.name,g=h.value;if(d){var _=d(g,w,h,p,o);if(Array.isArray(_)){var v=Z7(_,2);g=v[0],w=v[1]}else g=_}return ue("li",{className:"recharts-tooltip-item",style:m,children:[yt(w)?O("span",{className:"recharts-tooltip-item-name",children:w}):null,yt(w)?O("span",{className:"recharts-tooltip-item-separator",children:a}):null,O("span",{className:"recharts-tooltip-item-value",children:g}),O("span",{className:"recharts-tooltip-item-unit",children:h.unit||""})]},"tooltip-item-".concat(p))});return O("ul",{className:"recharts-tooltip-item-list",style:c,children:f})}return null}},{key:"render",value:function(){var i=this.props,o=i.wrapperClassName,a=i.contentStyle,s=i.labelClassName,u=i.labelStyle,l=i.label,c=i.labelFormatter,f=i.payload,h=av({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),p=av({margin:0},u),m=!fe(l),d=m?l:"",w=He("recharts-default-tooltip",o),g=He("recharts-tooltip-label",s);return m&&c&&f!==void 0&&f!==null&&(d=c(l,f)),ue("div",{className:w,style:h,children:[O("p",{className:g,style:p,children:Z.isValidElement(d)?d:"".concat(d)}),this.renderContent()]})}}]),n}(G.exports.PureComponent);p_.displayName="DefaultTooltipContent";p_.defaultProps={separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}};var dQ=function(){return!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout)},ji={isSsr:dQ(),get:function(e){return ji[e]},set:function(e,n){if(typeof e=="string")ji[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){ji[i]=e[i]})}}};function vh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vh=function(n){return typeof n}:vh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vh(t)}function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){Xu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mQ(t,e,n){return e&&hT(t.prototype,e),n&&hT(t,n),t}function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b0(t,e)}function b0(t,e){return b0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},b0(t,e)}function vQ(t){var e=_Q();return function(){var r=Pd(t),i;if(e){var o=Pd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yQ(this,i)}}function yQ(t,e){return e&&(vh(e)==="object"||typeof e=="function")?e:wQ(t)}function wQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Q(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(t)}var Cu="recharts-tooltip-wrapper",dT=1;function bQ(t){return t.dataKey}function xQ(t,e){return t===!0?vd(e,bQ):ye(t)?vd(e,t):e}function SQ(t,e){return Z.isValidElement(t)?Z.cloneElement(t,e):ye(t)?Z.createElement(t,e):O(p_,{...e})}var Uo=function(t){gQ(n,t);var e=vQ(n);function n(){var r;pQ(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={boxWidth:-1,boxHeight:-1},r.wrapperNode=void 0,r.getTranslate=function(s){var u=s.key,l=s.tooltipDimension,c=s.viewBoxDimension,f=r.props,h=f.allowEscapeViewBox,p=f.coordinate,m=f.offset,d=f.position,w=f.viewBox;if(d&&J(d[u]))return d[u];var g=p[u]-l-m,_=p[u]+m;if(h[u])return _;var v=p[u]+l+m,y=w[u]+c;return v>y?Math.max(g,w[u]):Math.max(_,w[u])},r}return mQ(n,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var i=this.state,o=i.boxWidth,a=i.boxHeight;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-o)>dT||Math.abs(s.height-a)>dT)&&this.setState({boxWidth:s.width,boxHeight:s.height})}else(o!==-1||a!==-1)&&this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var i,o=this,a=this.props,s=a.payload,u=a.isAnimationActive,l=a.animationDuration,c=a.animationEasing,f=a.filterNull,h=a.payloadUniqBy,p=xQ(h,f&&s&&s.length?s.filter(function(k){return!fe(k.value)}):s),m=p&&p.length,d=this.props,w=d.content,g=d.viewBox,_=d.coordinate,v=d.position,y=d.active,b=d.wrapperStyle,x=_o({pointerEvents:"none",visibility:y&&m?"visible":"hidden",position:"absolute",top:0,left:0},b),S,E;if(v&&J(v.x)&&J(v.y))S=v.x,E=v.y;else{var T=this.state,A=T.boxWidth,I=T.boxHeight;A>0&&I>0&&_?(S=this.getTranslate({key:"x",tooltipDimension:A,viewBoxDimension:g.width}),E=this.getTranslate({key:"y",tooltipDimension:I,viewBoxDimension:g.height})):x.visibility="hidden"}x=_o(_o({},f0({transform:this.props.useTranslate3d?"translate3d(".concat(S,"px, ").concat(E,"px, 0)"):"translate(".concat(S,"px, ").concat(E,"px)")})),x),u&&y&&(x=_o(_o({},f0({transition:"transform ".concat(l,"ms ").concat(c)})),x));var N=He(Cu,(i={},Xu(i,"".concat(Cu,"-right"),J(S)&&_&&J(_.x)&&S>=_.x),Xu(i,"".concat(Cu,"-left"),J(S)&&_&&J(_.x)&&S<_.x),Xu(i,"".concat(Cu,"-bottom"),J(E)&&_&&J(_.y)&&E>=_.y),Xu(i,"".concat(Cu,"-top"),J(E)&&_&&J(_.y)&&E<_.y),i));return O("div",{className:N,style:x,ref:function(R){o.wrapperNode=R},children:SQ(w,_o(_o({},this.props),{},{payload:p}))})}}]),n}(G.exports.PureComponent);Uo.displayName="Tooltip";Uo.defaultProps={active:!1,allowEscapeViewBox:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!ji.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1};var EQ=Lr,TQ=function(){return EQ.Date.now()},IQ=TQ,AQ=/\s/;function kQ(t){for(var e=t.length;e--&&AQ.test(t.charAt(e)););return e}var OQ=kQ,CQ=OQ,PQ=/^\s+/;function $Q(t){return t&&t.slice(0,CQ(t)+1).replace(PQ,"")}var NQ=$Q,MQ=NQ,pT=Un,DQ=eu,mT=0/0,RQ=/^[-+]0x[0-9a-f]+$/i,LQ=/^0b[01]+$/i,FQ=/^0o[0-7]+$/i,jQ=parseInt;function UQ(t){if(typeof t=="number")return t;if(DQ(t))return mT;if(pT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=MQ(t);var n=LQ.test(t);return n||FQ.test(t)?jQ(t.slice(2),n?2:8):RQ.test(t)?mT:+t}var J$=UQ,BQ=Un,sv=IQ,gT=J$,VQ="Expected a function",zQ=Math.max,qQ=Math.min;function HQ(t,e,n){var r,i,o,a,s,u,l=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(VQ);e=gT(e)||0,BQ(n)&&(c=!!n.leading,f="maxWait"in n,o=f?zQ(gT(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(x){var S=r,E=i;return r=i=void 0,l=x,a=t.apply(E,S),a}function m(x){return l=x,s=setTimeout(g,e),c?p(x):a}function d(x){var S=x-u,E=x-l,T=e-S;return f?qQ(T,o-E):T}function w(x){var S=x-u,E=x-l;return u===void 0||S>=e||S<0||f&&E>=o}function g(){var x=sv();if(w(x))return _(x);s=setTimeout(g,d(x))}function _(x){return s=void 0,h&&r?p(x):(r=i=void 0,a)}function v(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function y(){return s===void 0?a:_(sv())}function b(){var x=sv(),S=w(x);if(r=arguments,i=this,u=x,S){if(s===void 0)return m(u);if(f)return clearTimeout(s),s=setTimeout(g,e),p(u)}return s===void 0&&(s=setTimeout(g,e)),a}return b.cancel=v,b.flush=y,b}var WQ=HQ,m_=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},x0={exports:{}},uv="(".charCodeAt(0),lv=")".charCodeAt(0),Nf="'".charCodeAt(0),cv='"'.charCodeAt(0),fv="\\".charCodeAt(0),Mf="/".charCodeAt(0),hv=",".charCodeAt(0),dv=":".charCodeAt(0),vT="*".charCodeAt(0),GQ=function(t){for(var e=[],n=t,r,i,o,a,s,u,l,c=0,f=n.charCodeAt(c),h=n.length,p=[{nodes:e}],m=0,d,w="",g="",_="";c<h;)if(f<=32){r=c;do r+=1,f=n.charCodeAt(r);while(f<=32);a=n.slice(c,r),o=e[e.length-1],f===lv&&m?_=a:o&&o.type==="div"?o.after=a:f===hv||f===dv||f===Mf&&n.charCodeAt(r+1)!==vT?g=a:e.push({type:"space",sourceIndex:c,value:a}),c=r}else if(f===Nf||f===cv){r=c,i=f===Nf?"'":'"',a={type:"string",sourceIndex:c,quote:i};do if(s=!1,r=n.indexOf(i,r+1),~r)for(u=r;n.charCodeAt(u-1)===fv;)u-=1,s=!s;else n+=i,r=n.length-1,a.unclosed=!0;while(s);a.value=n.slice(c+1,r),e.push(a),c=r+1,f=n.charCodeAt(c)}else if(f===Mf&&n.charCodeAt(c+1)===vT)a={type:"comment",sourceIndex:c},r=n.indexOf("*/",c),r===-1&&(a.unclosed=!0,r=n.length),a.value=n.slice(c+2,r),e.push(a),c=r+2,f=n.charCodeAt(c);else if(f===Mf||f===hv||f===dv)a=n[c],e.push({type:"div",sourceIndex:c-g.length,value:a,before:g,after:""}),g="",c+=1,f=n.charCodeAt(c);else if(uv===f){r=c;do r+=1,f=n.charCodeAt(r);while(f<=32);if(a={type:"function",sourceIndex:c-w.length,value:w,before:n.slice(c+1,r)},c=r,w==="url"&&f!==Nf&&f!==cv){r-=1;do if(s=!1,r=n.indexOf(")",r+1),~r)for(u=r;n.charCodeAt(u-1)===fv;)u-=1,s=!s;else n+=")",r=n.length-1,a.unclosed=!0;while(s);l=r;do l-=1,f=n.charCodeAt(l);while(f<=32);c!==l+1?a.nodes=[{type:"word",sourceIndex:c,value:n.slice(c,l+1)}]:a.nodes=[],a.unclosed&&l+1!==r?(a.after="",a.nodes.push({type:"space",sourceIndex:l+1,value:n.slice(l+1,r)})):a.after=n.slice(l+1,r),c=r+1,f=n.charCodeAt(c),e.push(a)}else m+=1,a.after="",e.push(a),p.push(a),e=a.nodes=[],d=a;w=""}else if(lv===f&&m)c+=1,f=n.charCodeAt(c),d.after=_,_="",m-=1,p.pop(),d=p[m],e=d.nodes;else{r=c;do f===fv&&(r+=1),r+=1,f=n.charCodeAt(r);while(r<h&&!(f<=32||f===Nf||f===cv||f===hv||f===dv||f===Mf||f===uv||f===lv&&m));a=n.slice(c,r),uv===f?w=a:e.push({type:"word",sourceIndex:c,value:a}),c=r}for(c=p.length-1;c;c-=1)p[c].unclosed=!0;return p[0].nodes},KQ=function t(e,n,r){var i,o,a,s;for(i=0,o=e.length;i<o;i+=1)a=e[i],r||(s=n(a,i,e)),s!==!1&&a.type==="function"&&Array.isArray(a.nodes)&&t(a.nodes,n,r),r&&n(a,i,e)};function yT(t,e){var n=t.type,r=t.value,i,o;return e&&(o=e(t))!==void 0?o:n==="word"||n==="space"?r:n==="string"?(i=t.quote||"",i+r+(t.unclosed?"":i)):n==="comment"?"/*"+r+(t.unclosed?"":"*/"):n==="div"?(t.before||"")+r+(t.after||""):Array.isArray(t.nodes)?(i=Z$(t.nodes),n!=="function"?i:r+"("+(t.before||"")+i+(t.after||"")+(t.unclosed?"":")")):r}function Z$(t,e){var n,r;if(Array.isArray(t)){for(n="",r=t.length-1;~r;r-=1)n=yT(t[r],e)+n;return n}return yT(t,e)}var QQ=Z$,YQ="-".charCodeAt(0),XQ="+".charCodeAt(0),JQ=".".charCodeAt(0),ZQ="e".charCodeAt(0),eY="E".charCodeAt(0),tY=function(t){for(var e=0,n=t.length,r=!1,i=-1,o=!1,a;e<n;){if(a=t.charCodeAt(e),a>=48&&a<=57)o=!0;else if(a===ZQ||a===eY){if(i>-1)break;i=e}else if(a===JQ){if(r)break;r=!0}else if(a===XQ||a===YQ){if(e!==0)break}else break;e+=1}return i+1===e&&e--,o?{number:t.slice(0,e),unit:t.slice(e)}:!1},nY=GQ,eN=KQ,tN=QQ;function Ki(t){return this instanceof Ki?(this.nodes=nY(t),this):new Ki(t)}Ki.prototype.toString=function(){return Array.isArray(this.nodes)?tN(this.nodes):""};Ki.prototype.walk=function(t,e){return eN(this.nodes,t,e),this};Ki.unit=tY;Ki.walk=eN;Ki.stringify=tN;var rY=Ki,nN={};(function(t){var e=function(){function n(h,p){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),h==null&&(h="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:h}),this.hash=p;var m;if(p&&p.exception instanceof Error){var d=p.exception;this.message=d.message||h,m=d.stack}m||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):m=new Error(h).stack),m&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:m})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(n.prototype,Error.prototype):n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n.prototype.name="JisonParserError";function r(h){for(var p=[],m=h.pop,d=h.rule,w=0,g=m.length;w<g;w++)p.push([m[w],d[w]]);return p}function i(h){for(var p={},m=h.idx,d=h.goto,w=0,g=m.length;w<g;w++){var _=m[w];p[_]=d[w]}return p}function o(h){for(var p=[],m=h.len,d=h.symbol,w=h.type,g=h.state,_=h.mode,v=h.goto,y=0,b=m.length;y<b;y++){for(var x=m[y],S={},E=0;E<x;E++){var T=d.shift();switch(w.shift()){case 2:S[T]=[_.shift(),v.shift()];break;case 0:S[T]=g.shift();break;default:S[T]=[3]}}p.push(S)}return p}function a(h,p,m){m=m||0;for(var d=0;d<p;d++)this.push(h),h+=m}function s(h,p){for(h=this.length-h,p+=h;h<p;h++)this.push(this[h])}function u(h){for(var p=[],m=0,d=h.length;m<d;m++){var w=h[m];typeof w=="function"?(m++,w.apply(p,h[m])):p.push(w)}return p}var l={trace:function(){},JisonParserError:n,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(p){return'"'+p+'"'},getSymbolName:function(p){if(this.terminals_[p])return this.terminals_[p];var m=this.symbols_;for(var d in m)if(m[d]===p)return d;return null},describeSymbol:function(p){if(p!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[p])return this.terminal_descriptions_[p];if(p===this.EOF)return"end of input";var m=this.getSymbolName(p);return m?this.quoteName(m):null},collect_expected_token_set:function(p,m){var d=this.TERROR,w=[],g={};if(!m&&this.state_descriptions_&&this.state_descriptions_[p])return[this.state_descriptions_[p]];for(var _ in this.table[p])if(_=+_,_!==d){var v=m?_:this.describeSymbol(_);v&&!g[v]&&(w.push(v),g[v]=!0)}return w},productions_:r({pop:u([29,a,[30,10],31,31,32,32,a,[33,15]]),rule:u([2,a,[3,5],4,7,a,[1,4],2,4,6,a,[1,14],2])}),performAction:function(p,m,d){var w=this.yy;switch(w.parser,w.lexer,p){case 0:this.$=d[m-1];break;case 1:return this.$=d[m-1],d[m-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:d[m-1],left:d[m-2],right:d[m]};break;case 6:this.$=d[m-1];break;case 7:this.$={type:"Calc",value:d[m-1]};break;case 8:this.$={type:"Calc",value:d[m-1],prefix:d[m-5]};break;case 9:case 10:case 11:this.$=d[m];break;case 12:this.$={type:"Value",value:parseFloat(d[m])};break;case 13:this.$={type:"Value",value:parseFloat(d[m])*-1};break;case 14:this.$={type:"CssVariable",value:d[m-1]};break;case 15:this.$={type:"CssVariable",value:d[m-3],fallback:d[m-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(d[m]),unit:/[a-z]+/.exec(d[m])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(d[m]),unit:/[a-z]+/.exec(d[m])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(d[m]),unit:/[a-z]+/.exec(d[m])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(d[m]),unit:/[a-z]+/.exec(d[m])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(d[m]),unit:/[a-z]+/.exec(d[m])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(d[m]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(d[m]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(d[m]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(d[m]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(d[m]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(d[m]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(d[m]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(d[m]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(d[m]),unit:"%"};break;case 30:var g=d[m];g.value*=-1,this.$=g;break}},table:o({len:u([24,1,5,23,1,18,a,[0,3],1,a,[0,16],a,[23,4],s,[28,3],0,0,16,1,6,6,a,[0,3],5,1,2,s,[37,3],s,[20,3],5,0,0]),symbol:u([4,7,9,11,12,a,[15,19,1],1,1,a,[3,4,1],s,[30,19],s,[29,4],7,4,10,11,s,[22,14],s,[19,3],s,[43,22],s,[23,69],s,[139,4],8,s,[51,24],4,s,[138,15],13,s,[186,5],8,s,[6,6],s,[5,5],9,8,14,s,[159,47],s,[60,10]]),type:u([a,[2,19],a,[0,5],1,a,[2,24],a,[0,4],s,[22,19],s,[43,42],s,[23,70],s,[28,25],s,[45,25],s,[113,54]]),state:u([1,2,8,6,7,30,s,[4,3],33,37,s,[5,3],38,s,[4,3],39,s,[4,3],40,s,[4,3],42,s,[21,4],50,s,[5,3],51,s,[4,3]]),mode:u([a,[1,179],a,[2,3],s,[5,5],s,[6,4],a,[1,57]]),goto:u([5,3,4,24,a,[9,15,1],a,[25,5,1],s,[24,19],31,35,32,34,s,[18,14],36,s,[38,19],s,[19,57],s,[118,4],41,s,[24,19],43,35,s,[16,14],44,a,[2,3],28,29,2,a,[3,3],28,29,3,s,[53,4],a,[45,5,1],s,[100,42],52,s,[5,4],53])}),defaultActions:i({idx:u([6,7,8,a,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:u([9,10,11,a,[16,14,1],12,1,30,13,a,[4,4,1],14,15,8])}),parseError:function(p,m,d){if(m.recoverable)typeof this.trace=="function"&&this.trace(p),m.destroy();else throw typeof this.trace=="function"&&this.trace(p),d||(d=this.JisonParserError),new d(p,m)},parse:function(p){var m=this,d=new Array(128),w=new Array(128),g=new Array(128),_=this.table,v=0,y=0;this.TERROR;var b=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var x=[0,54],S;this.__lexer__?S=this.__lexer__:S=this.__lexer__=Object.create(this.lexer);var E={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return E};function T(K,F){for(var ee in F)typeof K[ee]=="undefined"&&Object.prototype.hasOwnProperty.call(F,ee)&&(K[ee]=F[ee])}T(E,this.yy),E.lexer=S,E.parser=this,typeof E.parseError=="function"?this.parseError=function(F,ee,te){return te||(te=this.JisonParserError),E.parseError.call(this,F,ee,te)}:this.parseError=this.originalParseError,typeof E.quoteName=="function"?this.quoteName=function(F){return E.quoteName.call(this,F)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(F,ee,te){var L;if(ee){var Pe;(E.post_parse||this.post_parse)&&(Pe=this.constructParseErrorInfo(null,null,null,!1)),E.post_parse&&(L=E.post_parse.call(this,E,F,Pe),typeof L!="undefined"&&(F=L)),this.post_parse&&(L=this.post_parse.call(this,E,F,Pe),typeof L!="undefined"&&(F=L)),Pe&&Pe.destroy&&Pe.destroy()}if(this.__reentrant_call_depth>1)return F;if(S.cleanupAfterLex&&S.cleanupAfterLex(te),E&&(E.lexer=void 0,E.parser=void 0,S.yy===E&&(S.yy=void 0)),E=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,d.length=0,w.length=0,g.length=0,v=0,!te){for(var be=this.__error_infos.length-1;be>=0;be--){var Je=this.__error_infos[be];Je&&typeof Je.destroy=="function"&&Je.destroy()}this.__error_infos.length=0}return F},this.constructParseErrorInfo=function(F,ee,te,L){var Pe={errStr:F,exception:ee,text:S.match,value:S.yytext,token:this.describeSymbol(y)||y,token_id:y,line:S.yylineno,expected:te,recoverable:L,state:k,action:R,new_state:H,symbol_stack:d,state_stack:w,value_stack:g,stack_pointer:v,yy:E,lexer:S,parser:this,destroy:function(){var Je=!!this.recoverable;for(var st in this)this.hasOwnProperty(st)&&typeof st=="object"&&(this[st]=void 0);this.recoverable=Je}};return this.__error_infos.push(Pe),Pe};function A(){var K=S.lex();return typeof K!="number"&&(K=m.symbols_[K]||K),K||b}function I(){var K=S.fastLex();return typeof K!="number"&&(K=m.symbols_[K]||K),K||b}var N=A,k,R,B,j,X={$:!0,_$:void 0,yy:E},C,$,M,H,q=!1;try{if(this.__reentrant_call_depth++,S.setInput(p,E),typeof S.canIUse=="function"){var ae=S.canIUse();ae.fastLex&&typeof I=="function"&&(N=I)}for(g[v]=null,w[v]=0,d[v]=0,++v,this.pre_parse&&this.pre_parse.call(this,E),E.pre_parse&&E.pre_parse.call(this,E),H=w[v-1];;){if(k=H,this.defaultActions[k])R=2,H=this.defaultActions[k];else if(y||(y=N()),j=_[k]&&_[k][y]||x,H=j[1],R=j[0],!R){var ce,pe=this.describeSymbol(y)||y,se=this.collect_expected_token_set(k);typeof S.yylineno=="number"?ce="Parse error on line "+(S.yylineno+1)+": ":ce="Parse error: ",typeof S.showPosition=="function"&&(ce+=`
`+S.showPosition(79-10,10)+`
`),se.length?ce+="Expecting "+se.join(", ")+", got unexpected "+pe:ce+="Unexpected "+pe,C=this.constructParseErrorInfo(ce,null,se,!1),B=this.parseError(C.errStr,C,this.JisonParserError),typeof B!="undefined"&&(q=B);break}switch(R){default:if(R instanceof Array){C=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+k+", token: "+y,null,null,!1),B=this.parseError(C.errStr,C,this.JisonParserError),typeof B!="undefined"&&(q=B);break}C=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),B=this.parseError(C.errStr,C,this.JisonParserError),typeof B!="undefined"&&(q=B);break;case 1:d[v]=y,g[v]=S.yytext,w[v]=H,++v,y=0;continue;case 2:if(M=this.productions_[H-1],$=M[1],B=this.performAction.call(X,H,v-1,g),typeof B!="undefined"){q=B;break}v-=$;var le=M[0];d[v]=le,g[v]=X.$,H=_[w[v-1]][le],w[v]=H,++v;continue;case 3:v!==-2&&(q=!0,v--,typeof g[v]!="undefined"&&(q=g[v]));break}break}}catch(K){if(K instanceof this.JisonParserError)throw K;if(S&&typeof S.JisonLexerError=="function"&&K instanceof S.JisonLexerError)throw K;C=this.constructParseErrorInfo("Parsing aborted due to exception.",K,null,!1),q=!1,B=this.parseError(C.errStr,C,this.JisonParserError),typeof B!="undefined"&&(q=B)}finally{q=this.cleanupAfterParse(q,!0,!0),this.__reentrant_call_depth--}return q}};l.originalParseError=l.parseError,l.originalQuoteName=l.quoteName;var c=function(){function h(m,d){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),m==null&&(m="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:m}),this.hash=d;var w;if(d&&d.exception instanceof Error){var g=d.exception;this.message=g.message||m,w=g.stack}w||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):w=new Error(m).stack),w&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:w})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(h.prototype,Error.prototype):h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="JisonLexerError";var p={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(d,w,g){if(d=""+d,g==null&&(g=!(d.indexOf(`
`)>0&&d.indexOf("^")>0)),this.yylloc&&g){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(d)||(d+=`
`),d+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var _=this.showPosition();_&&(d.length&&d[d.length-1]!==`
`&&_[0]!==`
`?d+=`
`+_:d+=_)}}var v={errStr:d,recoverable:!!w,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var b=!!this.recoverable;for(var x in this)this.hasOwnProperty(x)&&typeof x=="object"&&(this[x]=void 0);this.recoverable=b}};return this.__error_infos.push(v),v},parseError:function(d,w,g){if(g||(g=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,d,w,g)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,d,w,g)||this.ERROR}throw new g(d,w)},yyerror:function(d){var w="";this.yylloc&&(w=" on line "+(this.yylineno+1));var g=this.constructLexErrorInfo("Lexical error"+w+": "+d,this.options.lexerErrorsAreRecoverable),_=Array.prototype.slice.call(arguments,1);return _.length&&(g.extra_error_attributes=_),this.parseError(g.errStr,g,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(d){if(this.setInput("",{}),!d){for(var w=this.__error_infos.length-1;w>=0;w--){var g=this.__error_infos[w];g&&typeof g.destroy=="function"&&g.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var d=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:d,last_line:this.yylineno+1,last_column:d,range:[this.offset,this.offset]}},setInput:function(d,w){if(this.yy=w||this.yy||{},!this.__decompressed){for(var g=this.rules,_=0,v=g.length;_<v;_++){var y=g[_];typeof y=="number"&&(g[_]=g[y])}var b=this.conditions;for(var x in b){for(var S=b[x],E=S.rules,v=E.length,T=new Array(v+1),A=new Array(v+1),_=0;_<v;_++){var I=E[_],y=g[I];T[_+1]=y,A[_+1]=I}S.rules=A,S.__rule_regexes=T,S.__rule_count=v}this.__decompressed=!0}return this._input=d||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(d,w){var g=d.call(this,this._input,w);return typeof g!="string"?g&&(this._input=""+g):this._input=g,this},input:function(){if(!this._input)return null;var d=this._input[0];this.yytext+=d,this.yyleng++,this.offset++,this.match+=d,this.matched+=d;var w=1,g=!1;if(d===`
`)g=!0;else if(d==="\r"){g=!0;var _=this._input[1];_===`
`&&(w++,d+=_,this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_,this.yylloc.range[1]++)}return g?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(w),d},unput:function(d){var w=d.length,g=d.split(/(?:\r\n?|\n)/g);if(this._input=d+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-w),this.yyleng=this.yytext.length,this.offset-=w,this.match=this.match.substr(0,this.match.length-w),this.matched=this.matched.substr(0,this.matched.length-w),g.length>1){this.yylineno-=g.length-1,this.yylloc.last_line=this.yylineno+1;var _=this.match,v=_.split(/(?:\r\n?|\n)/g);v.length===1&&(_=this.matched,v=_.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=v[v.length-1].length}else this.yylloc.last_column-=w;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var d="";this.yylloc&&(d=" on line "+(this.yylineno+1));var w=this.constructLexErrorInfo("Lexical error"+d+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(w.errStr,w,this.JisonLexerError)||this.ERROR}return this},less:function(d){return this.unput(this.match.slice(d))},pastInput:function(d,w){var g=this.matched.substring(0,this.matched.length-this.match.length);d<0?d=g.length:d||(d=20),w<0?w=g.length:w||(w=1),g=g.substr(-d*2-2);var _=g.replace(/\r\n|\r/g,`
`).split(`
`);return _=_.slice(-w),g=_.join(`
`),g.length>d&&(g="..."+g.substr(-d)),g},upcomingInput:function(d,w){var g=this.match;d<0?d=g.length+this._input.length:d||(d=20),w<0?w=d:w||(w=1),g.length<d*2+2&&(g+=this._input.substring(0,d*2+2));var _=g.replace(/\r\n|\r/g,`
`).split(`
`);return _=_.slice(0,w),g=_.join(`
`),g.length>d&&(g=g.substring(0,d)+"..."),g},showPosition:function(d,w){var g=this.pastInput(d).replace(/\s/g," "),_=new Array(g.length+1).join("-");return g+this.upcomingInput(w).replace(/\s/g," ")+`
`+_+"^"},deriveLocationInfo:function(d,w,g,_){var v={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return d&&(v.first_line=d.first_line|0,v.last_line=d.last_line|0,v.first_column=d.first_column|0,v.last_column=d.last_column|0,d.range&&(v.range[0]=d.range[0]|0,v.range[1]=d.range[1]|0)),(v.first_line<=0||v.last_line<v.first_line)&&(v.first_line<=0&&w&&(v.first_line=w.last_line|0,v.first_column=w.last_column|0,w.range&&(v.range[0]=d.range[1]|0)),(v.last_line<=0||v.last_line<v.first_line)&&g&&(v.last_line=g.first_line|0,v.last_column=g.first_column|0,g.range&&(v.range[1]=d.range[0]|0)),v.first_line<=0&&_&&(v.last_line<=0||_.last_line<=v.last_line)&&(v.first_line=_.first_line|0,v.first_column=_.first_column|0,_.range&&(v.range[0]=_.range[0]|0)),v.last_line<=0&&_&&(v.first_line<=0||_.first_line>=v.first_line)&&(v.last_line=_.last_line|0,v.last_column=_.last_column|0,_.range&&(v.range[1]=_.range[1]|0))),v.last_line<=0&&(v.first_line<=0?(v.first_line=this.yylloc.first_line,v.last_line=this.yylloc.last_line,v.first_column=this.yylloc.first_column,v.last_column=this.yylloc.last_column,v.range[0]=this.yylloc.range[0],v.range[1]=this.yylloc.range[1]):(v.last_line=this.yylloc.last_line,v.last_column=this.yylloc.last_column,v.range[1]=this.yylloc.range[1])),v.first_line<=0&&(v.first_line=v.last_line,v.first_column=0,v.range[1]=v.range[0]),v.first_column<0&&(v.first_column=0),v.last_column<0&&(v.last_column=v.first_column>0?v.first_column:80),v},prettyPrintRange:function(d,w,g){d=this.deriveLocationInfo(d,w,g);const _=3,v=1,y=2;var b=this.matched+this._input,x=b.split(`
`),S=Math.max(1,w?w.first_line:d.first_line-_),E=Math.max(1,g?g.last_line:d.last_line+v),T=1+Math.log10(E|1)|0,A=new Array(T).join(" "),I=[],N=x.slice(S-1,E+1).map(function(X,C){var $=C+S,M=(A+$).substr(-T),H=M+": "+X,q=new Array(T+1).join("^"),ae=2+1,ce=0;if($===d.first_line?(ae+=d.first_column,ce=Math.max(2,($===d.last_line?d.last_column:X.length)-d.first_column+1)):$===d.last_line?ce=Math.max(2,d.last_column+1):$>d.first_line&&$<d.last_line&&(ce=Math.max(2,X.length+1)),ce){var pe=new Array(ae).join("."),se=new Array(ce).join("^");H+=`
`+q+pe+se,X.trim().length>0&&I.push(C)}return H=H.replace(/\t/g," "),H});if(I.length>2*y){var k=I[y-1]+1,R=I[I.length-y]-1,B=new Array(T+1).join(" ")+"  (...continued...)";B+=`
`+new Array(T+1).join("-")+"  (---------------)",N.splice(k,R-k+1,B)}return N.join(`
`)},describeYYLLOC:function(d,w){var g=d.first_line,_=d.last_line,v=d.first_column,y=d.last_column,b=_-g,x=y-v,S;if(b===0?(S="line "+g+", ",x<=1?S+="column "+v:S+="columns "+v+" .. "+y):S="lines "+g+"(column "+v+") .. "+_+"(column "+y+")",d.range&&w){var E=d.range[0],T=d.range[1]-1;T<=E?S+=" {String Offset: "+E+"}":S+=" {String Offset range: "+E+" .. "+T+"}"}return S},test_match:function(d,w){var g,_,v,y,b;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),y=d[0],b=y.length,_=y.split(/(?:\r\n?|\n)/g),_.length>1?(this.yylineno+=_.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=_[_.length-1].length):this.yylloc.last_column+=b,this.yytext+=y,this.match+=y,this.matched+=y,this.matches=d,this.yyleng=this.yytext.length,this.yylloc.range[1]+=b,this.offset+=b,this._more=!1,this._backtrack=!1,this._input=this._input.slice(b),g=this.performAction.call(this,this.yy,w,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),g)return g;if(this._backtrack){for(var x in v)this[x]=v[x];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return g=this._signaled_error_token,this._signaled_error_token=!1,g;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var d,w,g,_;this._more||this.clear();var v=this.__currentRuleSet__;if(!v&&(v=this.__currentRuleSet__=this._currentRules(),!v||!v.rules)){var y="";this.options.trackPosition&&(y=" on line "+(this.yylineno+1));var b=this.constructLexErrorInfo("Internal lexer engine error"+y+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(b.errStr,b,this.JisonLexerError)||this.ERROR}for(var x=v.rules,S=v.__rule_regexes,E=v.__rule_count,T=1;T<=E;T++)if(g=this._input.match(S[T]),g&&(!w||g[0].length>w[0].length)){if(w=g,_=T,this.options.backtrack_lexer){if(d=this.test_match(g,x[T]),d!==!1)return d;if(this._backtrack){w=void 0;continue}else return!1}else if(!this.options.flex)break}if(w)return d=this.test_match(w,x[_]),d!==!1?d:!1;if(this._input){var y="";this.options.trackPosition&&(y=" on line "+(this.yylineno+1));var b=this.constructLexErrorInfo("Lexical error"+y+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),A=this._input,I=this.topState(),N=this.conditionStack.length;return d=this.parseError(b.errStr,b,this.JisonLexerError)||this.ERROR,d===this.ERROR&&!this.matches&&A===this._input&&I===this.topState()&&N===this.conditionStack.length&&this.input(),d}else return this.done=!0,this.clear(),this.EOF},lex:function(){var d;for(typeof this.pre_lex=="function"&&(d=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(d=this.options.pre_lex.call(this,d)||d),this.yy&&typeof this.yy.pre_lex=="function"&&(d=this.yy.pre_lex.call(this,d)||d);!d;)d=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(d=this.yy.post_lex.call(this,d)||d),typeof this.options.post_lex=="function"&&(d=this.options.post_lex.call(this,d)||d),typeof this.post_lex=="function"&&(d=this.post_lex.call(this,d)||d),d},fastLex:function(){for(var d;!d;)d=this.next();return d},canIUse:function(){var d={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return d},begin:function(d){return this.pushState(d)},pushState:function(d){return this.conditionStack.push(d),this.__currentRuleSet__=null,this},popState:function(){var d=this.conditionStack.length-1;return d>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(d){return d=this.conditionStack.length-1-Math.abs(d||0),d>=0?this.conditionStack[d]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:h,performAction:function(d,w,g){switch(w){case 1:break;default:return this.simpleCaseActionClusters[w]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return p}();l.lexer=c;function f(){this.yy={}}return f.prototype=l,l.Parser=f,new f}();typeof wL!="undefined"&&(t.parser=e,t.Parser=e.Parser,t.parse=function(){return e.parse.apply(e,arguments)})})(nN);var Oc={},S0={exports:{}},pv={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},iY=function(t,e,n,r){if(!pv.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!pv[n].hasOwnProperty(e))throw new Error("Cannot convert from "+e+" to "+n);var i=pv[n][e]*t;return r!==!1?(r=Math.pow(10,parseInt(r)||5),Math.round(i*r)/r):i};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=iY,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(s,u,l){switch(s.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return a(s,u,l);default:return{left:s,right:u}}}function a(s,u,l){return u.type===s.type&&(u={type:s.type,value:(0,r.default)(u.value,u.unit,s.unit,l),unit:s.unit}),{left:s,right:u}}e.default=o,t.exports=e.default})(S0,S0.exports);Object.defineProperty(Oc,"__esModule",{value:!0});Oc.flip=E0;var oY=S0.exports,mv=aY(oY);function aY(t){return t&&t.__esModule?t:{default:t}}function Qt(t,e){return t.type==="MathExpression"?fY(t,e):t.type==="Calc"?Qt(t.value,e):t}function wT(t,e){return t.type===e.type&&t.value===e.value}function gn(t){switch(t){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function sY(t,e){var n=(0,mv.default)(t.left,t.right,e),r=Qt(n.left,e),i=Qt(n.right,e);return r.type==="MathExpression"&&i.type==="MathExpression"&&(r.operator==="/"&&i.operator==="*"||r.operator==="-"&&i.operator==="+"||r.operator==="*"&&i.operator==="/"||r.operator==="+"&&i.operator==="-")&&(wT(r.right,i.right)?n=(0,mv.default)(r.left,i.left,e):wT(r.right,i.left)&&(n=(0,mv.default)(r.left,i.right,e)),r=Qt(n.left,e),i=Qt(n.right,e)),t.left=r,t.right=i,t}function E0(t){return t==="+"?"-":"+"}function T0(t){return gn(t.type)?t.value=-t.value:t.type=="MathExpression"&&(t.left=T0(t.left),t.right=T0(t.right)),t}function uY(t,e){var n=t,r=n.left,i=n.right,o=n.operator;if(r.type==="CssVariable"||i.type==="CssVariable")return t;if(i.value===0)return r;if(r.value===0&&o==="+")return i;if(r.value===0&&o==="-")return T0(i);if(r.type===i.type&&gn(r.type)&&(t=Object.assign({},r),o==="+"?t.value=r.value+i.value:t.value=r.value-i.value),gn(r.type)&&(i.operator==="+"||i.operator==="-")&&i.type==="MathExpression"){if(r.type===i.left.type)return t=Object.assign({},t),t.left=Qt({type:"MathExpression",operator:o,left:r,right:i.left},e),t.right=i.right,t.operator=o==="-"?E0(i.operator):i.operator,Qt(t,e);if(r.type===i.right.type)return t=Object.assign({},t),t.left=Qt({type:"MathExpression",operator:o==="-"?E0(i.operator):i.operator,left:r,right:i.right},e),t.right=i.left,Qt(t,e)}if(r.type==="MathExpression"&&(r.operator==="+"||r.operator==="-")&&gn(i.type)){if(i.type===r.left.type)return t=Object.assign({},r),t.left=Qt({type:"MathExpression",operator:o,left:r.left,right:i},e),Qt(t,e);if(i.type===r.right.type)return t=Object.assign({},r),r.operator==="-"?(t.right=Qt({type:"MathExpression",operator:o==="-"?"+":"-",left:i,right:r.right},e),t.operator=o==="-"?"-":"+"):t.right=Qt({type:"MathExpression",operator:o,left:r.right,right:i},e),t.right.value<0&&(t.right.value*=-1,t.operator=t.operator==="-"?"+":"-"),Qt(t,e)}return t}function lY(t,e){if(!gn(t.right.type))return t;if(t.right.type!=="Value")throw new Error('Cannot divide by "'+t.right.unit+'", number expected');if(t.right.value===0)throw new Error("Cannot divide by zero");return t.left.type==="MathExpression"?gn(t.left.left.type)&&gn(t.left.right.type)?(t.left.left.value/=t.right.value,t.left.right.value/=t.right.value,Qt(t.left,e)):t:gn(t.left.type)?(t.left.value/=t.right.value,t.left):t}function cY(t){if(t.left.type==="MathExpression"&&t.right.type==="Value"){if(gn(t.left.left.type)&&gn(t.left.right.type))return t.left.left.value*=t.right.value,t.left.right.value*=t.right.value,t.left}else{if(gn(t.left.type)&&t.right.type==="Value")return t.left.value*=t.right.value,t.left;if(t.left.type==="Value"&&t.right.type==="MathExpression"){if(gn(t.right.left.type)&&gn(t.right.right.type))return t.right.left.value*=t.left.value,t.right.right.value*=t.left.value,t.right}else if(t.left.type==="Value"&&gn(t.right.type))return t.right.value*=t.left.value,t.right}return t}function fY(t,e){switch(t=sY(t,e),t.operator){case"+":case"-":return uY(t,e);case"/":return lY(t,e);case"*":return cY(t)}return t}Oc.default=Qt;var I0={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a,s,u){var l=o(s,u);return s.type==="MathExpression"&&(l=a+"("+l+")"),l};var n=Oc,r={"*":0,"/":0,"+":1,"-":1};function i(a,s){if(s!==!1){var u=Math.pow(10,s);return Math.round(a*u)/u}return a}function o(a,s){switch(a.type){case"MathExpression":{var u=a.left,l=a.right,c=a.operator,f="";return u.type==="MathExpression"&&r[c]<r[u.operator]?f+="("+o(u,s)+")":f+=o(u,s),f+=" "+a.operator+" ",l.type==="MathExpression"&&r[c]<r[l.operator]?f+="("+o(l,s)+")":(l.type==="MathExpression"&&c==="-"&&["+","-"].includes(l.operator)&&(l.operator=(0,n.flip)(l.operator)),f+=o(l,s)),f}case"Value":return i(a.value,s);case"CssVariable":return a.fallback?"var("+a.value+", "+o(a.fallback,s)+")":"var("+a.value+")";case"Calc":return a.prefix?"-"+a.prefix+"-calc("+o(a.value,s)+")":"calc("+o(a.value,s)+")";default:return i(a.value,s)+a.unit}}t.exports=e.default})(I0,I0.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=rY,r=l(n),i=nN,o=Oc,a=l(o),s=I0.exports,u=l(s);function l(f){return f&&f.__esModule?f:{default:f}}var c=/((?:\-[a-z]+\-)?calc)/;e.default=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,r.default)(f).walk(function(p){if(!(p.type!=="function"||!c.test(p.value))){var m=r.default.stringify(p.nodes);if(!(m.indexOf("constant")>=0||m.indexOf("env")>=0)){var d=i.parser.parse(m),w=(0,a.default)(d,h);p.type="word",p.value=(0,u.default)(p.value,w,h)}}},!0).toString()},t.exports=e.default})(x0,x0.exports);var gv=yL(x0.exports);function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){hY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xT(t){return gY(t)||mY(t)||pY(t)||dY()}function dY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pY(t,e){if(!!t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function mY(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function gY(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ma={widthCache:{},cacheCount:0},vY=2e3,yY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wY=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],ST="recharts_measurement_span";function _Y(t,e){return wY.indexOf(t)>=0&&e===+e?"".concat(e,"px"):e}function bY(t){var e=t.split(""),n=e.reduce(function(r,i){return i===i.toUpperCase()?[].concat(xT(r),["-",i.toLowerCase()]):[].concat(xT(r),[i])},[]);return n.join("")}var xY=function(e){return Object.keys(e).reduce(function(n,r){return"".concat(n).concat(bY(r),":").concat(_Y(r,e[r]),";")},"")},Co=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ji.isSsr)return{width:0,height:0};var r="".concat(e),i=xY(n),o="".concat(r,"-").concat(i);if(Ma.widthCache[o])return Ma.widthCache[o];try{var a=document.getElementById(ST);a||(a=document.createElement("span"),a.setAttribute("id",ST),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=bT(bT({},yY),n);Object.keys(s).map(function(c){return a.style[c]=s[c],c}),a.textContent=r;var u=a.getBoundingClientRect(),l={width:u.width,height:u.height};return Ma.widthCache[o]=l,++Ma.cacheCount>vY&&(Ma.cacheCount=0,Ma.widthCache={}),l}catch{return{width:0,height:0}}},SY=function(e){var n=e.ownerDocument.documentElement,r={top:0,left:0};return typeof e.getBoundingClientRect!="undefined"&&(r=e.getBoundingClientRect()),{top:r.top+window.pageYOffset-n.clientTop,left:r.left+window.pageXOffset-n.clientLeft}},EY=function(e,n){return{chartX:Math.round(e.pageX-n.left),chartY:Math.round(e.pageY-n.top)}};function yh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yh=function(n){return typeof n}:yh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yh(t)}function TY(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function IY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ET(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kY(t,e,n){return e&&ET(t.prototype,e),n&&ET(t,n),t}function OY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},k0(t,e)}function CY(t){var e=NY();return function(){var r=$d(t),i;if(e){var o=$d(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PY(this,i)}}function PY(t,e){return e&&(yh(e)==="object"||typeof e=="function")?e:$Y(t)}function $Y(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NY(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function TT(t,e){return LY(t)||RY(t,e)||DY(t,e)||MY()}function MY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DY(t,e){if(!!t){if(typeof t=="string")return IT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(t,e)}}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RY(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function LY(t){if(Array.isArray(t))return t}function AT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rN=/[ \f\n\r\t\v\u2028\u2029]+/,iN=function(e){try{var n=[];fe(e.children)||(e.breakAll?n=e.children.toString().split(""):n=e.children.toString().split(rN));var r=n.map(function(o){return{word:o,width:Co(o,e.style).width}}),i=e.breakAll?0:Co("\xA0",e.style).width;return{wordsWithComputedWidth:r,spaceWidth:i}}catch{return null}},jY=function(e,n,r,i,o){var a=J(e.maxLines),s=e.children,u=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(N,k){var R=k.word,B=k.width,j=N[N.length-1];if(j&&(i==null||o||j.width+B+r<i))j.words.push(R),j.width+=B+r;else{var X={words:[R],width:B};N.push(X)}return N},[])},l=u(n),c=function(I){return I.reduce(function(N,k){return N.width>k.width?N:k})};if(!a)return l;for(var f="\u2026",h=function(I){var N=s.slice(0,I),k=iN(kT(kT({},e),{},{children:N+f})).wordsWithComputedWidth,R=u(k),B=R.length>e.maxLines||c(R).width>i;return[B,R]},p=0,m=s.length-1,d=0,w;p<=m&&d<=s.length-1;){var g=Math.floor((p+m)/2),_=g-1,v=h(_),y=TT(v,2),b=y[0],x=y[1],S=h(g),E=TT(S,1),T=E[0];if(!b&&!T&&(p=g+1),b&&T&&(m=g-1),!b&&T){w=x;break}d++}return w||l},OT=function(e){var n=fe(e)?[]:e.toString().split(rN);return[{words:n}]},UY=function(e,n){if((e.width||e.scaleToFit)&&!ji.isSsr){var r,i;if(n){var o=iN(e);if(o){var a=o.wordsWithComputedWidth,s=o.spaceWidth;r=a,i=s}else return OT(e.children);return jY(e,r,i,e.width,e.scaleToFit)}}return OT(e.children)},Vl=function(t){OY(n,t);var e=CY(n);function n(){var r;AY(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={},r}return kY(n,[{key:"render",value:function(){var i=this.props,o=i.dx,a=i.dy,s=i.textAnchor,u=i.verticalAnchor,l=i.scaleToFit,c=i.angle,f=i.lineHeight,h=i.capHeight,p=i.className,m=i.breakAll,d=TY(i,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"]),w=this.state.wordsByLines;if(!yt(d.x)||!yt(d.y))return null;var g=d.x+(J(o)?o:0),_=d.y+(J(a)?a:0),v;switch(u){case"start":v=gv("calc(".concat(h,")"));break;case"middle":v=gv("calc(".concat((w.length-1)/2," * -").concat(f," + (").concat(h," / 2))"));break;default:v=gv("calc(".concat(w.length-1," * -").concat(f,")"));break}var y=[];if(l){var b=w[0].width,x=this.props.width;y.push("scale(".concat((J(x)?x/b:1)/b,")"))}return c&&y.push("rotate(".concat(c,", ").concat(g,", ").concat(_,")")),y.length&&(d.transform=y.join(" ")),O("text",{...$e(d,!0),x:g,y:_,className:He("recharts-text",p),textAnchor:s,children:w.map(function(S,E){return O("tspan",{x:g,dy:E===0?v:f,children:S.words.join(m?"":" ")},E)})})}}],[{key:"getDerivedStateFromProps",value:function(i,o){if(i.width!==o.prevWidth||i.scaleToFit!==o.prevScaleToFit||i.children!==o.prevChildren||i.style!==o.prevStyle||i.breakAll!==o.prevBreakAll){var a=i.children!==o.prevChildren||i.style!==o.prevStyle||i.breakAll!==o.prevBreakAll;return{prevWidth:i.width,prevScaleToFit:i.scaleToFit,prevChildren:i.children,prevStyle:i.style,wordsByLines:UY(i,a)}}return null}}]),n}(G.exports.Component);Vl.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"};function zl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function CT(t,e){if(t==null)return{};var n=BY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function BY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var PT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ui=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$T=null,vv=null,g_=function t(e){if(e===$T&&Ce(vv))return vv;var n=[];return G.exports.Children.forEach(e,function(r){fe(r)||(L1.exports.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),vv=n,$T=e,n},Tr=function(e,n){var r=[],i=[];return Ce(n)?i=n.map(function(o){return Ui(o)}):i=[Ui(n)],g_(e).forEach(function(o){var a=$n(o,"type.displayName")||$n(o,"type.name");i.indexOf(a)!==-1&&r.push(o)}),r},Vr=function(e,n){var r=Tr(e,n);return r&&r[0]},NT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!J(r)||r<=0||!J(i)||i<=0)},VY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zY=function(e){return e&&e.type&&kc(e.type)&&VY.indexOf(e.type)>=0},oN=function t(e,n){if(e===n)return!0;var r=G.exports.Children.count(e);if(r!==G.exports.Children.count(n))return!1;if(r===0)return!0;if(r===1)return MT(Ce(e)?e[0]:e,Ce(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Ce(o)||Ce(a)){if(!t(o,a))return!1}else if(!MT(o,a))return!1}return!0},MT=function(e,n){if(fe(e)&&fe(n))return!0;if(!fe(e)&&!fe(n)){var r=e.props||{},i=r.children,o=CT(r,["children"]),a=n.props||{},s=a.children,u=CT(a,["children"]);return i&&s?zl(o,u)&&oN(i,s):!i&&!s?zl(o,u):!1}return!1},DT=function(e,n){var r=[],i={};return g_(e).forEach(function(o,a){if(zY(o))r.push(o);else if(o){var s=Ui(o.type),u=n[s]||{},l=u.handler,c=u.once;if(l&&(!c||!i[s])){var f=l(o,s,a);r.push(f),i[s]=!0}}}),r},qY=function(e){var n=e&&e.type;return n&&PT[n]?PT[n]:null},HY=function(e,n){return g_(n).indexOf(e)},WY=n_;function GY(t,e){return WY(t,e)}var aN=GY,KY=eu;function QY(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!KY(a):n(a,s)))var s=a,u=o}return u}var sN=QY;function YY(t,e){return t>e}var XY=YY,JY=sN,ZY=XY,eX=tu;function tX(t){return t&&t.length?JY(t,eX,ZY):void 0}var _m=tX;function nX(t,e){return t<e}var rX=nX,iX=sN,oX=rX,aX=tu;function sX(t){return t&&t.length?iX(t,aX,oX):void 0}var bm=sX,uX=o_,lX=lo,cX=Y$,fX=Ce;function hX(t,e){var n=fX(t)?uX:cX;return n(t,lX(e))}var dX=hX,pX=K$,mX=dX;function gX(t,e){return pX(mX(t,e),1)}var vX=gX,nu=1e9,yX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y_,Ye=!0,Zn="[DecimalError] ",Go=Zn+"Invalid argument: ",v_=Zn+"Exponent out of range: ",ru=Math.floor,ko=Math.pow,wX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,bt=1e7,ze=7,uN=9007199254740991,Nd=ru(uN/ze),re={};re.absoluteValue=re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};re.comparedTo=re.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};re.decimalPlaces=re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ze;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};re.dividedBy=re.div=function(t){return Qr(this,new this.constructor(t))};re.dividedToIntegerBy=re.idiv=function(t){var e=this,n=e.constructor;return Le(Qr(e,new n(t),0,1),n.precision)};re.equals=re.eq=function(t){return!this.cmp(t)};re.exponent=function(){return pt(this)};re.greaterThan=re.gt=function(t){return this.cmp(t)>0};re.greaterThanOrEqualTo=re.gte=function(t){return this.cmp(t)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(t){return this.cmp(t)<0};re.lessThanOrEqualTo=re.lte=function(t){return this.cmp(t)<1};re.logarithm=re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kn))throw Error(Zn+"NaN");if(n.s<1)throw Error(Zn+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new r(0):(Ye=!1,e=Qr(ql(n,o),ql(t,o),o),Ye=!0,Le(e,i))};re.minus=re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fN(e,t):lN(e,(t.s=-t.s,t))};re.modulo=re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zn+"NaN");return n.s?(Ye=!1,e=Qr(n,t,0,1).times(t),Ye=!0,n.minus(e)):Le(new r(n),i)};re.naturalExponential=re.exp=function(){return cN(this)};re.naturalLogarithm=re.ln=function(){return ql(this)};re.negated=re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};re.plus=re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lN(e,t):fN(e,(t.s=-t.s,t))};re.precision=re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Go+t);if(e=pt(i)+1,r=i.d.length-1,n=r*ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};re.squareRoot=re.sqrt=function(){var t,e,n,r,i,o,a,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(Zn+"NaN")}for(t=pt(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=wr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ru((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(o=r,r=o.plus(Qr(s,o,a+2)).times(.5),wr(o.d).slice(0,a)===(e=wr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Le(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Ye=!0,Le(r,n)};re.times=re.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,u=h.length,l=p.length,u<l&&(o=h,h=p,p=o,a=u,u=l,l=a),o=[],a=u+l,r=a;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%bt|0,e=s/bt|0;o[i]=(o[i]+e)%bt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ye?Le(t,f.precision):t};re.toDecimalPlaces=re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Nr(t,0,nu),e===void 0?e=r.rounding:Nr(e,0,8),Le(n,t+pt(n)+1,e))};re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=na(r,!0):(Nr(t,0,nu),e===void 0?e=i.rounding:Nr(e,0,8),r=Le(new i(r),t+1,e),n=na(r,!0,t+1)),n};re.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?na(i):(Nr(t,0,nu),e===void 0?e=o.rounding:Nr(e,0,8),r=Le(new o(i),t+pt(i)+1,e),n=na(r.abs(),!1,t+pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};re.toInteger=re.toint=function(){var t=this,e=t.constructor;return Le(new e(t),pt(t)+1,e.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(kn);if(s=new u(s),!s.s){if(t.s<1)throw Error(Zn+"Infinity");return s}if(s.eq(kn))return s;if(r=u.precision,t.eq(kn))return Le(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=uN){for(i=new u(kn),e=Math.ceil(r/ze+4),Ye=!1;n%2&&(i=i.times(s),LT(i.d,e)),n=ru(n/2),n!==0;)s=s.times(s),LT(s.d,e);return Ye=!0,t.s<0?new u(kn).div(i):Le(i,r)}}else if(o<0)throw Error(Zn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Ye=!1,i=t.times(ql(s,r+l)),Ye=!0,i=cN(i),i.s=o,i};re.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=pt(i),r=na(i,n<=o.toExpNeg||n>=o.toExpPos)):(Nr(t,1,nu),e===void 0?e=o.rounding:Nr(e,0,8),i=Le(new o(i),t,e),n=pt(i),r=na(i,t<=n||n<=o.toExpNeg,t)),r};re.toSignificantDigits=re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Nr(t,1,nu),e===void 0?e=r.rounding:Nr(e,0,8)),Le(new r(n),t,e)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pt(t),n=t.constructor;return na(t,e<=n.toExpNeg||e>=n.toExpPos)};function lN(t,e){var n,r,i,o,a,s,u,l,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ye?Le(e,f):e;if(u=t.d,l=e.d,a=t.e,i=e.e,u=u.slice(),o=a-i,o){for(o<0?(r=u,o=-o,s=l.length):(r=l,i=a,s=u.length),a=Math.ceil(f/ze),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=u.length,o=l.length,s-o<0&&(o=s,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/bt|0,u[o]%=bt;for(n&&(u.unshift(n),++i),s=u.length;u[--s]==0;)u.pop();return e.d=u,e.e=i,Ye?Le(e,f):e}function Nr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Go+t)}function wr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ze-r.length,n&&(o+=yi(n)),o+=r;a=t[e],r=a+"",n=ze-r.length,n&&(o+=yi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Qr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%bt|0,a=o/bt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,u;if(o!=a)u=o>a?1:-1;else for(s=u=0;s<o;s++)if(r[s]!=i[s]){u=r[s]>i[s]?1:-1;break}return u}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*bt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,u,l,c,f,h,p,m,d,w,g,_,v,y,b,x,S,E,T=r.constructor,A=r.s==i.s?1:-1,I=r.d,N=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Zn+"Division by zero");for(u=r.e-i.e,S=N.length,b=I.length,p=new T(A),m=p.d=[],l=0;N[l]==(I[l]||0);)++l;if(N[l]>(I[l]||0)&&--u,o==null?_=o=T.precision:a?_=o+(pt(r)-pt(i))+1:_=o,_<0)return new T(0);if(_=_/ze+2|0,l=0,S==1)for(c=0,N=N[0],_++;(l<b||c)&&_--;l++)v=c*bt+(I[l]||0),m[l]=v/N|0,c=v%N|0;else{for(c=bt/(N[0]+1)|0,c>1&&(N=t(N,c),I=t(I,c),S=N.length,b=I.length),y=S,d=I.slice(0,S),w=d.length;w<S;)d[w++]=0;E=N.slice(),E.unshift(0),x=N[0],N[1]>=bt/2&&++x;do c=0,s=e(N,d,S,w),s<0?(g=d[0],S!=w&&(g=g*bt+(d[1]||0)),c=g/x|0,c>1?(c>=bt&&(c=bt-1),f=t(N,c),h=f.length,w=d.length,s=e(f,d,h,w),s==1&&(c--,n(f,S<h?E:N,h))):(c==0&&(s=c=1),f=N.slice()),h=f.length,h<w&&f.unshift(0),n(d,f,w),s==-1&&(w=d.length,s=e(N,d,S,w),s<1&&(c++,n(d,S<w?E:N,w))),w=d.length):s===0&&(c++,d=[0]),m[l++]=c,s&&d[0]?d[w++]=I[y]||0:(d=[I[y]],w=1);while((y++<b||d[0]!==void 0)&&_--)}return m[0]||m.shift(),p.e=u,Le(p,a?o+pt(p)+1:o)}}();function cN(t,e){var n,r,i,o,a,s,u=0,l=0,c=t.constructor,f=c.precision;if(pt(t)>16)throw Error(v_+pt(t));if(!t.s)return new c(kn);for(e==null?(Ye=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(r=Math.log(ko(2,l))/Math.LN10*2+5|0,s+=r,n=i=o=new c(kn),c.precision=s;;){if(i=Le(i.times(t),s),n=n.times(++u),a=o.plus(Qr(i,n,s)),wr(a.d).slice(0,s)===wr(o.d).slice(0,s)){for(;l--;)o=Le(o.times(o),s);return c.precision=f,e==null?(Ye=!0,Le(o,f)):o}o=a}}function pt(t){for(var e=t.e*ze,n=t.d[0];n>=10;n/=10)e++;return e}function yv(t,e,n){if(e>t.LN10.sd())throw Ye=!0,n&&(t.precision=n),Error(Zn+"LN10 precision limit exceeded");return Le(new t(t.LN10),e)}function yi(t){for(var e="";t--;)e+="0";return e}function ql(t,e){var n,r,i,o,a,s,u,l,c,f=1,h=10,p=t,m=p.d,d=p.constructor,w=d.precision;if(p.s<1)throw Error(Zn+(p.s?"NaN":"-Infinity"));if(p.eq(kn))return new d(0);if(e==null?(Ye=!1,l=w):l=e,p.eq(10))return e==null&&(Ye=!0),yv(d,l);if(l+=h,d.precision=l,n=wr(m),r=n.charAt(0),o=pt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=wr(p.d),r=n.charAt(0),f++;o=pt(p),r>1?(p=new d("0."+n),o++):p=new d(r+"."+n.slice(1))}else return u=yv(d,l+2,w).times(o+""),p=ql(new d(r+"."+n.slice(1)),l-h).plus(u),d.precision=w,e==null?(Ye=!0,Le(p,w)):p;for(s=a=p=Qr(p.minus(kn),p.plus(kn),l),c=Le(p.times(p),l),i=3;;){if(a=Le(a.times(c),l),u=s.plus(Qr(a,new d(i),l)),wr(u.d).slice(0,l)===wr(s.d).slice(0,l))return s=s.times(2),o!==0&&(s=s.plus(yv(d,l+2,w).times(o+""))),s=Qr(s,new d(f),l),d.precision=w,e==null?(Ye=!0,Le(s,w)):s;s=u,i+=2}}function RT(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ru(n/ze),t.d=[],r=(n+1)%ze,n<0&&(r+=ze),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ze;r<i;)t.d.push(+e.slice(r,r+=ze));e=e.slice(r),r=ze-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ye&&(t.e>Nd||t.e<-Nd))throw Error(v_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Le(t,e,n){var r,i,o,a,s,u,l,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ze,i=e,l=f[c=0];else{if(c=Math.ceil((r+1)/ze),o=f.length,c>=o)return t;for(l=o=f[c],a=1;o>=10;o/=10)a++;r%=ze,i=r-ze+a}if(n!==void 0&&(o=ko(10,a-i-1),s=l/o%10|0,u=e<0||f[c+1]!==void 0||l%o,u=n<4?(s||u)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||u||n==6&&(r>0?i>0?l/ko(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return u?(o=pt(t),f.length=1,e=e-o-1,f[0]=ko(10,(ze-e%ze)%ze),t.e=ru(-e/ze)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ko(10,ze-r),f[c]=i>0?(l/ko(10,a-i)%ko(10,i)|0)*o:0),u)for(;;)if(c==0){(f[0]+=o)==bt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=bt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Ye&&(t.e>Nd||t.e<-Nd))throw Error(v_+pt(t));return t}function fN(t,e){var n,r,i,o,a,s,u,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ye?Le(e,p):e;if(u=t.d,f=e.d,r=e.e,l=t.e,u=u.slice(),a=l-r,a){for(c=a<0,c?(n=u,a=-a,s=f.length):(n=f,r=l,s=u.length),i=Math.max(Math.ceil(p/ze),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(u[i]!=f[i]){c=u[i]<f[i];break}a=0}for(c&&(n=u,u=f,f=n,e.s=-e.s),s=u.length,i=f.length-s;i>0;--i)u[s++]=0;for(i=f.length;i>a;){if(u[--i]<f[i]){for(o=i;o&&u[--o]===0;)u[o]=bt-1;--u[o],u[i]+=bt}u[i]-=f[i]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,Ye?Le(e,p):e):new h(0)}function na(t,e,n){var r,i=pt(t),o=wr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+yi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+yi(-i-1)+o,n&&(r=n-a)>0&&(o+=yi(r))):i>=a?(o+=yi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+yi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=yi(r))),t.s<0?"-"+o:o}function LT(t,e){if(t.length>e)return t.length=e,!0}function hN(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Go+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return RT(a,o.toString())}else if(typeof o!="string")throw Error(Go+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,wX.test(o))RT(a,o);else throw Error(Go+o)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hN,i.config=i.set=_X,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function _X(t){if(!t||typeof t!="object")throw Error(Zn+"Object expected");var e,n,r,i=["precision",1,nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ru(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Go+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Go+n+": "+r);return this}var y_=hN(yX);kn=new y_(1);var De=y_;function bX(t){return TX(t)||EX(t)||SX(t)||xX()}function xX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SX(t,e){if(!!t){if(typeof t=="string")return O0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(t,e)}}function EX(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function TX(t){if(Array.isArray(t))return O0(t)}function O0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IX=function(e){return e},dN={"@@functional/placeholder":!0},pN=function(e){return e===dN},FT=function(e){return function n(){return arguments.length===0||arguments.length===1&&pN(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},AX=function t(e,n){return e===1?n:FT(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==dN}).length;return a>=e?n.apply(void 0,i):t(e-a,FT(function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=i.map(function(f){return pN(f)?u.shift():f});return n.apply(void 0,bX(c).concat(u))}))})},xm=function(e){return AX(e.length,e)},C0=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},kX=xm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),OX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return IX;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,u){return u(s)},o.apply(void 0,arguments))}},P0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mN=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,u){return s===n[u]})||(n=o,r=e.apply(void 0,o)),r}};function CX(t){var e;return t===0?e=1:e=Math.floor(new De(t).abs().log(10).toNumber())+1,e}function PX(t,e,n){for(var r=new De(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var $X=xm(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),NX=xm(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),MX=xm(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))}),Sm={rangeStep:PX,getDigitCount:CX,interpolateNumber:$X,uninterpolateNumber:NX,uninterpolateTruncation:MX};function $0(t){return LX(t)||RX(t)||gN(t)||DX()}function DX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function LX(t){if(Array.isArray(t))return N0(t)}function Hl(t,e){return UX(t)||jX(t,e)||gN(t,e)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gN(t,e){if(!!t){if(typeof t=="string")return N0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(t,e)}}function N0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jX(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function UX(t){if(Array.isArray(t))return t}function vN(t){var e=Hl(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function yN(t,e,n){if(t.lte(0))return new De(0);var r=Sm.getDigitCount(t.toNumber()),i=new De(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new De(Math.ceil(o.div(a).toNumber())).add(n).mul(a),u=s.mul(i);return e?u:new De(Math.ceil(u))}function BX(t,e,n){var r=1,i=new De(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new De(10).pow(Sm.getDigitCount(t)-1),i=new De(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new De(Math.floor(t)))}else t===0?i=new De(Math.floor((e-1)/2)):n||(i=new De(Math.floor(t)));var a=Math.floor((e-1)/2),s=OX(kX(function(u){return i.add(new De(u-a).mul(r)).toNumber()}),C0);return s(0,e)}function wN(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var o=yN(new De(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new De(0):(a=new De(t).add(e).div(2),a=a.sub(new De(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),u=Math.ceil(new De(e).sub(a).div(o).toNumber()),l=s+u+1;return l>n?wN(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,s=e>0?s:s+(n-l)),{step:o,tickMin:a.sub(new De(s).mul(o)),tickMax:a.add(new De(u).mul(o))})}function VX(t){var e=Hl(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=vN([n,r]),u=Hl(s,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var f=c===1/0?[l].concat($0(C0(0,i-1).map(function(){return 1/0}))):[].concat($0(C0(0,i-1).map(function(){return-1/0})),[c]);return n>r?P0(f):f}if(l===c)return BX(l,i,o);var h=wN(l,c,a,o),p=h.step,m=h.tickMin,d=h.tickMax,w=Sm.rangeStep(m,d.add(new De(.1).mul(p)),p);return n>r?P0(w):w}function zX(t,e){var n=Hl(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=vN([r,i]),s=Hl(a,2),u=s[0],l=s[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),f=yN(new De(l).sub(u).div(c-1),o,0),h=[].concat($0(Sm.rangeStep(new De(u),new De(l).sub(new De(.99).mul(f)),f)),[l]);return r>i?P0(h):h}var qX=mN(VX),HX=mN(zX);function Cc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function w_(t){let e=t,n=t;t.length===1&&(e=(a,s)=>t(a)-s,n=WX(t));function r(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;n(a[c],s)<0?u=c+1:l=c}return u}function i(a,s,u,l){for(u==null&&(u=0),l==null&&(l=a.length);u<l;){const c=u+l>>>1;n(a[c],s)>0?l=c:u=c+1}return u}function o(a,s,u,l){u==null&&(u=0),l==null&&(l=a.length);const c=r(a,s,u,l-1);return c>u&&e(a[c-1],s)>-e(a[c],s)?c-1:c}return{left:r,center:o,right:i}}function WX(t){return(e,n)=>Cc(t(e),n)}function _N(t){return t===null?NaN:+t}function*GX(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const KX=w_(Cc),QX=KX.right;w_(_N).center;var Pc=QX,M0=Math.sqrt(50),D0=Math.sqrt(10),R0=Math.sqrt(2);function L0(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=bN(t,e,n))===0||!isFinite(s))return[];if(s>0){let u=Math.round(t/s),l=Math.round(e/s);for(u*s<t&&++u,l*s>e&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)*s}else{s=-s;let u=Math.round(t*s),l=Math.round(e*s);for(u/s<t&&++u,l/s>e&&--l,a=new Array(o=l-u+1);++i<o;)a[i]=(u+i)/s}return r&&a.reverse(),a}function bN(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=M0?10:o>=D0?5:o>=R0?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=M0?10:o>=D0?5:o>=R0?2:1)}function F0(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=M0?i*=10:o>=D0?i*=5:o>=R0&&(i*=2),e<t?-i:i}function jT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function UT(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function xN(t,e,n=0,r=t.length-1,i=Cc){for(;r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+h)),m=Math.min(r,Math.floor(e+(u-l)*f/u+h));xN(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Pu(t,n,e),i(t[r],o)>0&&Pu(t,n,r);a<s;){for(Pu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Pu(t,n,s):(++s,Pu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Pu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function YX(t,e,n){if(t=Float64Array.from(GX(t,n)),!!(r=t.length)){if((e=+e)<=0||r<2)return UT(t);if(e>=1)return jT(t);var r,i=(r-1)*e,o=Math.floor(i),a=jT(xN(t,o).subarray(0,o+1)),s=UT(t.subarray(o+1));return a+(s-a)*(i-o)}}function XX(t,e,n=_N){if(!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function JX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ai(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const j0=Symbol("implicit");function __(){var t=new Map,e=[],n=[],r=j0;function i(o){var a=o+"",s=t.get(a);if(!s){if(r!==j0)return r;t.set(a,s=e.push(o))}return n[(s-1)%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Map;for(const a of o){const s=a+"";t.has(s)||t.set(s,e.push(a))}return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return __(e,n).unknown(r)},tr.apply(i,arguments),i}function Wl(){var t=__().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,d=p?r:i;o=(d-m)/Math.max(1,h-u+l*2),s&&(o=Math.floor(o)),m+=(d-m-o*(h-u))*c,a=o*(1-u),s&&(m=Math.round(m),a=Math.round(a));var w=JX(h).map(function(g){return m+o*g});return n(p?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},t.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},t.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Wl(e(),[r,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},tr.apply(f(),arguments)}function SN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return SN(e())},t}function hl(){return SN(Wl.apply(null,arguments).paddingInner(1))}function b_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $c(){}var Gl=.7,Md=1/Gl,ls="\\s*([+-]?\\d+)\\s*",Kl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZX=/^#([0-9a-f]{3,8})$/,eJ=new RegExp("^rgb\\("+[ls,ls,ls]+"\\)$"),tJ=new RegExp("^rgb\\("+[Ir,Ir,Ir]+"\\)$"),nJ=new RegExp("^rgba\\("+[ls,ls,ls,Kl]+"\\)$"),rJ=new RegExp("^rgba\\("+[Ir,Ir,Ir,Kl]+"\\)$"),iJ=new RegExp("^hsl\\("+[Kl,Ir,Ir]+"\\)$"),oJ=new RegExp("^hsla\\("+[Kl,Ir,Ir,Kl]+"\\)$"),BT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b_($c,Ql,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:VT,formatHex:VT,formatHsl:aJ,formatRgb:zT,toString:zT});function VT(){return this.rgb().formatHex()}function aJ(){return TN(this).formatHsl()}function zT(){return this.rgb().formatRgb()}function Ql(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ZX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qT(e):n===3?new Cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Df(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Df(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eJ.exec(t))?new Cn(e[1],e[2],e[3],1):(e=tJ.exec(t))?new Cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nJ.exec(t))?Df(e[1],e[2],e[3],e[4]):(e=rJ.exec(t))?Df(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iJ.exec(t))?GT(e[1],e[2]/100,e[3]/100,1):(e=oJ.exec(t))?GT(e[1],e[2]/100,e[3]/100,e[4]):BT.hasOwnProperty(t)?qT(BT[t]):t==="transparent"?new Cn(NaN,NaN,NaN,0):null}function qT(t){return new Cn(t>>16&255,t>>8&255,t&255,1)}function Df(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cn(t,e,n,r)}function sJ(t){return t instanceof $c||(t=Ql(t)),t?(t=t.rgb(),new Cn(t.r,t.g,t.b,t.opacity)):new Cn}function U0(t,e,n,r){return arguments.length===1?sJ(t):new Cn(t,e,n,r==null?1:r)}function Cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}b_(Cn,U0,EN($c,{brighter:function(t){return t=t==null?Md:Math.pow(Md,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Gl:Math.pow(Gl,t),new Cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HT,formatHex:HT,formatRgb:WT,toString:WT}));function HT(){return"#"+wv(this.r)+wv(this.g)+wv(this.b)}function WT(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function wv(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function GT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vr(t,e,n,r)}function TN(t){if(t instanceof vr)return new vr(t.h,t.s,t.l,t.opacity);if(t instanceof $c||(t=Ql(t)),!t)return new vr;if(t instanceof vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new vr(a,s,u,t.opacity)}function uJ(t,e,n,r){return arguments.length===1?TN(t):new vr(t,e,n,r==null?1:r)}function vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}b_(vr,uJ,EN($c,{brighter:function(t){return t=t==null?Md:Math.pow(Md,t),new vr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Gl:Math.pow(Gl,t),new vr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cn(_v(t>=240?t-240:t+120,i,r),_v(t,i,r),_v(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function _v(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var x_=t=>()=>t;function lJ(t,e){return function(n){return t+n*e}}function cJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fJ(t){return(t=+t)==1?IN:function(e,n){return n-e?cJ(e,n,t):x_(isNaN(e)?n:e)}}function IN(t,e){var n=e-t;return n?lJ(t,n):x_(isNaN(t)?e:t)}var KT=function t(e){var n=fJ(e);function r(i,o){var a=n((i=U0(i)).r,(o=U0(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=IN(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function hJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function dJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=iu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Dd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=iu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var B0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bv=new RegExp(B0.source,"g");function vJ(t){return function(){return t}}function yJ(t){return function(e){return t(e)+""}}function wJ(t,e){var n=B0.lastIndex=bv.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=B0.exec(t))&&(i=bv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Dd(r,i)})),n=bv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?yJ(u[0].x):vJ(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function iu(t,e){var n=typeof e,r;return e==null||n==="boolean"?x_(e):(n==="number"?Dd:n==="string"?(r=Ql(e))?(e=r,KT):wJ:e instanceof Ql?KT:e instanceof Date?mJ:dJ(e)?hJ:Array.isArray(e)?pJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gJ:Dd)(t,e)}function S_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _J(t,e){e===void 0&&(e=t,t=iu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function bJ(t){return function(){return t}}function Rd(t){return+t}var QT=[0,1];function un(t){return t}function V0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bJ(isNaN(e)?NaN:.5)}function xJ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function SJ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=V0(i,r),o=n(a,o)):(r=V0(r,i),o=n(o,a)),function(s){return o(r(s))}}function EJ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=V0(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=Pc(t,s,1,r)-1;return o[u](i[u](s))}}function Nc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Em(){var t=QT,e=QT,n=iu,r,i,o,a=un,s,u,l;function c(){var h=Math.min(t.length,e.length);return a!==un&&(a=xJ(t[0],t[h-1])),s=h>2?EJ:SJ,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?o:(u||(u=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((l||(l=s(e,t.map(r),Dd)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Rd),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=S_,c()},f.clamp=function(h){return arguments.length?(a=h?!0:un,c()):a!==un},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function E_(){return Em()(un,un)}function TJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ld(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ks(t){return t=Ld(Math.abs(t)),t?t[1]:NaN}function IJ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function AJ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fd(t){if(!(e=kJ.exec(t)))throw new Error("invalid format: "+t);var e;return new T_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fd.prototype=T_.prototype;function T_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}T_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OJ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var AN;function CJ(t,e){var n=Ld(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(AN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ld(t,Math.max(0,e+o-1))[0]}function YT(t,e){var n=Ld(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var XT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YT(t*100,e),r:YT,s:CJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JT(t){return t}var ZT=Array.prototype.map,eI=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function PJ(t){var e=t.grouping===void 0||t.thousands===void 0?JT:IJ(ZT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?JT:AJ(ZT.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=Fd(f);var h=f.fill,p=f.align,m=f.sign,d=f.symbol,w=f.zero,g=f.width,_=f.comma,v=f.precision,y=f.trim,b=f.type;b==="n"?(_=!0,b="g"):XT[b]||(v===void 0&&(v=12),y=!0,b="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var x=d==="$"?n:d==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S=d==="$"?r:/[%p]/.test(b)?a:"",E=XT[b],T=/[defgprs%]/.test(b);v=v===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function A(I){var N=x,k=S,R,B,j;if(b==="c")k=E(I)+k,I="";else{I=+I;var X=I<0||1/I<0;if(I=isNaN(I)?u:E(Math.abs(I),v),y&&(I=OJ(I)),X&&+I==0&&m!=="+"&&(X=!1),N=(X?m==="("?m:s:m==="-"||m==="("?"":m)+N,k=(b==="s"?eI[8+AN/3]:"")+k+(X&&m==="("?")":""),T){for(R=-1,B=I.length;++R<B;)if(j=I.charCodeAt(R),48>j||j>57){k=(j===46?i+I.slice(R+1):I.slice(R))+k,I=I.slice(0,R);break}}}_&&!w&&(I=e(I,1/0));var C=N.length+I.length+k.length,$=C<g?new Array(g-C+1).join(h):"";switch(_&&w&&(I=e($+I,$.length?g-k.length:1/0),$=""),p){case"<":I=N+I+k+$;break;case"=":I=N+$+I+k;break;case"^":I=$.slice(0,C=$.length>>1)+N+I+k+$.slice(C);break;default:I=$+N+I+k;break}return o(I)}return A.toString=function(){return f+""},A}function c(f,h){var p=l((f=Fd(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ks(h)/3)))*3,d=Math.pow(10,-m),w=eI[8+m/3];return function(g){return p(d*g)+w}}return{format:l,formatPrefix:c}}var Rf,I_,kN;$J({thousands:",",grouping:[3],currency:["$",""]});function $J(t){return Rf=PJ(t),I_=Rf.format,kN=Rf.formatPrefix,Rf}function NJ(t){return Math.max(0,-ks(Math.abs(t)))}function MJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ks(e)/3)))*3-ks(Math.abs(t)))}function DJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ks(e)-ks(t))+1}function ON(t,e,n,r){var i=F0(t,e,n),o;switch(r=Fd(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=MJ(i,a))&&(r.precision=o),kN(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=DJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NJ(i))&&(r.precision=o-(r.type==="%")*2);break}}return I_(r)}function co(t){var e=t.domain;return t.ticks=function(n){var r=e();return L0(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return ON(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=bN(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function jd(){var t=E_();return t.copy=function(){return Nc(t,jd())},tr.apply(t,arguments),co(t)}function CN(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Rd),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return CN(t).unknown(e)},t=arguments.length?Array.from(t,Rd):[0,1],co(n)}function PN(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function tI(t){return Math.log(t)}function nI(t){return Math.exp(t)}function RJ(t){return-Math.log(-t)}function LJ(t){return-Math.exp(-t)}function FJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jJ(t){return t===10?FJ:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function UJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function rI(t){return function(e){return-t(-e)}}function A_(t){var e=t(tI,nI),n=e.domain,r=10,i,o;function a(){return i=UJ(r),o=jJ(r),n()[0]<0?(i=rI(i),o=rI(o),t(RJ,LJ)):t(tI,nI),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=function(s){var u=n(),l=u[0],c=u[u.length-1],f;(f=c<l)&&(h=l,l=c,c=h);var h=i(l),p=i(c),m,d,w,g=s==null?10:+s,_=[];if(!(r%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(d=1,m=o(h);d<r;++d)if(w=m*d,!(w<l)){if(w>c)break;_.push(w)}}else for(;h<=p;++h)for(d=r-1,m=o(h);d>=1;--d)if(w=m*d,!(w<l)){if(w>c)break;_.push(w)}_.length*2<g&&(_=L0(l,c,g))}else _=L0(h,p,Math.min(p-h,g)).map(o);return f?_.reverse():_},e.tickFormat=function(s,u){if(u==null&&(u=r===10?".0e":","),typeof u!="function"&&(u=I_(u)),s===1/0)return u;s==null&&(s=10);var l=Math.max(1,r*s/e.ticks().length);return function(c){var f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},e.nice=function(){return n(PN(n(),{floor:function(s){return o(Math.floor(i(s)))},ceil:function(s){return o(Math.ceil(i(s)))}}))},e}function $N(){var t=A_(Em()).domain([1,10]);return t.copy=function(){return Nc(t,$N()).base(t.base())},tr.apply(t,arguments),t}function iI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k_(t){var e=1,n=t(iI(e),oI(e));return n.constant=function(r){return arguments.length?t(iI(e=+r),oI(e)):e},co(n)}function NN(){var t=k_(Em());return t.copy=function(){return Nc(t,NN()).constant(t.constant())},tr.apply(t,arguments)}function aI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function BJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function VJ(t){return t<0?-t*t:t*t}function O_(t){var e=t(un,un),n=1;function r(){return n===1?t(un,un):n===.5?t(BJ,VJ):t(aI(n),aI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},co(e)}function C_(){var t=O_(Em());return t.copy=function(){return Nc(t,C_()).exponent(t.exponent())},tr.apply(t,arguments),t}function zJ(){return C_.apply(null,arguments).exponent(.5)}function sI(t){return Math.sign(t)*t*t}function qJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function MN(){var t=E_(),e=[0,1],n=!1,r;function i(o){var a=qJ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(sI(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Rd)).map(sI)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return MN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},tr.apply(i,arguments),co(i)}function DN(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=XX(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Pc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Cc),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return DN().domain(t).range(e).unknown(r)},tr.apply(o,arguments)}function RN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(u){return u!=null&&u<=u?i[Pc(r,u,0,n)]:o}function s(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return a}return a.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,s()):[t,e]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,s()):i.slice()},a.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},a.unknown=function(u){return arguments.length&&(o=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return RN().domain([t,e]).range(i).unknown(o)},tr.apply(co(a),arguments)}function LN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Pc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return LN().domain(t).range(e).unknown(n)},tr.apply(i,arguments)}var xv=new Date,Sv=new Date;function Ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return t(o=new Date(+o)),o},i.ceil=function(o){return t(o=new Date(o-1)),e(o,1),t(o),o},i.round=function(o){var a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=function(o,a){return e(o=new Date(+o),a==null?1:Math.floor(a)),o},i.range=function(o,a,s){var u=[],l;if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;do u.push(l=new Date(+o)),e(o,s),t(o);while(l<o&&o<a);return u},i.filter=function(o){return Ct(function(a){if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},function(a,s){if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););})},n&&(i.count=function(o,a){return xv.setTime(+o),Sv.setTime(+a),t(xv),t(Sv),Math.floor(n(xv,Sv))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(a){return r(a)%o===0}:function(a){return i.count(0,a)%o===0}):i}),i}var Ud=Ct(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ud.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ud};var HJ=Ud;Ud.range;const zr=1e3,Kn=zr*60,qr=Kn*60,ra=qr*24,P_=ra*7,uI=ra*30,Ev=ra*365;var FN=Ct(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*zr)},function(t,e){return(e-t)/zr},function(t){return t.getUTCSeconds()}),Za=FN;FN.range;var jN=Ct(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*zr)},function(t,e){t.setTime(+t+e*Kn)},function(t,e){return(e-t)/Kn},function(t){return t.getMinutes()}),UN=jN;jN.range;var BN=Ct(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*zr-t.getMinutes()*Kn)},function(t,e){t.setTime(+t+e*qr)},function(t,e){return(e-t)/qr},function(t){return t.getHours()}),VN=BN;BN.range;var zN=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Kn)/ra,t=>t.getDate()-1),Tm=zN;zN.range;function Ea(t){return Ct(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Kn)/P_})}var Im=Ea(0),Bd=Ea(1),WJ=Ea(2),GJ=Ea(3),Os=Ea(4),KJ=Ea(5),QJ=Ea(6);Im.range;Bd.range;WJ.range;GJ.range;Os.range;KJ.range;QJ.range;var qN=Ct(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),HN=qN;qN.range;var $_=Ct(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});$_.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var ia=$_;$_.range;var WN=Ct(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Kn)},function(t,e){return(e-t)/Kn},function(t){return t.getUTCMinutes()}),GN=WN;WN.range;var KN=Ct(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*qr)},function(t,e){return(e-t)/qr},function(t){return t.getUTCHours()}),QN=KN;KN.range;var YN=Ct(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/ra},function(t){return t.getUTCDate()-1}),Am=YN;YN.range;function Ta(t){return Ct(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/P_})}var km=Ta(0),Vd=Ta(1),YJ=Ta(2),XJ=Ta(3),Cs=Ta(4),JJ=Ta(5),ZJ=Ta(6);km.range;Vd.range;YJ.range;XJ.range;Cs.range;JJ.range;ZJ.range;var XN=Ct(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),JN=XN;XN.range;var N_=Ct(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});N_.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var oa=N_;N_.range;function ZN(t,e,n,r,i,o){const a=[[Za,1,zr],[Za,5,5*zr],[Za,15,15*zr],[Za,30,30*zr],[o,1,Kn],[o,5,5*Kn],[o,15,15*Kn],[o,30,30*Kn],[i,1,qr],[i,3,3*qr],[i,6,6*qr],[i,12,12*qr],[r,1,ra],[r,2,2*ra],[n,1,P_],[e,1,uI],[e,3,3*uI],[t,1,Ev]];function s(l,c,f){const h=c<l;h&&([l,c]=[c,l]);const p=f&&typeof f.range=="function"?f:u(l,c,f),m=p?p.range(l,+c+1):[];return h?m.reverse():m}function u(l,c,f){const h=Math.abs(c-l)/f,p=w_(([,,w])=>w).right(a,h);if(p===a.length)return t.every(F0(l/Ev,c/Ev,f));if(p===0)return HJ.every(Math.max(F0(l,c,f),1));const[m,d]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(d)}return[s,u]}const[eZ,tZ]=ZN(oa,JN,km,Am,QN,GN),[nZ,rZ]=ZN(ia,HN,Im,Tm,VN,UN);function Tv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $u(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function iZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Nu(i),c=Mu(i),f=Nu(o),h=Mu(o),p=Nu(a),m=Mu(a),d=Nu(s),w=Mu(s),g=Nu(u),_=Mu(u),v={a:X,A:C,b:$,B:M,c:null,d:pI,e:pI,f:AZ,g:LZ,G:jZ,H:EZ,I:TZ,j:IZ,L:eM,m:kZ,M:OZ,p:H,q,Q:vI,s:yI,S:CZ,u:PZ,U:$Z,V:NZ,w:MZ,W:DZ,x:null,X:null,y:RZ,Y:FZ,Z:UZ,"%":gI},y={a:ae,A:ce,b:pe,B:se,c:null,d:mI,e:mI,f:qZ,g:eee,G:nee,H:BZ,I:VZ,j:zZ,L:nM,m:HZ,M:WZ,p:le,q:K,Q:vI,s:yI,S:GZ,u:KZ,U:QZ,V:YZ,w:XZ,W:JZ,x:null,X:null,y:ZZ,Y:tee,Z:ree,"%":gI},b={a:A,A:I,b:N,B:k,c:R,d:hI,e:hI,f:_Z,g:fI,G:cI,H:dI,I:dI,j:gZ,L:wZ,m:mZ,M:vZ,p:T,q:pZ,Q:xZ,s:SZ,S:yZ,u:lZ,U:cZ,V:fZ,w:uZ,W:hZ,x:B,X:j,y:fI,Y:cI,Z:dZ,"%":bZ};v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),y.x=x(n,y),y.X=x(r,y),y.c=x(e,y);function x(F,ee){return function(te){var L=[],Pe=-1,be=0,Je=F.length,st,dr,wo;for(te instanceof Date||(te=new Date(+te));++Pe<Je;)F.charCodeAt(Pe)===37&&(L.push(F.slice(be,Pe)),(dr=lI[st=F.charAt(++Pe)])!=null?st=F.charAt(++Pe):dr=st==="e"?" ":"0",(wo=ee[st])&&(st=wo(te,dr)),L.push(st),be=Pe+1);return L.push(F.slice(be,Pe)),L.join("")}}function S(F,ee){return function(te){var L=$u(1900,void 0,1),Pe=E(L,F,te+="",0),be,Je;if(Pe!=te.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ee&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(be=Iv($u(L.y,0,1)),Je=be.getUTCDay(),be=Je>4||Je===0?Vd.ceil(be):Vd(be),be=Am.offset(be,(L.V-1)*7),L.y=be.getUTCFullYear(),L.m=be.getUTCMonth(),L.d=be.getUTCDate()+(L.w+6)%7):(be=Tv($u(L.y,0,1)),Je=be.getDay(),be=Je>4||Je===0?Bd.ceil(be):Bd(be),be=Tm.offset(be,(L.V-1)*7),L.y=be.getFullYear(),L.m=be.getMonth(),L.d=be.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Je="Z"in L?Iv($u(L.y,0,1)).getUTCDay():Tv($u(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Je+5)%7:L.w+L.U*7-(Je+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Iv(L)):Tv(L)}}function E(F,ee,te,L){for(var Pe=0,be=ee.length,Je=te.length,st,dr;Pe<be;){if(L>=Je)return-1;if(st=ee.charCodeAt(Pe++),st===37){if(st=ee.charAt(Pe++),dr=b[st in lI?ee.charAt(Pe++):st],!dr||(L=dr(F,te,L))<0)return-1}else if(st!=te.charCodeAt(L++))return-1}return L}function T(F,ee,te){var L=l.exec(ee.slice(te));return L?(F.p=c.get(L[0].toLowerCase()),te+L[0].length):-1}function A(F,ee,te){var L=p.exec(ee.slice(te));return L?(F.w=m.get(L[0].toLowerCase()),te+L[0].length):-1}function I(F,ee,te){var L=f.exec(ee.slice(te));return L?(F.w=h.get(L[0].toLowerCase()),te+L[0].length):-1}function N(F,ee,te){var L=g.exec(ee.slice(te));return L?(F.m=_.get(L[0].toLowerCase()),te+L[0].length):-1}function k(F,ee,te){var L=d.exec(ee.slice(te));return L?(F.m=w.get(L[0].toLowerCase()),te+L[0].length):-1}function R(F,ee,te){return E(F,e,ee,te)}function B(F,ee,te){return E(F,n,ee,te)}function j(F,ee,te){return E(F,r,ee,te)}function X(F){return a[F.getDay()]}function C(F){return o[F.getDay()]}function $(F){return u[F.getMonth()]}function M(F){return s[F.getMonth()]}function H(F){return i[+(F.getHours()>=12)]}function q(F){return 1+~~(F.getMonth()/3)}function ae(F){return a[F.getUTCDay()]}function ce(F){return o[F.getUTCDay()]}function pe(F){return u[F.getUTCMonth()]}function se(F){return s[F.getUTCMonth()]}function le(F){return i[+(F.getUTCHours()>=12)]}function K(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var ee=x(F+="",v);return ee.toString=function(){return F},ee},parse:function(F){var ee=S(F+="",!1);return ee.toString=function(){return F},ee},utcFormat:function(F){var ee=x(F+="",y);return ee.toString=function(){return F},ee},utcParse:function(F){var ee=S(F+="",!0);return ee.toString=function(){return F},ee}}}var lI={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,oZ=/^%/,aZ=/[\\^$*+?|[\]().{}]/g;function ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function sZ(t){return t.replace(aZ,"\\$&")}function Nu(t){return new RegExp("^(?:"+t.map(sZ).join("|")+")","i")}function Mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function uZ(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cI(t,e,n){var r=Pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fI(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pZ(t,e,n){var r=Pt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hI(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gZ(t,e,n){var r=Pt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dI(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function vZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yZ(t,e,n){var r=Pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wZ(t,e,n){var r=Pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function _Z(t,e,n){var r=Pt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bZ(t,e,n){var r=oZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xZ(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function SZ(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function pI(t,e){return ke(t.getDate(),e,2)}function EZ(t,e){return ke(t.getHours(),e,2)}function TZ(t,e){return ke(t.getHours()%12||12,e,2)}function IZ(t,e){return ke(1+Tm.count(ia(t),t),e,3)}function eM(t,e){return ke(t.getMilliseconds(),e,3)}function AZ(t,e){return eM(t,e)+"000"}function kZ(t,e){return ke(t.getMonth()+1,e,2)}function OZ(t,e){return ke(t.getMinutes(),e,2)}function CZ(t,e){return ke(t.getSeconds(),e,2)}function PZ(t){var e=t.getDay();return e===0?7:e}function $Z(t,e){return ke(Im.count(ia(t)-1,t),e,2)}function tM(t){var e=t.getDay();return e>=4||e===0?Os(t):Os.ceil(t)}function NZ(t,e){return t=tM(t),ke(Os.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function MZ(t){return t.getDay()}function DZ(t,e){return ke(Bd.count(ia(t)-1,t),e,2)}function RZ(t,e){return ke(t.getFullYear()%100,e,2)}function LZ(t,e){return t=tM(t),ke(t.getFullYear()%100,e,2)}function FZ(t,e){return ke(t.getFullYear()%1e4,e,4)}function jZ(t,e){var n=t.getDay();return t=n>=4||n===0?Os(t):Os.ceil(t),ke(t.getFullYear()%1e4,e,4)}function UZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ke(e/60|0,"0",2)+ke(e%60,"0",2)}function mI(t,e){return ke(t.getUTCDate(),e,2)}function BZ(t,e){return ke(t.getUTCHours(),e,2)}function VZ(t,e){return ke(t.getUTCHours()%12||12,e,2)}function zZ(t,e){return ke(1+Am.count(oa(t),t),e,3)}function nM(t,e){return ke(t.getUTCMilliseconds(),e,3)}function qZ(t,e){return nM(t,e)+"000"}function HZ(t,e){return ke(t.getUTCMonth()+1,e,2)}function WZ(t,e){return ke(t.getUTCMinutes(),e,2)}function GZ(t,e){return ke(t.getUTCSeconds(),e,2)}function KZ(t){var e=t.getUTCDay();return e===0?7:e}function QZ(t,e){return ke(km.count(oa(t)-1,t),e,2)}function rM(t){var e=t.getUTCDay();return e>=4||e===0?Cs(t):Cs.ceil(t)}function YZ(t,e){return t=rM(t),ke(Cs.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function XZ(t){return t.getUTCDay()}function JZ(t,e){return ke(Vd.count(oa(t)-1,t),e,2)}function ZZ(t,e){return ke(t.getUTCFullYear()%100,e,2)}function eee(t,e){return t=rM(t),ke(t.getUTCFullYear()%100,e,2)}function tee(t,e){return ke(t.getUTCFullYear()%1e4,e,4)}function nee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cs(t):Cs.ceil(t),ke(t.getUTCFullYear()%1e4,e,4)}function ree(){return"+0000"}function gI(){return"%"}function vI(t){return+t}function yI(t){return Math.floor(+t/1e3)}var Da,iM,oM;iee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iee(t){return Da=iZ(t),iM=Da.format,Da.parse,oM=Da.utcFormat,Da.utcParse,Da}function oee(t){return new Date(t)}function aee(t){return t instanceof Date?+t:+new Date(+t)}function M_(t,e,n,r,i,o,a,s,u,l){var c=E_(),f=c.invert,h=c.domain,p=l(".%L"),m=l(":%S"),d=l("%I:%M"),w=l("%I %p"),g=l("%a %d"),_=l("%b %d"),v=l("%B"),y=l("%Y");function b(x){return(u(x)<x?p:s(x)<x?m:a(x)<x?d:o(x)<x?w:r(x)<x?i(x)<x?g:_:n(x)<x?v:y)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?h(Array.from(x,aee)):h().map(oee)},c.ticks=function(x){var S=h();return t(S[0],S[S.length-1],x==null?10:x)},c.tickFormat=function(x,S){return S==null?b:l(S)},c.nice=function(x){var S=h();return(!x||typeof x.range!="function")&&(x=e(S[0],S[S.length-1],x==null?10:x)),x?h(PN(S,x)):c},c.copy=function(){return Nc(c,M_(t,e,n,r,i,o,a,s,u,l))},c}function see(){return tr.apply(M_(nZ,rZ,ia,HN,Im,Tm,VN,UN,Za,iM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uee(){return tr.apply(M_(eZ,tZ,oa,JN,km,Am,QN,GN,Za,oM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Om(){var t=0,e=1,n,r,i,o,a=un,s=!1,u;function l(f){return f==null||isNaN(f=+f)?u:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(a=f,l):a};function c(f){return function(h){var p,m;return arguments.length?([p,m]=h,a=f(p,m),l):[a(0),a(1)]}}return l.range=c(iu),l.rangeRound=c(S_),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),l}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aM(){var t=co(Om()(un));return t.copy=function(){return fo(t,aM())},ai.apply(t,arguments)}function sM(){var t=A_(Om()).domain([1,10]);return t.copy=function(){return fo(t,sM()).base(t.base())},ai.apply(t,arguments)}function uM(){var t=k_(Om());return t.copy=function(){return fo(t,uM()).constant(t.constant())},ai.apply(t,arguments)}function D_(){var t=O_(Om());return t.copy=function(){return fo(t,D_()).exponent(t.exponent())},ai.apply(t,arguments)}function lee(){return D_.apply(null,arguments).exponent(.5)}function lM(){var t=[],e=un;function n(r){if(r!=null&&!isNaN(r=+r))return e((Pc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>YX(t,o/r))},n.copy=function(){return lM(e).domain(t)},ai.apply(n,arguments)}function Cm(){var t=0,e=.5,n=1,r=1,i,o,a,s,u,l=un,c,f=!1,h;function p(d){return isNaN(d=+d)?h:(d=.5+((d=+c(d))-o)*(r*d<r*o?s:u),l(f?Math.max(0,Math.min(1,d)):d))}p.domain=function(d){return arguments.length?([t,e,n]=d,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(d){return arguments.length?(f=!!d,p):f},p.interpolator=function(d){return arguments.length?(l=d,p):l};function m(d){return function(w){var g,_,v;return arguments.length?([g,_,v]=w,l=_J(d,[g,_,v]),p):[l(0),l(.5),l(1)]}}return p.range=m(iu),p.rangeRound=m(S_),p.unknown=function(d){return arguments.length?(h=d,p):h},function(d){return c=d,i=d(t),o=d(e),a=d(n),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function cM(){var t=co(Cm()(un));return t.copy=function(){return fo(t,cM())},ai.apply(t,arguments)}function fM(){var t=A_(Cm()).domain([.1,1,10]);return t.copy=function(){return fo(t,fM()).base(t.base())},ai.apply(t,arguments)}function hM(){var t=k_(Cm());return t.copy=function(){return fo(t,hM()).constant(t.constant())},ai.apply(t,arguments)}function R_(){var t=O_(Cm());return t.copy=function(){return fo(t,R_()).exponent(t.exponent())},ai.apply(t,arguments)}function cee(){return R_.apply(null,arguments).exponent(.5)}var wI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wl,scalePoint:hl,scaleIdentity:CN,scaleLinear:jd,scaleLog:$N,scaleSymlog:NN,scaleOrdinal:__,scaleImplicit:j0,scalePow:C_,scaleSqrt:zJ,scaleRadial:MN,scaleQuantile:DN,scaleQuantize:RN,scaleThreshold:LN,scaleTime:see,scaleUtc:uee,scaleSequential:aM,scaleSequentialLog:sM,scaleSequentialPow:D_,scaleSequentialSqrt:lee,scaleSequentialSymlog:uM,scaleSequentialQuantile:lM,scaleDiverging:cM,scaleDivergingLog:fM,scaleDivergingPow:R_,scaleDivergingSqrt:cee,scaleDivergingSymlog:hM,tickFormat:ON},Symbol.toStringTag,{value:"Module"}));function _I(t){return pee(t)||dee(t)||hee(t)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(t,e){if(!!t){if(typeof t=="string")return z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(t,e)}}function dee(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function pee(t){if(Array.isArray(t))return z0(t)}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){cs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mr(t,e,n){return fe(t)||fe(e)?n:yt(e)?$n(t,e,n):ye(e)?e(t):n}function zd(t,e,n,r){var i=vX(t,function(s){return Mr(s,e)});if(n==="number"){var o=i.filter(function(s){return J(s)||parseFloat(s)});return o.length?[bm(o),_m(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!fe(s)}):i;return a.map(function(s){return yt(s)||s instanceof Date?s:""})}var mee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s>1){if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,l=0;l<s;l++){var c=l>0?i[l-1].coordinate:i[s-1].coordinate,f=i[l].coordinate,h=l>=s-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(yr(f-c)!==yr(h-f)){var m=[];if(yr(h-f)===yr(u[1]-u[0])){p=h;var d=f+u[1]-u[0];m[0]=Math.min(d,(d+c)/2),m[1]=Math.max(d,(d+c)/2)}else{p=c;var w=h+u[1]-u[0];m[0]=Math.min(f,(w+f)/2),m[1]=Math.max(f,(w+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>g[0]&&e<=g[1]||e>=m[0]&&e<=m[1]){a=i[l].index;break}}else{var _=Math.min(c,h),v=Math.max(c,h);if(e>(_+f)/2&&e<=(v+f)/2){a=i[l].index;break}}}else for(var y=0;y<s;y++)if(y===0&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<s-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===s-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){a=r[y].index;break}}else a=0;return a},L_=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,a=i.fill,s;switch(r){case"Line":s=o;break;case"Area":case"Radar":s=o&&o!=="none"?o:a;break;default:s=a;break}return s},dM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Vr(n,Bl.displayName);if(!a)return null;var s;return a.props&&a.props.payload?s=a.props&&a.props.payload:o==="children"?s=(r||[]).reduce(function(u,l){var c=l.item,f=l.props,h=f.sectors||f.data||[];return u.concat(h.map(function(p){return{type:a.props.iconType||c.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):s=(r||[]).map(function(u){var l=u.item,c=l.props,f=c.dataKey,h=c.name,p=c.legendType,m=c.hide;return{inactive:m,dataKey:f,type:a.props.iconType||p||"square",color:L_(l),value:h||f,payload:l.props}}),rn(rn(rn({},a.props),Bl.getWithHeight(a,i)),{},{payload:s,item:a})},gee=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,u=a.length;s<u;s++)for(var l=i[a[s]].stackGroups,c=Object.keys(l),f=0,h=c.length;f<h;f++){var p=l[c[f]],m=p.items,d=p.cateAxisId,w=m.filter(function(v){return Ui(v.type).indexOf("Bar")>=0});if(w&&w.length){var g=w[0].props.barSize,_=w[0].props[d];o[_]||(o[_]=[]),o[_].push({item:w[0],stackList:w.slice(1),barSize:fe(g)?n:g})}}return o},vee=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,u=a.length;if(u<1)return null;var l=Ts(n,i,0,!0),c;if(a[0].barSize===+a[0].barSize){var f=!1,h=i/u,p=a.reduce(function(v,y){return v+y.barSize||0},0);p+=(u-1)*l,p>=i&&(p-=(u-1)*l,l=0),p>=i&&h>0&&(f=!0,h*=.9,p=u*h);var m=(i-p)/2>>0,d={offset:m-l,size:0};c=a.reduce(function(v,y){var b=[].concat(_I(v),[{item:y.item,position:{offset:d.offset+d.size+l,size:f?h:y.barSize}}]);return d=b[b.length-1].position,y.stackList&&y.stackList.length&&y.stackList.forEach(function(x){b.push({item:x,position:d})}),b},[])}else{var w=Ts(r,i,0,!0);i-2*w-(u-1)*l<=0&&(l=0);var g=(i-2*w-(u-1)*l)/u;g>1&&(g>>=0);var _=s===+s?Math.min(g,s):g;c=a.reduce(function(v,y,b){var x=[].concat(_I(v),[{item:y.item,position:{offset:w+(g+l)*b+(g-_)/2,size:_}}]);return y.stackList&&y.stackList.length&&y.stackList.forEach(function(S){x.push({item:S,position:x[x.length-1].position})}),x},[])}return c},yee=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,u=a-(s.left||0)-(s.right||0),l=dM({children:o,legendWidth:u}),c=e;if(l){var f=i||{},h=l.align,p=l.verticalAlign,m=l.layout;(m==="vertical"||m==="horizontal"&&p==="center")&&J(e[h])&&(c=rn(rn({},e),{},cs({},h,c[h]+(f.width||0)))),(m==="horizontal"||m==="vertical"&&h==="center")&&J(e[p])&&(c=rn(rn({},e),{},cs({},p,c[p]+(f.height||0))))}return c},pM=function(e,n,r,i){var o=n.props.children,a=Tr(o,"ErrorBar").filter(function(u){var l=u.props.direction;return fe(l)||fe(i)?!0:i.indexOf(l)>=0});if(a&&a.length){var s=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,l){var c=Mr(l,r,0),f=Ce(c)?[bm(c),_m(c)]:[c,c],h=s.reduce(function(p,m){var d=Mr(l,m,0),w=f[0]-Math.abs(Ce(d)?d[0]:d),g=f[1]+Math.abs(Ce(d)?d[1]:d);return[Math.min(w,p[0]),Math.max(g,p[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},wee=function(e,n,r,i){var o=n.map(function(a){return pM(e,a,r,i)}).filter(function(a){return!fe(a)});return o&&o.length?o.reduce(function(a,s){return[Math.min(a[0],s[0]),Math.max(a[1],s[1])]},[1/0,-1/0]):null},mM=function(e,n,r,i){var o=n.map(function(s){var u=s.props.dataKey;return r==="number"&&u&&pM(e,s,u)||zd(e,u,r,i)});if(r==="number")return o.reduce(function(s,u){return[Math.min(s[0],u[0]),Math.max(s[1],u[1])]},[1/0,-1/0]);var a={};return o.reduce(function(s,u){for(var l=0,c=u.length;l<c;l++)a[u[l]]||(a[u[l]]=!0,s.push(u[l]));return s},[])},gM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},xI=function(e,n,r){var i,o,a=e.map(function(s){return s.coordinate===n&&(i=!0),s.coordinate===r&&(o=!0),s.coordinate});return i||a.push(n),o||a.push(r),a},mi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;return l=e.axisType==="angleAxis"?yr(s[0]-s[1])*2*l:l,n&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(c){var f=o?o.indexOf(c):c;return{coordinate:i(f)+l,value:c,offset:l}}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,f){return{coordinate:i(c)+l,value:c,index:f,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+l,value:c,offset:l}}):i.domain().map(function(c,f){return{coordinate:i(c)+l,value:o?o[c]:c,index:f,offset:l}})},Lf=function(e,n,r){var i;return ye(r)?i=r:ye(n)&&(i=n),ye(e)||i?function(o,a,s,u){ye(e)&&e(o,a,s,u),ye(i)&&i(o,a,s,u)}:null},_ee=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Wl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:jd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:hl(),realScaleType:"point"}:o==="category"?{scale:Wl(),realScaleType:"band"}:{scale:jd(),realScaleType:"linear"};if(kc(i)){var u="scale".concat(fm(i));return{scale:(wI[u]||hl)(),realScaleType:wI[u]?u:"point"}}return ye(i)?{scale:i}:{scale:hl(),realScaleType:"point"}},SI=1e-4,bee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-SI,a=Math.max(i[0],i[1])+SI,s=e(n[0]),u=e(n[r-1]);(s<o||s>a||u<o||u>a)&&e.domain([n[0],n[r-1]])}},xee=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var u=gm(e[s][r][1])?e[s][r][0]:e[s][r][1];u>=0?(e[s][r][0]=o,e[s][r][1]=o+u,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+u,a=e[s][r][1])}},See=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=gm(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Eee={sign:xee,expand:DG,none:Es,silhouette:RG,wiggle:LG,positive:See},Tee=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=MG().keys(i).value(function(a,s){return+Mr(a,s,0)}).order(o0).offset(Eee[r]);return o(e)},Iee=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,u=s.reduce(function(l,c){var f=c.props,h=f.stackId,p=f.hide;if(p)return l;var m=c.props[r],d=l[m]||{hasStack:!1,stackGroups:{}};if(yt(h)){var w=d.stackGroups[h]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(c),d.hasStack=!0,d.stackGroups[h]=w}else d.stackGroups[vm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[c]};return rn(rn({},l),{},cs({},m,d))},{});return Object.keys(u).reduce(function(l,c){var f=u[c];return f.hasStack&&(f.stackGroups=Object.keys(f.stackGroups).reduce(function(h,p){var m=f.stackGroups[p];return rn(rn({},h),{},cs({},p,{numericAxisId:r,cateAxisId:i,items:m.items,stackedData:Tee(e,m.items,o)}))},{})),rn(rn({},l),{},cs({},c,f))},{})},Aee=function(e,n){return n==="number"?[bm(e),_m(e)]:e},kee=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=qX(l,o,s);return e.domain(Aee(c,i)),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=HX(f,o,s);return{niceTicks:h}}return null},EI=function(e){var n=e.axis,r=e.ticks,i=e.bandSize,o=e.entry,a=e.index,s=e.dataKey;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!fe(o[n.dataKey])){var u=Ed(r,"value",o[n.dataKey]);if(u)return u.coordinate+i/2}return r[a]?r[a].coordinate+i/2:null}var l=Mr(o,fe(s)?n.dataKey:s);return fe(l)?null:n.scale(l)},Oee=function(e,n){var r=e.props.stackId;if(yt(r)){var i=n[r];if(i&&i.items.length){for(var o=-1,a=0,s=i.items.length;a<s;a++)if(i.items[a]===e){o=a;break}return o>=0?i.stackedData[o]:null}}return null},Cee=function(e){return e.reduce(function(n,r){return[bm(r.concat([n[0]]).filter(J)),_m(r.concat([n[1]]).filter(J))]},[1/0,-1/0])},vM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,u=s.reduce(function(l,c){var f=Cee(c.slice(n,r+1));return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},TI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,II=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yM=function(e,n,r){if(ye(e))return e(n,r);if(!Ce(e))return n;var i=[];if(J(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(TI.test(e[0])){var o=+TI.exec(e[0])[1];i[0]=n[0]-o}else ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(J(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(II.test(e[1])){var a=+II.exec(e[1])[1];i[1]=n[1]+a}else ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=d_(n,function(f){return f.coordinate}),a=1/0,s=1,u=o.length;s<u;s++){var l=o[s],c=o[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},AI=function(e,n,r){return!e||!e.length||aN(e,$n(r,"type.defaultProps.domain"))?n:e},Pee=function(e,n){var r=e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,u=r.tooltipType,l=r.chartType;return rn(rn({},$e(e)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:L_(e),value:Mr(n,i),type:u,payload:n,chartType:l})};function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){$ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hd=Math.PI/180,Nee=function(e){return e*180/Math.PI},jt=function(e,n,r,i){return{x:e+Math.cos(-Hd*i)*r,y:n+Math.sin(-Hd*i)*r}},Mee=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},Dee=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=Mee({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var u=(r-o)/s,l=Math.acos(u);return i>a&&(l=2*Math.PI-l),{radius:s,angle:Nee(l),angleInRadian:l}},Ree=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},Lee=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},CI=function(e,n){var r=e.x,i=e.y,o=Dee({x:r,y:i},n),a=o.radius,s=o.angle,u=n.innerRadius,l=n.outerRadius;if(a<u||a>l)return!1;if(a===0)return!0;var c=Ree(n),f=c.startAngle,h=c.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?OI(OI({},n),{},{radius:a,angle:Lee(p,n)}):null};function Fee(t){return Vee(t)||Bee(t)||Uee(t)||jee()}function jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t,e){if(!!t){if(typeof t=="string")return q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q0(t,e)}}function Bee(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Vee(t){if(Array.isArray(t))return q0(t)}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qee=function(e){var n=e.value,r=e.formatter,i=fe(e.children)?n:e.children;return ye(r)?r(i):i},Hee=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Wee=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,u=o,l=u.cx,c=u.cy,f=u.innerRadius,h=u.outerRadius,p=u.startAngle,m=u.endAngle,d=u.clockWise,w=(f+h)/2,g=Hee(p,m),_=g>=0?1:-1,v,y;i==="insideStart"?(v=p+_*a,y=d):i==="insideEnd"?(v=m-_*a,y=!d):i==="end"&&(v=m+_*a,y=d),y=g<=0?y:!y;var b=jt(l,c,w,v),x=jt(l,c,w,v+(y?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(y?0:1,`,
    `).concat(x.x,",").concat(x.y),E=fe(e.id)?vm("recharts-radial-line-"):e.id;return ue("text",{...r,dominantBaseline:"central",className:He("recharts-radial-bar-label",s),children:[O("defs",{children:O("path",{id:E,d:S})}),O("textPath",{xlinkHref:"#".concat(E),children:n})]})},Gee=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,u=o.innerRadius,l=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=jt(a,s,l+r,h),m=p.x,d=p.y;return{x:m,y:d,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(u+l)/2,g=jt(a,s,w,h),_=g.x,v=g.y;return{x:_,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Kee=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,u=a.y,l=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",d=l>=0?1:-1,w=d*i,g=d>0?"end":"start",_=d>0?"start":"end";if(o==="top"){var v={x:s+l/2,y:u-f*i,textAnchor:"middle",verticalAnchor:p};return _t(_t({},v),r?{height:Math.max(u-r.y,0),width:l}:{})}if(o==="bottom"){var y={x:s+l/2,y:u+c+h,textAnchor:"middle",verticalAnchor:m};return _t(_t({},y),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(o==="left"){var b={x:s-w,y:u+c/2,textAnchor:g,verticalAnchor:"middle"};return _t(_t({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(o==="right"){var x={x:s+l+w,y:u+c/2,textAnchor:_,verticalAnchor:"middle"};return _t(_t({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var S=r?{width:l,height:c}:{};return o==="insideLeft"?_t({x:s+w,y:u+c/2,textAnchor:_,verticalAnchor:"middle"},S):o==="insideRight"?_t({x:s+l-w,y:u+c/2,textAnchor:g,verticalAnchor:"middle"},S):o==="insideTop"?_t({x:s+l/2,y:u+h,textAnchor:"middle",verticalAnchor:m},S):o==="insideBottom"?_t({x:s+l/2,y:u+c-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?_t({x:s+w,y:u+h,textAnchor:_,verticalAnchor:m},S):o==="insideTopRight"?_t({x:s+l-w,y:u+h,textAnchor:g,verticalAnchor:m},S):o==="insideBottomLeft"?_t({x:s+w,y:u+c-h,textAnchor:_,verticalAnchor:p},S):o==="insideBottomRight"?_t({x:s+l-w,y:u+c-h,textAnchor:g,verticalAnchor:p},S):Un(o)&&(J(o.x)||l0(o.x))&&(J(o.y)||l0(o.y))?_t({x:s+Ts(o.x,l),y:u+Ts(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):_t({x:s+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Qee=function(e){return J(e.cx)};function Lt(t){var e=t.viewBox,n=t.position,r=t.value,i=t.children,o=t.content,a=t.className,s=a===void 0?"":a,u=t.textBreakAll;if(!e||fe(r)&&fe(i)&&!G.exports.isValidElement(o)&&!ye(o))return null;if(G.exports.isValidElement(o))return G.exports.cloneElement(o,t);var l;if(ye(o)){if(l=G.exports.createElement(o,t),G.exports.isValidElement(l))return l}else l=qee(t);var c=Qee(e),f=$e(t,!0);if(c&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Wee(t,l,f);var h=c?Gee(t):Kee(t);return O(Vl,{className:He("recharts-label",s),...f,...h,breakAll:u,children:l})}Lt.displayName="Label";Lt.defaultProps={offset:5};var wM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,d=e.width,w=e.height,g=e.clockWise,_=e.labelViewBox;if(_)return _;if(J(d)&&J(w)){if(J(f)&&J(h))return{x:f,y:h,width:d,height:w};if(J(p)&&J(m))return{x:p,y:m,width:d,height:w}}return J(f)&&J(h)?{x:f,y:h,width:0,height:0}:J(n)&&J(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:l||0,outerRadius:c||u||s||0,clockWise:g}:e.viewBox?e.viewBox:{}},Yee=function(e,n){return e?e===!0?O(Lt,{viewBox:n},"label-implicit"):yt(e)?O(Lt,{viewBox:n,value:e},"label-implicit"):G.exports.isValidElement(e)?e.type===Lt?G.exports.cloneElement(e,{key:"label-implicit",viewBox:n}):O(Lt,{content:e,viewBox:n},"label-implicit"):ye(e)?O(Lt,{content:e,viewBox:n},"label-implicit"):Un(e)?G.exports.createElement(Lt,{viewBox:n,...e,key:"label-implicit"}):null:null},Xee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=wM(e),a=Tr(i,Lt.displayName).map(function(u,l){return G.exports.cloneElement(u,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return a;var s=Yee(e.label,n||o);return[s].concat(Fee(a))};Lt.parseViewBox=wM;Lt.renderCallByParent=Xee;function Jee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Zee=Jee;function ete(t){return ite(t)||rte(t)||nte(t)||tte()}function tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){if(!!t){if(typeof t=="string")return H0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H0(t,e)}}function rte(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function ite(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t,e){if(t==null)return{};var n=ste(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function ste(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ute={valueAccessor:function(e){return Ce(e.value)?Zee(e.value):e.value}};function Bi(t){var e=t.data,n=t.valueAccessor,r=t.dataKey,i=t.clockWise,o=t.id,a=t.textBreakAll,s=ate(t,["data","valueAccessor","dataKey","clockWise","id","textBreakAll"]);return!e||!e.length?null:O(Sn,{className:"recharts-label-list",children:e.map(function(u,l){var c=fe(r)?n(u,l):Mr(u&&u.payload,r),f=fe(o)?{}:{id:"".concat(o,"-").concat(l)};return G.exports.createElement(Lt,{...$e(u,!0),...s,...f,parentViewBox:u.parentViewBox,index:l,value:c,textBreakAll:a,viewBox:Lt.parseViewBox(fe(i)?u:NI(NI({},u),{},{clockWise:i})),key:"label-".concat(l)})})})}Bi.displayName="LabelList";function lte(t,e){return t?t===!0?O(Bi,{data:e},"labelList-implicit"):Z.isValidElement(t)||ye(t)?O(Bi,{data:e,content:t},"labelList-implicit"):Un(t)?G.exports.createElement(Bi,{data:e,...t,key:"labelList-implicit"}):null:null}function cte(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Tr(r,Bi.displayName).map(function(a,s){return G.exports.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=lte(t.label,e);return[o].concat(ete(i))}Bi.renderCallByParent=cte;Bi.defaultProps=ute;function wh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wh=function(n){return typeof n}:wh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wh(t)}function fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hte(t,e,n){return e&&MI(t.prototype,e),n&&MI(t,n),t}function dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},W0(t,e)}function pte(t){var e=vte();return function(){var r=Wd(t),i;if(e){var o=Wd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mte(this,i)}}function mte(t,e){return e&&(wh(e)==="object"||typeof e=="function")?e:gte(t)}function gte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}var yte=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Ff=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(s?1:-1)+i,f=Math.asin(u/c)/Hd,h=l?o:o+a*f,p=jt(n,r,c,h),m=jt(n,r,i,h),d=l?o-a*f:o,w=jt(n,r,c*Math.cos(f*Hd),d);return{center:p,circleTangency:m,lineTangency:w,theta:f}},_M=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,u=yte(a,s),l=a+u,c=jt(n,r,o,a),f=jt(n,r,o,l),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=jt(n,r,i,a),m=jt(n,r,i,l);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},wte=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,f=yr(c-l),h=Ff({cx:n,cy:r,radius:o,angle:l,sign:f,cornerRadius:a,cornerIsExternal:u}),p=h.circleTangency,m=h.lineTangency,d=h.theta,w=Ff({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:u}),g=w.circleTangency,_=w.lineTangency,v=w.theta,y=u?Math.abs(l-c):Math.abs(l-c)-d-v;if(y<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_M({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(y>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var x=Ff({cx:n,cy:r,radius:i,angle:l,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),S=x.circleTangency,E=x.lineTangency,T=x.theta,A=Ff({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),I=A.circleTangency,N=A.lineTangency,k=A.theta,R=u?Math.abs(l-c):Math.abs(l-c)-T-k;if(R<0&&a===0)return"".concat(b,"L").concat(n,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(n,",").concat(r,"Z");return b},bM=function(t){dte(n,t);var e=pte(n);function n(){return fte(this,n),e.apply(this,arguments)}return hte(n,[{key:"render",value:function(){var i=this.props,o=i.cx,a=i.cy,s=i.innerRadius,u=i.outerRadius,l=i.cornerRadius,c=i.forceCornerRadius,f=i.cornerIsExternal,h=i.startAngle,p=i.endAngle,m=i.className;if(u<s||h===p)return null;var d=He("recharts-sector",m),w=u-s,g=Ts(l,w,0,!0),_;return g>0&&Math.abs(h-p)<360?_=wte({cx:o,cy:a,innerRadius:s,outerRadius:u,cornerRadius:Math.min(g,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):_=_M({cx:o,cy:a,innerRadius:s,outerRadius:u,startAngle:h,endAngle:p}),O("path",{...$e(this.props,!0),className:d,d:_})}}]),n}(G.exports.PureComponent);bM.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};function _h(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_h=function(n){return typeof n}:_h=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_h(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){_te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xte(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),t}function Ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},G0(t,e)}function Ete(t){var e=Ate();return function(){var r=Gd(t),i;if(e){var o=Gd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tte(this,i)}}function Tte(t,e){return e&&(_h(e)==="object"||typeof e=="function")?e:Ite(t)}function Ite(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ate(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}var FI={curveBasisClosed:SG,curveBasisOpen:EG,curveBasis:xG,curveLinearClosed:TG,curveLinear:pm,curveMonotoneX:IG,curveMonotoneY:AG,curveNatural:kG,curveStep:OG,curveStepAfter:PG,curveStepBefore:CG},jf=function(e){return e.x===+e.x&&e.y===+e.y},Du=function(e){return e.x},Ru=function(e){return e.y},kte=function(e,n){if(ye(e))return e;var r="curve".concat(fm(e));return r==="curveMonotone"&&n?FI["".concat(r).concat(n==="vertical"?"Y":"X")]:FI[r]||pm},Kd=function(t){Ste(n,t);var e=Ete(n);function n(){return bte(this,n),e.apply(this,arguments)}return xte(n,[{key:"getPath",value:function(){var i=this.props,o=i.type,a=i.points,s=i.baseLine,u=i.layout,l=i.connectNulls,c=kte(o,u),f=l?a.filter(function(d){return jf(d)}):a,h;if(Ce(s)){var p=l?s.filter(function(d){return jf(d)}):s,m=f.map(function(d,w){return RI(RI({},d),{},{base:p[w]})});return u==="vertical"?h=$f().y(Ru).x1(Du).x0(function(d){return d.base.x}):h=$f().x(Du).y1(Ru).y0(function(d){return d.base.y}),h.defined(jf).curve(c),h(m)}return u==="vertical"&&J(s)?h=$f().y(Ru).x1(Du).x0(s):J(s)?h=$f().x(Du).y1(Ru).y0(s):h=C$().x(Du).y(Ru),h.defined(jf).curve(c),h(f)}},{key:"render",value:function(){var i=this.props,o=i.className,a=i.points,s=i.path,u=i.pathRef;if((!a||!a.length)&&!s)return null;var l=a&&a.length?this.getPath():s;return O("path",{...$e(this.props),...pd(this.props),className:He("recharts-curve",o),d:l,ref:u})}}]),n}(G.exports.PureComponent);Kd.defaultProps={type:"linear",points:[],connectNulls:!1};function bh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bh=function(n){return typeof n}:bh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bh(t)}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cte(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),t}function Pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},K0(t,e)}function $te(t){var e=Dte();return function(){var r=Qd(t),i;if(e){var o=Qd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Nte(this,i)}}function Nte(t,e){return e&&(bh(e)==="object"||typeof e=="function")?e:Mte(t)}function Mte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qd(t)}var UI=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(e+u*f[0],",").concat(n)),c+="L ".concat(e+r-u*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(e+r-u*f[2],",").concat(n+i)),c+="L ".concat(e+u*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+u*m,",").concat(n,`
            L `).concat(e+r-u*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-u*m,",").concat(n+i,`
            L `).concat(e+u*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Rte=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,u=n.height;if(Math.abs(s)>0&&Math.abs(u)>0){var l=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+u),h=Math.max(a,a+u);return r>=l&&r<=c&&i>=f&&i<=h}return!1},F_=function(t){Pte(n,t);var e=$te(n);function n(){var r;Ote(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.state={totalLength:-1},r.node=void 0,r}return Cte(n,[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var i=this.node.getTotalLength();i&&this.setState({totalLength:i})}catch{}}},{key:"render",value:function(){var i=this,o=this.props,a=o.x,s=o.y,u=o.width,l=o.height,c=o.radius,f=o.className,h=this.state.totalLength,p=this.props,m=p.animationEasing,d=p.animationDuration,w=p.animationBegin,g=p.isAnimationActive,_=p.isUpdateAnimationActive;if(a!==+a||s!==+s||u!==+u||l!==+l||u===0||l===0)return null;var v=He("recharts-rectangle",f);return _?O(As,{canBegin:h>0,from:{width:u,height:l,x:a,y:s},to:{width:u,height:l,x:a,y:s},duration:d,animationEasing:m,isActive:_,children:function(y){var b=y.width,x=y.height,S=y.x,E=y.y;return O(As,{canBegin:h>0,from:"0px ".concat(h===-1?1:h,"px"),to:"".concat(h,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:d,isActive:g,easing:m,children:O("path",{...$e(i.props,!0),className:v,d:UI(S,E,b,x,c),ref:function(A){i.node=A}})})}}):O("path",{...$e(this.props,!0),className:v,d:UI(a,s,u,l,c)})}}]),n}(G.exports.PureComponent);F_.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};function xh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xh=function(n){return typeof n}:xh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xh(t)}function Lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fte(t,e,n){return e&&BI(t.prototype,e),n&&BI(t,n),t}function jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Q0(t,e)}function Ute(t){var e=zte();return function(){var r=Yd(t),i;if(e){var o=Yd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Bte(this,i)}}function Bte(t,e){return e&&(xh(e)==="object"||typeof e=="function")?e:Vte(t)}function Vte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}var j_=function(t){jte(n,t);var e=Ute(n);function n(){return Lte(this,n),e.apply(this,arguments)}return Fte(n,[{key:"render",value:function(){var i=this.props,o=i.cx,a=i.cy,s=i.r,u=i.className,l=He("recharts-dot",u);return o===+o&&a===+a&&s===+s?O("circle",{...$e(this.props),...pd(this.props),className:l,cx:o,cy:a,r:s}):null}}]),n}(G.exports.PureComponent);function Sh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sh=function(n){return typeof n}:Sh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sh(t)}function qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hte(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),t}function Wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Y0(t,e)}function Gte(t){var e=Yte();return function(){var r=Xd(t),i;if(e){var o=Xd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Kte(this,i)}}function Kte(t,e){return e&&(Sh(e)==="object"||typeof e=="function")?e:Qte(t)}function Qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yte(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xd(t){return Xd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xd(t)}var xM=function(t){Wte(n,t);var e=Gte(n);function n(){return qte(this,n),e.apply(this,arguments)}return Hte(n,[{key:"render",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.top,c=i.left,f=i.className;return!J(o)||!J(a)||!J(s)||!J(u)||!J(l)||!J(c)?null:O("path",{...$e(this.props,!0),className:He("recharts-cross",f),d:n.getPath(o,a,s,u,l,c)})}}],[{key:"getPath",value:function(i,o,a,s,u,l){return"M".concat(i,",").concat(u,"v").concat(s,"M").concat(l,",").concat(o,"h").concat(a)}}]),n}(G.exports.PureComponent);xM.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var Xte=Math.ceil,Jte=Math.max;function Zte(t,e,n,r){for(var i=-1,o=Jte(Xte((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ene=Zte,tne=J$,zI=1/0,nne=17976931348623157e292;function rne(t){if(!t)return t===0?t:0;if(t=tne(t),t===zI||t===-zI){var e=t<0?-1:1;return e*nne}return t===t?t:0}var SM=rne,ine=ene,one=wm,Av=SM;function ane(t){return function(e,n,r){return r&&typeof r!="number"&&one(e,n,r)&&(n=r=void 0),e=Av(e),n===void 0?(n=e,e=0):n=Av(n),r=r===void 0?e<n?1:-1:Av(r),ine(e,n,r,t)}}var sne=ane,une=sne,lne=une(),Jd=lne;function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){EM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cne=["Webkit","Moz","O","ms"],fne=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=cne.reduce(function(o,a){return HI(HI({},o),{},EM({},a+r,n))},{});return i[e]=n,i};function Eh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eh=function(n){return typeof n}:Eh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Eh(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){X0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dne(t,e,n){return e&&GI(t.prototype,e),n&&GI(t,n),t}function pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J0(t,e)}function J0(t,e){return J0=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},J0(t,e)}function mne(t){var e=vne();return function(){var r=Zd(t),i;if(e){var o=Zd(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return gne(this,i)}}function gne(t,e){return e&&(Eh(e)==="object"||typeof e=="function")?e:Z0(t)}function Z0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zd(t){return Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Zd(t)}var yne=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=hl().domain(Jd(0,u)).range([o,o+a-s]),c=l.domain().map(function(f){return l(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},KI=function(e){return e.changedTouches&&!!e.changedTouches.length},Yl=function(t){pne(n,t);var e=mne(n);function n(r){var i;return hne(this,n),i=e.call(this,r),i.leaveTimer=void 0,i.travellerDragStartHandlers=void 0,i.handleDrag=function(o){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(o):i.state.isSlideMoving&&i.handleSlideDrag(o)},i.handleTouchMove=function(o){o.changedTouches!=null&&o.changedTouches.length>0&&i.handleDrag(o.changedTouches[0])},i.handleDragEnd=function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1}),i.detachDragEndListener()},i.handleLeaveWrapper=function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))},i.handleEnterSlideOrTraveller=function(){i.setState({isTextActive:!0})},i.handleLeaveSlideOrTraveller=function(){i.setState({isTextActive:!1})},i.handleSlideDragStart=function(o){var a=KI(o)?o.changedTouches[0]:o;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),i.attachDragEndListener()},i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(Z0(i),"startX"),endX:i.handleTravellerDragStart.bind(Z0(i),"endX")},i.state={},i}return dne(n,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var o=i.startX,a=i.endX,s=this.state.scaleValues,u=this.props,l=u.gap,c=u.data,f=c.length-1,h=Math.min(o,a),p=Math.max(o,a),m=n.getIndexInRange(s,h),d=n.getIndexInRange(s,p);return{startIndex:m-m%l,endIndex:d===f?f:d-d%l}}},{key:"getTextOfTick",value:function(i){var o=this.props,a=o.data,s=o.tickFormatter,u=o.dataKey,l=Mr(a[i],u,i);return ye(s)?s(l,i):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0)}},{key:"handleSlideDrag",value:function(i){var o=this.state,a=o.slideMoveStartX,s=o.startX,u=o.endX,l=this.props,c=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,m=l.endIndex,d=l.onChange,w=i.pageX-a;w>0?w=Math.min(w,c+f-h-u,c+f-h-s):w<0&&(w=Math.max(w,c-s,c-u));var g=this.getIndex({startX:s+w,endX:u+w});(g.startIndex!==p||g.endIndex!==m)&&d&&d(g),this.setState({startX:s+w,endX:u+w,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,o){var a=KI(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var o,a=this.state,s=a.brushMoveStartX,u=a.movingTravellerId,l=a.endX,c=a.startX,f=this.state[u],h=this.props,p=h.x,m=h.width,d=h.travellerWidth,w=h.onChange,g=h.gap,_=h.data,v={startX:this.state.startX,endX:this.state.endX},y=i.pageX-s;y>0?y=Math.min(y,p+m-d-f):y<0&&(y=Math.max(y,p-f)),v[u]=f+y;var b=this.getIndex(v),x=b.startIndex,S=b.endIndex,E=function(){var A=_.length-1;return u==="startX"&&(l>c?x%g===0:S%g===0)||l<c&&S===A||u==="endX"&&(l>c?S%g===0:x%g===0)||l>c&&S===A};this.setState((o={},X0(o,u,f+y),X0(o,"brushMoveStartX",i.pageX),o),function(){w&&E()&&w(b)})}},{key:"renderBackground",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.fill,c=i.stroke;return O("rect",{stroke:c,fill:l,x:o,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.data,c=i.children,f=i.padding,h=G.exports.Children.only(c);return h?Z.cloneElement(h,{x:o,y:a,width:s,height:u,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(i,o){var a=this.props,s=a.y,u=a.travellerWidth,l=a.height,c=a.traveller,f=Math.max(i,this.props.x),h=kv(kv({},$e(this.props)),{},{x:f,y:s,width:u,height:l});return O(Sn,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],style:{cursor:"col-resize"},children:n.renderTraveller(c,h)})}},{key:"renderSlide",value:function(i,o){var a=this.props,s=a.y,u=a.height,l=a.stroke,c=a.travellerWidth,f=Math.min(i,o)+c,h=Math.max(Math.abs(o-i)-c,0);return O("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:s,width:h,height:u})}},{key:"renderText",value:function(){var i=this.props,o=i.startIndex,a=i.endIndex,s=i.y,u=i.height,l=i.travellerWidth,c=i.stroke,f=this.state,h=f.startX,p=f.endX,m=5,d={pointerEvents:"none",fill:c};return ue(Sn,{className:"recharts-brush-texts",children:[O(Vl,{textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:s+u/2,...d,children:this.getTextOfTick(o)}),O(Vl,{textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+m,y:s+u/2,...d,children:this.getTextOfTick(a)})]})}},{key:"render",value:function(){var i=this.props,o=i.data,a=i.className,s=i.children,u=i.x,l=i.y,c=i.width,f=i.height,h=i.alwaysShowText,p=this.state,m=p.startX,d=p.endX,w=p.isTextActive,g=p.isSlideMoving,_=p.isTravellerMoving;if(!o||!o.length||!J(u)||!J(l)||!J(c)||!J(f)||c<=0||f<=0)return null;var v=He("recharts-brush",a),y=Z.Children.count(s)===1,b=fne("userSelect","none");return ue(Sn,{className:v,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b,children:[this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(m,d),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(d,"endX"),(w||g||_||h)&&this.renderText()]})}}],[{key:"renderDefaultTraveller",value:function(i){var o=i.x,a=i.y,s=i.width,u=i.height,l=i.stroke,c=Math.floor(a+u/2)-1;return ue(HU,{children:[O("rect",{x:o,y:a,width:s,height:u,fill:l,stroke:"none"}),O("line",{x1:o+1,y1:c,x2:o+s-1,y2:c,fill:"none",stroke:"#fff"}),O("line",{x1:o+1,y1:c+2,x2:o+s-1,y2:c+2,fill:"none",stroke:"#fff"})]})}},{key:"renderTraveller",value:function(i,o){var a;return Z.isValidElement(i)?a=Z.cloneElement(i,o):ye(i)?a=i(o):a=n.renderDefaultTraveller(o),a}},{key:"getDerivedStateFromProps",value:function(i,o){var a=i.data,s=i.width,u=i.x,l=i.travellerWidth,c=i.updateId,f=i.startIndex,h=i.endIndex;if(a!==o.prevData||c!==o.prevUpdateId)return kv({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:u,prevWidth:s},a&&a.length?yne({data:a,width:s,x:u,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(o.scale&&(s!==o.prevWidth||u!==o.prevX||l!==o.prevTravellerWidth)){o.scale.range([u,u+s-l]);var p=o.scale.domain().map(function(m){return o.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:u,prevWidth:s,startX:o.scale(i.startIndex),endX:o.scale(i.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(i,o){for(var a=i.length,s=0,u=a-1;u-s>1;){var l=Math.floor((s+u)/2);i[l]>o?u=l:s=l}return o>=i[u]?u:s}}]),n}(G.exports.PureComponent);Yl.displayName="Brush";Yl.defaultProps={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};var wne=h_;function _ne(t,e){var n;return wne(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var bne=_ne,xne=r$,Sne=lo,Ene=bne,Tne=Ce,Ine=wm;function Ane(t,e,n){var r=Tne(t)?xne:Ene;return n&&Ine(t,e,n)&&(e=void 0),r(t,Sne(e))}var kne=Ane,Ar=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n};function One(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Cne=One,Pne=h_;function $ne(t,e){var n=!0;return Pne(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Nne=$ne,Mne=Cne,Dne=Nne,Rne=lo,Lne=Ce,Fne=wm;function jne(t,e,n){var r=Lne(t)?Mne:Dne;return n&&Fne(t,e,n)&&(e=void 0),r(t,Rne(e))}var TM=jne,QI=X$;function Une(t,e,n){e=="__proto__"&&QI?QI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Bne=Une,Vne=Bne,zne=Q$,qne=lo;function Hne(t,e){var n={};return e=qne(e),zne(t,function(r,i,o){Vne(n,i,e(r,i,o))}),n}var Wne=Hne;function Gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kne(t,e,n){return e&&YI(t.prototype,e),n&&YI(t,n),t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qne=function(e,n,r,i,o){var a=e.width,s=e.height,u=e.layout,l=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Vr(l,"Bar");return c.reduce(function(p,m){var d=n[m],w=d.orientation,g=d.domain,_=d.padding,v=_===void 0?{}:_,y=d.mirror,b=d.reversed,x="".concat(w).concat(y?"Mirror":""),S,E,T,A,I;if(d.type==="number"&&(d.padding==="gap"||d.padding==="no-gap")){var N=g[1]-g[0],k=1/0,R=d.categoricalDomain.sort();R.forEach(function(ce,pe){pe>0&&(k=Math.min((ce||0)-(R[pe-1]||0),k))});var B=k/N,j=d.layout==="vertical"?r.height:r.width;if(d.padding==="gap"&&(S=B*j/2),d.padding==="no-gap"){var X=Ts(e.barCategoryGap,B*j),C=B*j/2;S=C-X-(C-X)/j*X}}i==="xAxis"?E=[r.left+(v.left||0)+(S||0),r.left+r.width-(v.right||0)-(S||0)]:i==="yAxis"?E=u==="horizontal"?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(S||0),r.top+r.height-(v.bottom||0)-(S||0)]:E=d.range,b&&(E=[E[1],E[0]]);var $=_ee(d,o,h),M=$.scale,H=$.realScaleType;M.domain(g).range(E),bee(M);var q=kee(M,ar(ar({},d),{},{realScaleType:H}));i==="xAxis"?(I=w==="top"&&!y||w==="bottom"&&y,T=r.left,A=f[x]-I*d.height):i==="yAxis"&&(I=w==="left"&&!y||w==="right"&&y,T=f[x]-I*d.width,A=r.top);var ae=ar(ar(ar({},d),q),{},{realScaleType:H,x:T,y:A,scale:M,width:i==="xAxis"?r.width:d.width,height:i==="yAxis"?r.height:d.height});return ae.bandSize=qd(ae,q),!d.hide&&i==="xAxis"?f[x]+=(I?-1:1)*ae.height:d.hide||(f[x]+=(I?-1:1)*ae.width),ar(ar({},p),{},U_({},m,ae))},{})},IM=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Yne=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return IM({x:n,y:r},{x:i,y:o})},AM=function(){function t(e){Gne(this,t),this.scale=void 0,this.scale=e}return Kne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t}();AM.EPS=1e-4;var B_=function(e){var n=Object.keys(e).reduce(function(r,i){return ar(ar({},r),{},U_({},i,AM.create(e[i])))},{});return ar(ar({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Wne(i,function(u,l){return n[l].apply(u,{bandAware:a,position:s})})},isInRange:function(i){return TM(i,function(o,a){return n[a].isInRange(o)})}})};function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jne(t,e){return nre(t)||tre(t,e)||ere(t,e)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){if(!!t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tre(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function nre(t){if(Array.isArray(t))return t}function ew(){return ew=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}var rre=function(e,n){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,n):ye(e)?r=e(n):r=Z.createElement("line",ew({},n,{className:"recharts-reference-line-line"})),r},ire=function(e,n,r,i,o){var a=o.viewBox,s=a.x,u=a.y,l=a.width,c=a.height,f=o.position;if(r){var h=o.y,p=o.yAxis.orientation,m=e.y.apply(h,{position:f});if(Ar(o,"discard")&&!e.y.isInRange(m))return null;var d=[{x:s+l,y:m},{x:s,y:m}];return p==="left"?d.reverse():d}if(n){var w=o.x,g=o.xAxis.orientation,_=e.x.apply(w,{position:f});if(Ar(o,"discard")&&!e.x.isInRange(_))return null;var v=[{x:_,y:u+c},{x:_,y:u}];return g==="top"?v.reverse():v}if(i){var y=o.segment,b=y.map(function(x){return e.apply(x,{position:f})});return Ar(o,"discard")&&kne(b,function(x){return!e.isInRange(x)})?null:b}return null};function V_(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxis,o=t.yAxis,a=t.shape,s=t.className,u=t.alwaysShow,l=t.clipPathId;m_(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=B_({x:i.scale,y:o.scale}),f=yt(e),h=yt(n),p=r&&r.length===2,m=ire(c,f,h,p,t);if(!m)return null;var d=Jne(m,2),w=d[0],g=w.x,_=w.y,v=d[1],y=v.x,b=v.y,x=Ar(t,"hidden")?"url(#".concat(l,")"):void 0,S=ZI(ZI({clipPath:x},$e(t,!0)),{},{x1:g,y1:_,x2:y,y2:b});return Z.createElement(Sn,{className:He("recharts-reference-line",s)},rre(a,S),Lt.renderCallByParent(t,Yne({x1:g,y1:_,x2:y,y2:b})))}V_.displayName="ReferenceLine";V_.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function tw(){return tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){ore(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ore(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var are=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=B_({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Ar(e,"discard")&&!a.isInRange(s)?null:s};function Mc(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,a=yt(e),s=yt(n);if(m_(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var u=are(t);if(!u)return null;var l=u.x,c=u.y,f=t.shape,h=t.className,p=Ar(t,"hidden")?"url(#".concat(o,")"):void 0,m=nA(nA({clipPath:p},$e(t,!0)),{},{cx:l,cy:c});return Z.createElement(Sn,{className:He("recharts-reference-dot",h)},Mc.renderDot(f,m),Lt.renderCallByParent(t,{x:l-r,y:c-r,width:2*r,height:2*r}))}Mc.displayName="ReferenceDot";Mc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};Mc.renderDot=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):ye(t)?n=t(e):n=Z.createElement(j_,tw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function nw(){return nw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(this,arguments)}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ure=function(e,n,r,i,o){var a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=B_({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(u,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(l,{position:"end"}):h.y.rangeMax};return Ar(o,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:IM(p,m)};function Dc(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,a=t.alwaysShow,s=t.clipPathId;m_(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=yt(e),l=yt(n),c=yt(r),f=yt(i),h=t.shape;if(!u&&!l&&!c&&!f&&!h)return null;var p=ure(u,l,c,f,t);if(!p&&!h)return null;var m=Ar(t,"hidden")?"url(#".concat(s,")"):void 0;return Z.createElement(Sn,{className:He("recharts-reference-area",o)},Dc.renderRect(h,iA(iA({clipPath:m},$e(t,!0)),p)),Lt.renderCallByParent(t,p))}Dc.displayName="ReferenceArea";Dc.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Dc.renderRect=function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):ye(t)?n=t(e):n=Z.createElement(F_,nw({},e,{className:"recharts-reference-area-rect"})),n};function Th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Th=function(n){return typeof n}:Th=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Th(t)}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ov(t,e){if(t==null)return{};var n=cre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function cre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hre(t,e,n){return e&&aA(t.prototype,e),n&&aA(t,n),t}function dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},rw(t,e)}function pre(t){var e=vre();return function(){var r=ep(t),i;if(e){var o=ep(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return mre(this,i)}}function mre(t,e){return e&&(Th(e)==="object"||typeof e=="function")?e:gre(t)}function gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vre(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ep(t)}var Po=function(t){dre(n,t);var e=pre(n);function n(){return fre(this,n),e.apply(this,arguments)}return hre(n,[{key:"shouldComponentUpdate",value:function(i){var o=i.viewBox,a=Ov(i,["viewBox"]),s=this.props,u=s.viewBox,l=Ov(s,["viewBox"]);return!zl(o,u)||!zl(a,l)}},{key:"getTickLineCoord",value:function(i){var o=this.props,a=o.x,s=o.y,u=o.width,l=o.height,c=o.orientation,f=o.tickSize,h=o.mirror,p=o.tickMargin,m,d,w,g,_,v,y=h?-1:1,b=i.tickSize||f,x=J(i.tickCoord)?i.tickCoord:i.coordinate;switch(c){case"top":m=d=i.coordinate,g=s+ +!h*l,w=g-y*b,v=w-y*p,_=x;break;case"left":w=g=i.coordinate,d=a+ +!h*u,m=d-y*b,_=m-y*p,v=x;break;case"right":w=g=i.coordinate,d=a+ +h*u,m=d+y*b,_=m+y*p,v=x;break;default:m=d=i.coordinate,g=s+ +h*l,w=g+y*b,v=w+y*p,_=x;break}return{line:{x1:m,y1:w,x2:d,y2:g},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,o=i.orientation,a=i.mirror,s;switch(o){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,o=i.orientation,a=i.mirror,s="end";switch(o){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var i=this.props,o=i.x,a=i.y,s=i.width,u=i.height,l=i.orientation,c=i.mirror,f=i.axisLine,h=Oe(Oe(Oe({},$e(this.props)),$e(f)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);h=Oe(Oe({},h),{},{x1:o,y1:a+p*u,x2:o+s,y2:a+p*u})}else{var m=+(l==="left"&&!c||l==="right"&&c);h=Oe(Oe({},h),{},{x1:o+m*s,y1:a,x2:o+m*s,y2:a+u})}return O("line",{...h,className:He("recharts-cartesian-axis-line",$n(f,"className"))})}},{key:"renderTicks",value:function(i){var o=this,a=this.props,s=a.tickLine,u=a.stroke,l=a.tick,c=a.tickFormatter,f=a.unit,h=n.getTicks(Oe(Oe({},this.props),{},{ticks:i})),p=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),d=$e(this.props),w=$e(l),g=Oe(Oe({},d),{},{fill:"none"},$e(s)),_=h.map(function(v,y){var b=o.getTickLineCoord(v),x=b.line,S=b.tick,E=Oe(Oe(Oe(Oe({textAnchor:p,verticalAnchor:m},d),{},{stroke:"none",fill:u},w),S),{},{index:y,payload:v,visibleTicksCount:h.length,tickFormatter:c});return ue(Sn,{className:"recharts-cartesian-axis-tick",...XP(o.props,v,y),children:[s&&O("line",{...g,...x,className:He("recharts-cartesian-axis-tick-line",$n(s,"className"))}),l&&n.renderTickItem(l,E,"".concat(ye(c)?c(v.value,y):v.value).concat(f||""))]},"tick-".concat(y))});return O("g",{className:"recharts-cartesian-axis-ticks",children:_})}},{key:"render",value:function(){var i=this.props,o=i.axisLine,a=i.width,s=i.height,u=i.ticksGenerator,l=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Ov(f,["ticks"]),m=h;return ye(u)&&(m=h&&h.length>0?u(this.props):u(p)),a<=0||s<=0||!m||!m.length?null:ue(Sn,{className:He("recharts-cartesian-axis",l),children:[o&&this.renderAxisLine(),this.renderTicks(m),Lt.renderCallByParent(this.props)]})}}],[{key:"getTicks",value:function(i){var o=i.tick,a=i.ticks,s=i.viewBox,u=i.minTickGap,l=i.orientation,c=i.interval,f=i.tickFormatter,h=i.unit;return!a||!a.length||!o?[]:J(c)||ji.isSsr?n.getNumberIntervalTicks(a,typeof c=="number"&&J(c)?c:0):c==="preserveStartEnd"?n.getTicksStart({ticks:a,tickFormatter:f,viewBox:s,orientation:l,minTickGap:u,unit:h},!0):c==="preserveStart"?n.getTicksStart({ticks:a,tickFormatter:f,viewBox:s,orientation:l,minTickGap:u,unit:h}):n.getTicksEnd({ticks:a,tickFormatter:f,viewBox:s,orientation:l,minTickGap:u,unit:h})}},{key:"getNumberIntervalTicks",value:function(i,o){return i.filter(function(a,s){return s%(o+1)===0})}},{key:"getTicksStart",value:function(i,o){var a=i.ticks,s=i.tickFormatter,u=i.viewBox,l=i.orientation,c=i.minTickGap,f=i.unit,h=u.x,p=u.y,m=u.width,d=u.height,w=l==="top"||l==="bottom"?"width":"height",g=(a||[]).slice(),_=f&&w==="width"?Co(f)[w]:0,v=g.length,y=v>=2?yr(g[1].coordinate-g[0].coordinate):1,b,x;if(y===1?(b=w==="width"?h:p,x=w==="width"?h+m:p+d):(b=w==="width"?h+m:p+d,x=w==="width"?h:p),o){var S=a[v-1],E=ye(s)?s(S.value,v-1):S.value,T=Co(E)[w]+_,A=y*(S.coordinate+y*T/2-x);g[v-1]=S=Oe(Oe({},S),{},{tickCoord:A>0?S.coordinate-A*y:S.coordinate});var I=y*(S.tickCoord-y*T/2-b)>=0&&y*(S.tickCoord+y*T/2-x)<=0;I&&(x=S.tickCoord-y*(T/2+c),g[v-1]=Oe(Oe({},S),{},{isShow:!0}))}for(var N=o?v-1:v,k=0;k<N;k++){var R=g[k],B=ye(s)?s(R.value,k):R.value,j=Co(B)[w]+_;if(k===0){var X=y*(R.coordinate-y*j/2-b);g[k]=R=Oe(Oe({},R),{},{tickCoord:X<0?R.coordinate-X*y:R.coordinate})}else g[k]=R=Oe(Oe({},R),{},{tickCoord:R.coordinate});var C=y*(R.tickCoord-y*j/2-b)>=0&&y*(R.tickCoord+y*j/2-x)<=0;C&&(b=R.tickCoord+y*(j/2+c),g[k]=Oe(Oe({},R),{},{isShow:!0}))}return g.filter(function($){return $.isShow})}},{key:"getTicksEnd",value:function(i){var o=i.ticks,a=i.tickFormatter,s=i.viewBox,u=i.orientation,l=i.minTickGap,c=i.unit,f=s.x,h=s.y,p=s.width,m=s.height,d=u==="top"||u==="bottom"?"width":"height",w=c&&d==="width"?Co(c)[d]:0,g=(o||[]).slice(),_=g.length,v=_>=2?yr(g[1].coordinate-g[0].coordinate):1,y,b;v===1?(y=d==="width"?f:h,b=d==="width"?f+p:h+m):(y=d==="width"?f+p:h+m,b=d==="width"?f:h);for(var x=_-1;x>=0;x--){var S=g[x],E=ye(a)?a(S.value,_-x-1):S.value,T=Co(E)[d]+w;if(x===_-1){var A=v*(S.coordinate+v*T/2-b);g[x]=S=Oe(Oe({},S),{},{tickCoord:A>0?S.coordinate-A*v:S.coordinate})}else g[x]=S=Oe(Oe({},S),{},{tickCoord:S.coordinate});var I=v*(S.tickCoord-v*T/2-y)>=0&&v*(S.tickCoord+v*T/2-b)<=0;I&&(b=S.tickCoord-v*(T/2+l),g[x]=Oe(Oe({},S),{},{isShow:!0}))}return g.filter(function(N){return N.isShow})}},{key:"renderTickItem",value:function(i,o,a){var s;return Z.isValidElement(i)?s=Z.cloneElement(i,o):ye(i)?s=i(o):s=O(Vl,{...o,className:"recharts-cartesian-axis-tick-value",children:a}),s}}]),n}(G.exports.Component);Po.displayName="CartesianAxis";Po.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function tp(){return tp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tp.apply(this,arguments)}function yre(t,e){return xre(t)||bre(t,e)||_re(t,e)||wre()}function wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(t,e){if(!!t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bre(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function xre(t){if(Array.isArray(t))return t}function Sre(t,e){if(t==null)return{};var n=Ere(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ere(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z_(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,a=t.dataPointFormatter,s=t.xAxis,u=t.yAxis,l=Sre(t,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),c=$e(l),f=o.map(function(h,p){var m=a(h,i),d=m.x,w=m.y,g=m.value,_=m.errorVal;if(!_)return null;var v=[],y,b;if(Array.isArray(_)){var x=yre(_,2);y=x[0],b=x[1]}else y=b=_;if(n==="vertical"){var S=s.scale,E=w+e,T=E+r,A=E-r,I=S(g-y),N=S(g+b);v.push({x1:N,y1:T,x2:N,y2:A}),v.push({x1:I,y1:E,x2:N,y2:E}),v.push({x1:I,y1:T,x2:I,y2:A})}else if(n==="horizontal"){var k=u.scale,R=d+e,B=R-r,j=R+r,X=k(g-y),C=k(g+b);v.push({x1:B,y1:C,x2:j,y2:C}),v.push({x1:R,y1:X,x2:R,y2:C}),v.push({x1:B,y1:X,x2:j,y2:X})}return Z.createElement(Sn,tp({className:"recharts-errorBar",key:"bar-".concat(p)},c),v.map(function($,M){return Z.createElement("line",tp({},$,{key:"line-".concat(M)}))}))});return Z.createElement(Sn,{className:"recharts-errorBars"},f)}z_.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};z_.displayName="ErrorBar";function Ih(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ih=function(n){return typeof n}:Ih=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ih(t)}function Tre(t,e){if(t==null)return{};var n=Ire(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Ire(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ra(t){return Pre(t)||Cre(t)||Ore(t)||kre()}function kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){if(!!t){if(typeof t=="string")return iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iw(t,e)}}function Cre(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Pre(t){if(Array.isArray(t))return iw(t)}function iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nre(t,e,n){return e&&lA(t.prototype,e),n&&lA(t,n),t}function Mre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ow(t,e)}function Dre(t){var e=Fre();return function(){var r=np(t),i;if(e){var o=np(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rre(this,i)}}function Rre(t,e){return e&&(Ih(e)==="object"||typeof e=="function")?e:Lre(t)}function Lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fre(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},np(t)}var Rc=function(t){Mre(n,t);var e=Dre(n);function n(){var r;$re(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o)),r.mainCurve=void 0,r.state={isAnimationFinished:!0,totalLength:0},r.getStrokeDasharray=function(s,u,l){for(var c=l.reduce(function(_,v){return _+v}),f=Math.floor(s/c),h=s%c,p=u-s,m=[],d=0,w=0;;w+=l[d],++d)if(w+l[d]>h){m=[].concat(Ra(l.slice(0,d)),[h-w]);break}var g=m.length%2===0?[0,p]:[p];return[].concat(Ra(n.repeat(l,f)),Ra(m),g).map(function(_){return"".concat(_,"px")}).join(", ")},r.id=vm("recharts-line-"),r.pathRef=function(s){r.mainCurve=s},r.handleAnimationEnd=function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()},r.handleAnimationStart=function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()},r}return Nre(n,[{key:"componentDidMount",value:function(){if(!!this.props.isAnimationActive){var i=this.getTotalLength();this.setState({totalLength:i})}}},{key:"getTotalLength",value:function(){var i=this.mainCurve;try{return i&&i.getTotalLength&&i.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,u=i.layout,l=i.children,c=Tr(l,z_.displayName);if(!c)return null;function f(h,p){return{x:h.x,y:h.y,value:h.value,errorVal:Mr(h.payload,p)}}return c.map(function(h,p){return Z.cloneElement(h,{key:"bar-".concat(p),data:o,xAxis:a,yAxis:s,layout:u,dataPointFormatter:f})})}},{key:"renderDots",value:function(i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,u=s.dot,l=s.points,c=s.dataKey,f=$e(this.props),h=$e(u,!0),p=l.map(function(d,w){var g=En(En(En({key:"dot-".concat(w),r:3},f),h),{},{value:d.value,dataKey:c,cx:d.x,cy:d.y,index:w,payload:d.payload});return n.renderDotItem(u,g)}),m={clipPath:i?"url(#clipPath-".concat(o,")"):null};return O(Sn,{className:"recharts-line-dots",...m,children:p},"dots")}},{key:"renderCurveStatically",value:function(i,o,a,s){var u=this.props,l=u.type,c=u.layout,f=u.connectNulls;u.ref;var h=Tre(u,["type","layout","connectNulls","ref"]),p=En(En(En({},$e(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(a,")"):null,points:i},s),{},{type:l,layout:c,connectNulls:f});return O(Kd,{...p,pathRef:this.pathRef})}},{key:"renderCurveWithAnimation",value:function(i,o){var a=this,s=this.props,u=s.points,l=s.strokeDasharray,c=s.isAnimationActive,f=s.animationBegin,h=s.animationDuration,p=s.animationEasing,m=s.animationId,d=s.animateNewValues,w=s.width,g=s.height,_=this.state,v=_.prevPoints,y=_.totalLength;return O(As,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart,children:function(b){var x=b.t;if(v){var S=v.length/u.length,E=u.map(function(k,R){var B=Math.floor(R*S);if(v[B]){var j=v[B],X=Ou(j.x,k.x),C=Ou(j.y,k.y);return En(En({},k),{},{x:X(x),y:C(x)})}if(d){var $=Ou(w*2,k.x),M=Ou(g/2,k.y);return En(En({},k),{},{x:$(x),y:M(x)})}return En(En({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(E,i,o)}var T=Ou(0,y),A=T(x),I;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});I=a.getStrokeDasharray(A,y,N)}else I="".concat(A,"px ").concat(y-A,"px");return a.renderCurveStatically(u,i,o,{strokeDasharray:I})}},"line-".concat(m))}},{key:"renderCurve",value:function(i,o){var a=this.props,s=a.points,u=a.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return u&&s&&s.length&&(!c&&f>0||!aN(c,s))?this.renderCurveWithAnimation(i,o):this.renderCurveStatically(s,i,o)}},{key:"render",value:function(){var i=this.props,o=i.hide,a=i.dot,s=i.points,u=i.className,l=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,d=i.isAnimationActive,w=i.id;if(o||!s||!s.length)return null;var g=this.state.isAnimationFinished,_=s.length===1,v=He("recharts-line",u),y=l&&l.allowDataOverflow||c&&c.allowDataOverflow,b=fe(w)?this.id:w;return ue(Sn,{className:v,children:[y?O("defs",{children:O("clipPath",{id:"clipPath-".concat(b),children:O("rect",{x:h,y:f,width:p,height:m})})}):null,!_&&this.renderCurve(y,b),this.renderErrorBar(),(_||a)&&this.renderDots(y,b),(!d||g)&&Bi.renderCallByParent(this.props,s)]})}}],[{key:"getDerivedStateFromProps",value:function(i,o){return i.animationId!==o.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:o.curPoints}:i.points!==o.curPoints?{curPoints:i.points}:null}},{key:"repeat",value:function(i,o){for(var a=i.length%2!==0?[].concat(Ra(i),[0]):i,s=[],u=0;u<o;++u)s=[].concat(Ra(s),Ra(a));return s}},{key:"renderDotItem",value:function(i,o){var a;if(Z.isValidElement(i))a=Z.cloneElement(i,o);else if(ye(i))a=i(o);else{var s=He("recharts-line-dot",i?i.className:"");a=O(j_,{...o,className:s})}return a}}]),n}(G.exports.PureComponent);Rc.displayName="Line";Rc.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1};Rc.getComposedData=function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,u=t.displayedData,l=t.offset,c=e.layout,f=u.map(function(h,p){var m=Mr(h,a);return c==="horizontal"?{x:EI({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:fe(m)?null:r.scale(m),value:m,payload:h}:{x:fe(m)?null:n.scale(m),y:EI({axis:r,ticks:o,bandSize:s,entry:h,index:p}),value:m,payload:h}});return En({points:f,layout:c},l)};var Pm=function(){return null};Pm.displayName="XAxis";Pm.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var $m=function(){return null};$m.displayName="YAxis";$m.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var jre=lo,Ure=Ac,Bre=lm;function Vre(t){return function(e,n,r){var i=Object(e);if(!Ure(e)){var o=jre(n);e=Bre(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var zre=Vre,qre=SM;function Hre(t){var e=qre(t),n=e%1;return e===e?n?e-n:e:0}var Wre=Hre,Gre=w$,Kre=lo,Qre=Wre,Yre=Math.max;function Xre(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Qre(n);return i<0&&(i=Yre(r+i,0)),Gre(t,Kre(e),i)}var Jre=Xre,Zre=zre,eie=Jre,tie=Zre(eie),nie=tie,rie=WQ,iie=Un,oie="Expected a function";function aie(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(oie);return iie(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rie(t,e,{leading:r,maxWait:e,trailing:i})}var sie=aie,uie=so,lie=uo,cie="[object Boolean]";function fie(t){return t===!0||t===!1||lie(t)&&uie(t)==cie}var hie=fie,aw=function(e,n,r,i,o){var a=Tr(e,V_.displayName),s=Tr(e,Mc.displayName),u=a.concat(s),l=Tr(e,Dc.displayName),c="".concat(i,"Id"),f=i[0],h=n;if(u.length&&(h=u.reduce(function(d,w){if(w.props[c]===r&&Ar(w.props,"extendDomain")&&J(w.props[f])){var g=w.props[f];return[Math.min(d[0],g),Math.max(d[1],g)]}return d},h)),l.length){var p="".concat(f,"1"),m="".concat(f,"2");h=l.reduce(function(d,w){if(w.props[c]===r&&Ar(w.props,"extendDomain")&&J(w.props[p])&&J(w.props[m])){var g=w.props[p],_=w.props[m];return[Math.min(d[0],g,_),Math.max(d[1],g,_)]}return d},h)}return o&&o.length&&(h=o.reduce(function(d,w){return J(w)?[Math.min(d[0],w),Math.max(d[1],w)]:d},h)),h},kM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||u,h),m=n?n+l:l;return u._events[m]?u._events[m].fn?u._events[m]=[u._events[m],p]:u._events[m].push(p):(u._events[m]=p,u._eventsCount++),u}function a(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(l,c,f,h,p,m){var d=n?n+l:l;if(!this._events[d])return!1;var w=this._events[d],g=arguments.length,_,v;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,h),!0;case 5:return w.fn.call(w.context,c,f,h,p),!0;case 6:return w.fn.call(w.context,c,f,h,p,m),!0}for(v=1,_=new Array(g-1);v<g;v++)_[v-1]=arguments[v];w.fn.apply(w.context,_)}else{var y=w.length,b;for(v=0;v<y;v++)switch(w[v].once&&this.removeListener(l,w[v].fn,void 0,!0),g){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,c);break;case 3:w[v].fn.call(w[v].context,c,f);break;case 4:w[v].fn.call(w[v].context,c,f,h);break;default:if(!_)for(b=1,_=new Array(g-1);b<g;b++)_[b-1]=arguments[b];w[v].fn.apply(w[v].context,_)}}return!0},s.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},s.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},s.prototype.removeListener=function(l,c,f,h){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var d=0,w=[],g=m.length;d<g;d++)(m[d].fn!==c||h&&!m[d].once||f&&m[d].context!==f)&&w.push(m[d]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(kM);var die=kM.exports,Tn=new die;Tn.setMaxListeners&&Tn.setMaxListeners(10);var Cv="recharts.syncMouseEvents";function Ah(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ah=function(n){return typeof n}:Ah=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ah(t)}function cA(t,e){return gie(t)||mie(t,e)||OM(t,e)||pie()}function pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mie(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function gie(t){if(Array.isArray(t))return t}function fA(t,e){if(t==null)return{};var n=vie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function vie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wie(t,e,n){return e&&hA(t.prototype,e),n&&hA(t,n),t}function _ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sw(t,e)}function sw(t,e){return sw=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},sw(t,e)}function bie(t){var e=Sie();return function(){var r=rp(t),i;if(e){var o=rp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return xie(this,i)}}function xie(t,e){return e&&(Ah(e)==="object"||typeof e=="function")?e:uw(t)}function uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sie(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rp(t)}function Ps(t){return Iie(t)||Tie(t)||OM(t)||Eie()}function Eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OM(t,e){if(!!t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function Tie(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function Iie(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){An(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Aie={xAxis:["bottom","top"],yAxis:["left","right"]},CM={x:0,y:0},kie=Number.isFinite?Number.isFinite:isFinite,pA=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:setTimeout,mA=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:typeof clearImmediate=="function"?clearImmediate:clearTimeout,Oie=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Cie=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return U(U(U({},i),jt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var u=o.coordinate,l=i.angle;return U(U(U({},i),jt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return CM},Nm=function(e,n,r){var i=n.graphicalItems,o=n.dataStartIndex,a=n.dataEndIndex,s=(i||[]).reduce(function(u,l){var c=l.props.data;return c&&c.length?[].concat(Ps(u),Ps(c)):u},[]);return s&&s.length>0?s:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:e&&e.length&&J(o)&&J(a)?e.slice(o,a+1):[]},PM=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Nm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(u,l){var c=l.props.hide;if(c)return u;var f=l.props.data,h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=Ed(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Ps(u),[Pee(l,h)]):u},[])},gA=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Oie(o,r),s=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=mee(a,s,l,u);if(c>=0&&l){var f=l[c]&&l[c].value,h=PM(e,n,c,f),p=Cie(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Pie=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=gM(c,o),m=r.reduce(function(d,w){var g=w.props,_=g.type,v=g.dataKey,y=g.allowDataOverflow,b=g.allowDuplicatedCategory,x=g.scale,S=g.ticks,E=w.props[a],T=Nm(e.data,{graphicalItems:i.filter(function(C){return C.props[a]===E}),dataStartIndex:u,dataEndIndex:l}),A=T.length;if(!d[E]){var I,N,k;if(v){if(I=zd(T,v,_),_==="category"&&p){var R=pK(I);b&&R?(N=I,I=Jd(0,A)):b||(I=AI(w.props.domain,I,w).reduce(function(C,$){return C.indexOf($)>=0?C:[].concat(Ps(C),[$])},[]))}else if(_==="category")b?I=I.filter(function(C){return C!==""&&!fe(C)}):I=AI(w.props.domain,I,w).reduce(function(C,$){return C.indexOf($)>=0||$===""||fe($)?C:[].concat(Ps(C),[$])},[]);else if(_==="number"){var B=wee(T,i.filter(function(C){return C.props[a]===E&&!C.props.hide}),v,o);B&&(I=B)}p&&(_==="number"||x!=="auto")&&(k=zd(T,v,"category"))}else p?I=Jd(0,A):s&&s[E]&&s[E].hasStack&&_==="number"?I=h==="expand"?[0,1]:vM(s[E].stackGroups,u,l):I=mM(T,i.filter(function(C){return C.props[a]===E&&!C.props.hide}),_,!0);if(_==="number")I=aw(f,I,E,o,S),w.props.domain&&(I=yM(w.props.domain,I,y));else if(_==="category"&&w.props.domain){var j=w.props.domain,X=I.every(function(C){return j.indexOf(C)>=0});X&&(I=j)}return U(U({},d),{},An({},E,U(U({},w.props),{},{axisType:o,domain:I,categoricalDomain:k,duplicateDomain:N,originalDomain:w.props.domain,isCategorical:p,layout:c})))}return d},{});return m},$ie=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,h=Nm(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=h.length,m=gM(c,o),d=-1,w=r.reduce(function(g,_){var v=_.props[a];if(!g[v]){d++;var y;return m?y=Jd(0,p):s&&s[v]&&s[v].hasStack?(y=vM(s[v].stackGroups,u,l),y=aw(f,y,v,o)):(y=yM(i.defaultProps.domain,mM(h,r.filter(function(b){return b.props[a]===v&&!b.props.hide}),"number"),i.defaultProps.allowDataOverflow),y=aw(f,y,v,o)),U(U({},g),{},An({},v,U(U({axisType:o},i.defaultProps),{},{hide:!0,orientation:$n(Aie,"".concat(o,".").concat(d%2),null),domain:y,originalDomain:i.defaultProps.domain,isCategorical:m,layout:c})))}return g},{});return w},Nie=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Tr(c,o),p={};return h&&h.length?p=Pie(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l}):a&&a.length&&(p=$ie(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:u,dataEndIndex:l})),p},Mie=function(e){var n=pi(e),r=mi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:d_(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qd(n,r)}},vA=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vr(n,Yl.displayName),o=i&&i.props&&i.props.startIndex||0,a=i&&i.props&&i.props.endIndex||e.data&&e.data.length-1||0;return{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:fe(r)?!1:r}},Die=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ui(n&&n.type);return r&&r.indexOf("Bar")>=0})},yA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Rie=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,u=s===void 0?{}:s,l=r.width,c=r.height,f=r.children,h=r.margin||{},p=Vr(f,Yl.displayName),m=Vr(f,Bl.displayName),d=Object.keys(u).reduce(function(v,y){var b=u[y],x=b.orientation;return!b.mirror&&!b.hide?U(U({},v),{},An({},x,v[x]+b.width)):v},{left:h.left||0,right:h.right||0}),w=Object.keys(a).reduce(function(v,y){var b=a[y],x=b.orientation;return!b.mirror&&!b.hide?U(U({},v),{},An({},x,$n(v,"".concat(x))+b.height)):v},{top:h.top||0,bottom:h.bottom||0}),g=U(U({},w),d),_=g.bottom;return p&&(g.bottom+=p.props.height||Yl.defaultProps.height),m&&n&&(g=yee(g,i,r,n)),U(U({brushBottom:_},g),{},{width:l-g.left-g.right,height:c-g.top-g.bottom})},Lie=function(e){var n,r,i=e.chartName,o=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,u=e.validateTooltipEventTypes,l=u===void 0?["axis"]:u,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,m=function(g,_){var v=_.graphicalItems,y=_.stackGroups,b=_.offset,x=_.updateId,S=_.dataStartIndex,E=_.dataEndIndex,T=g.barSize,A=g.layout,I=g.barGap,N=g.barCategoryGap,k=g.maxBarSize,R=yA(A),B=R.numericAxisName,j=R.cateAxisName,X=Die(v),C=X&&gee({barSize:T,stackGroups:y}),$=[];return v.forEach(function(M,H){var q=Nm(g.data,{dataStartIndex:S,dataEndIndex:E},M),ae=M.props,ce=ae.dataKey,pe=ae.maxBarSize,se=M.props["".concat(B,"Id")],le=M.props["".concat(j,"Id")],K=c.reduce(function(yu,lf){var cf,_x=_["".concat(lf.axisType,"Map")],gL=M.props["".concat(lf.axisType,"Id")],bx=_x&&_x[gL];return U(U({},yu),{},(cf={},An(cf,lf.axisType,bx),An(cf,"".concat(lf.axisType,"Ticks"),mi(bx)),cf))},{}),F=K[j],ee=K["".concat(j,"Ticks")],te=y&&y[se]&&y[se].hasStack&&Oee(M,y[se].stackGroups),L=Ui(M.type).indexOf("Bar")>=0,Pe=qd(F,ee),be=[];if(L){var Je,st,dr=fe(pe)?k:pe,wo=(Je=(st=qd(F,ee,!0))!==null&&st!==void 0?st:dr)!==null&&Je!==void 0?Je:0;be=vee({barGap:I,barCategoryGap:N,bandSize:wo!==Pe?wo:Pe,sizeList:C[le],maxBarSize:dr}),wo!==Pe&&(be=be.map(function(yu){return U(U({},yu),{},{position:U(U({},yu.position),{},{offset:yu.position.offset-wo/2})})}))}var wx=M&&M.type&&M.type.getComposedData;if(wx){var vu;$.push({props:U(U({},wx(U(U({},K),{},{displayedData:q,props:g,dataKey:ce,item:M,bandSize:Pe,barPosition:be,offset:b,stackedData:te,layout:A,dataStartIndex:S,dataEndIndex:E}))),{},(vu={key:M.key||"item-".concat(H)},An(vu,B,K[B]),An(vu,j,K[j]),An(vu,"animationId",x),vu)),childIndex:HY(M,g.children),item:M})}}),$},d=function(g,_){var v=g.props,y=g.dataStartIndex,b=g.dataEndIndex,x=g.updateId;if(!NT({props:v}))return null;var S=v.children,E=v.layout,T=v.stackOffset,A=v.data,I=v.reverseStackOrder,N=yA(E),k=N.numericAxisName,R=N.cateAxisName,B=Tr(S,o),j=Iee(A,B,"".concat(k,"Id"),"".concat(R,"Id"),T,I),X=c.reduce(function(q,ae){var ce="".concat(ae.axisType,"Map");return U(U({},q),{},An({},ce,Nie(v,U(U({},ae),{},{graphicalItems:B,stackGroups:ae.axisType===k&&j,dataStartIndex:y,dataEndIndex:b}))))},{}),C=Rie(U(U({},X),{},{props:v,graphicalItems:B}),_==null?void 0:_.legendBBox);Object.keys(X).forEach(function(q){X[q]=h(v,X[q],C,q.replace("Map",""),i)});var $=X["".concat(R,"Map")],M=Mie($),H=m(v,U(U({},X),{},{dataStartIndex:y,dataEndIndex:b,updateId:x,graphicalItems:B,stackGroups:j,offset:C}));return U(U({formattedGraphicalItems:H,graphicalItems:B,offset:C,stackGroups:j},M),X)};return r=n=function(w){_ie(_,w);var g=bie(_);function _(v){var y;return yie(this,_),y=g.call(this,v),y.uniqueChartId=void 0,y.clipPathId=void 0,y.legendInstance=void 0,y.deferId=void 0,y.container=void 0,y.clearDeferId=function(){!fe(y.deferId)&&mA&&mA(y.deferId),y.deferId=null},y.handleLegendBBoxUpdate=function(b){if(b){var x=y.state,S=x.dataStartIndex,E=x.dataEndIndex,T=x.updateId;y.setState(U({legendBBox:b},d({props:y.props,dataStartIndex:S,dataEndIndex:E,updateId:T},U(U({},y.state),{},{legendBBox:b}))))}},y.handleReceiveSyncEvent=function(b,x,S){var E=y.props.syncId;E===b&&x!==y.uniqueChartId&&(y.clearDeferId(),y.deferId=pA&&pA(y.applySyncEvent.bind(uw(y),S)))},y.handleBrushChange=function(b){var x=b.startIndex,S=b.endIndex;if(x!==y.state.dataStartIndex||S!==y.state.dataEndIndex){var E=y.state.updateId;y.setState(function(){return U({dataStartIndex:x,dataEndIndex:S},d({props:y.props,dataStartIndex:x,dataEndIndex:S,updateId:E},y.state))}),y.triggerSyncEvent({dataStartIndex:x,dataEndIndex:S})}},y.handleMouseEnter=function(b){var x=y.props.onMouseEnter,S=y.getMouseInfo(b);if(S){var E=U(U({},S),{},{isTooltipActive:!0});y.setState(E),y.triggerSyncEvent(E),ye(x)&&x(E,b)}},y.triggeredAfterMouseMove=function(b){var x=y.props.onMouseMove,S=y.getMouseInfo(b),E=S?U(U({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};y.setState(E),y.triggerSyncEvent(E),ye(x)&&x(E,b)},y.handleItemMouseEnter=function(b){y.setState(function(){return{isTooltipActive:!0,activeItem:b,activePayload:b.tooltipPayload,activeCoordinate:b.tooltipPosition||{x:b.cx,y:b.cy}}})},y.handleItemMouseLeave=function(){y.setState(function(){return{isTooltipActive:!1}})},y.handleMouseMove=function(b){b&&ye(b.persist)&&b.persist(),y.triggeredAfterMouseMove(b)},y.handleMouseLeave=function(b){var x=y.props.onMouseLeave,S={isTooltipActive:!1};y.setState(S),y.triggerSyncEvent(S),ye(x)&&x(S,b),y.cancelThrottledTriggerAfterMouseMove()},y.handleOuterEvent=function(b){var x=qY(b),S=$n(y.props,"".concat(x));if(x&&ye(S)){var E;/.*touch.*/i.test(x)?E=y.getMouseInfo(b.changedTouches[0]):E=y.getMouseInfo(b);var T=S;T(E,b)}},y.handleClick=function(b){var x=y.props.onClick,S=y.getMouseInfo(b);if(S){var E=U(U({},S),{},{isTooltipActive:!0});y.setState(E),y.triggerSyncEvent(E),ye(x)&&x(E,b)}},y.handleMouseDown=function(b){var x=y.props.onMouseDown;if(ye(x)){var S=y.getMouseInfo(b);x(S,b)}},y.handleMouseUp=function(b){var x=y.props.onMouseUp;if(ye(x)){var S=y.getMouseInfo(b);x(S,b)}},y.handleTouchMove=function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseMove(b.changedTouches[0])},y.handleTouchStart=function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseDown(b.changedTouches[0])},y.handleTouchEnd=function(b){b.changedTouches!=null&&b.changedTouches.length>0&&y.handleMouseUp(b.changedTouches[0])},y.verticalCoordinatesGenerator=function(b){var x=b.xAxis,S=b.width,E=b.height,T=b.offset;return xI(Po.getTicks(U(U(U({},Po.defaultProps),x),{},{ticks:mi(x,!0),viewBox:{x:0,y:0,width:S,height:E}})),T.left,T.left+T.width)},y.horizontalCoordinatesGenerator=function(b){var x=b.yAxis,S=b.width,E=b.height,T=b.offset;return xI(Po.getTicks(U(U(U({},Po.defaultProps),x),{},{ticks:mi(x,!0),viewBox:{x:0,y:0,width:S,height:E}})),T.top,T.top+T.height)},y.axesTicksGenerator=function(b){return mi(b,!0)},y.renderCursor=function(b){var x=y.state,S=x.isTooltipActive,E=x.activeCoordinate,T=x.activePayload,A=x.offset,I=x.activeTooltipIndex,N=y.getTooltipEventType();if(!b||!b.props.cursor||!S||!E||i!=="ScatterChart"&&N!=="axis")return null;var k=y.props.layout,R,B=Kd;if(i==="ScatterChart")R=E,B=xM;else if(i==="BarChart")R=y.getCursorRectangle(),B=F_;else if(k==="radial"){var j=y.getCursorPoints(),X=j.cx,C=j.cy,$=j.radius,M=j.startAngle,H=j.endAngle;R={cx:X,cy:C,startAngle:M,endAngle:H,innerRadius:$,outerRadius:$},B=bM}else R={points:y.getCursorPoints()},B=Kd;var q=b.key||"_recharts-cursor",ae=U(U(U(U({stroke:"#ccc",pointerEvents:"none"},A),R),$e(b.props.cursor)),{},{payload:T,payloadIndex:I,key:q,className:"recharts-tooltip-cursor"});return G.exports.isValidElement(b.props.cursor)?G.exports.cloneElement(b.props.cursor,ae):G.exports.createElement(B,ae)},y.renderPolarAxis=function(b,x,S){var E=$n(b,"type.axisType"),T=$n(y.state,"".concat(E,"Map")),A=T[b.props["".concat(E,"Id")]];return G.exports.cloneElement(b,U(U({},A),{},{className:E,key:b.key||"".concat(x,"-").concat(S),ticks:mi(A,!0)}))},y.renderXAxis=function(b,x,S){var E=y.state.xAxisMap,T=E[b.props.xAxisId];return y.renderAxis(T,b,x,S)},y.renderYAxis=function(b,x,S){var E=y.state.yAxisMap,T=E[b.props.yAxisId];return y.renderAxis(T,b,x,S)},y.renderGrid=function(b){var x=y.state,S=x.xAxisMap,E=x.yAxisMap,T=x.offset,A=y.props,I=A.width,N=A.height,k=pi(S),R=nie(E,function(X){return TM(X.domain,kie)}),B=R||pi(E),j=b.props||{};return G.exports.cloneElement(b,{key:b.key||"grid",x:J(j.x)?j.x:T.left,y:J(j.y)?j.y:T.top,width:J(j.width)?j.width:T.width,height:J(j.height)?j.height:T.height,xAxis:k,yAxis:B,offset:T,chartWidth:I,chartHeight:N,verticalCoordinatesGenerator:j.verticalCoordinatesGenerator||y.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:j.horizontalCoordinatesGenerator||y.horizontalCoordinatesGenerator})},y.renderPolarGrid=function(b){var x=b.props,S=x.radialLines,E=x.polarAngles,T=x.polarRadius,A=y.state,I=A.radiusAxisMap,N=A.angleAxisMap,k=pi(I),R=pi(N),B=R.cx,j=R.cy,X=R.innerRadius,C=R.outerRadius;return G.exports.cloneElement(b,{polarAngles:Ce(E)?E:mi(R,!0).map(function($){return $.coordinate}),polarRadius:Ce(T)?T:mi(k,!0).map(function($){return $.coordinate}),cx:B,cy:j,innerRadius:X,outerRadius:C,key:b.key||"polar-grid",radialLines:S})},y.renderLegend=function(){var b=y.state.formattedGraphicalItems,x=y.props,S=x.children,E=x.width,T=x.height,A=y.props.margin||{},I=E-(A.left||0)-(A.right||0),N=dM({children:S,formattedGraphicalItems:b,legendWidth:I,legendContent:f});if(!N)return null;var k=N.item,R=fA(N,["item"]);return G.exports.cloneElement(k,U(U({},R),{},{chartWidth:E,chartHeight:T,margin:A,ref:function(j){y.legendInstance=j},onBBoxUpdate:y.handleLegendBBoxUpdate}))},y.renderTooltip=function(){var b=y.props.children,x=Vr(b,Uo.displayName);if(!x)return null;var S=y.state,E=S.isTooltipActive,T=S.activeCoordinate,A=S.activePayload,I=S.activeLabel,N=S.offset;return G.exports.cloneElement(x,{viewBox:U(U({},N),{},{x:N.left,y:N.top}),active:E,label:I,payload:E?A:[],coordinate:T})},y.renderBrush=function(b){var x=y.props,S=x.margin,E=x.data,T=y.state,A=T.offset,I=T.dataStartIndex,N=T.dataEndIndex,k=T.updateId;return G.exports.cloneElement(b,{key:b.key||"_recharts-brush",onChange:Lf(y.handleBrushChange,null,b.props.onChange),data:E,x:J(b.props.x)?b.props.x:A.left,y:J(b.props.y)?b.props.y:A.top+A.height+A.brushBottom-(S.bottom||0),width:J(b.props.width)?b.props.width:A.width,startIndex:I,endIndex:N,updateId:"brush-".concat(k)})},y.renderReferenceElement=function(b,x,S){if(!b)return null;var E=uw(y),T=E.clipPathId,A=y.state,I=A.xAxisMap,N=A.yAxisMap,k=A.offset,R=b.props,B=R.xAxisId,j=R.yAxisId;return G.exports.cloneElement(b,{key:b.key||"".concat(x,"-").concat(S),xAxis:I[B],yAxis:N[j],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:T})},y.renderActivePoints=function(b){var x=b.item,S=b.activePoint,E=b.basePoint,T=b.childIndex,A=b.isRange,I=[],N=x.props.key,k=x.item.props,R=k.activeDot,B=k.dataKey,j=U(U({index:T,dataKey:B,cx:S.x,cy:S.y,r:4,fill:L_(x.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value,key:"".concat(N,"-activePoint-").concat(T)},$e(R)),pd(R));return I.push(_.renderActiveDot(R,j)),E?I.push(_.renderActiveDot(R,U(U({},j),{},{cx:E.x,cy:E.y,key:"".concat(N,"-basePoint-").concat(T)}))):A&&I.push(null),I},y.renderGraphicChild=function(b,x,S){var E=y.filterFormatItem(b,x,S);if(!E)return null;var T=y.getTooltipEventType(),A=y.state,I=A.isTooltipActive,N=A.tooltipAxis,k=A.activeTooltipIndex,R=A.activeLabel,B=y.props.children,j=Vr(B,Uo.displayName),X=E.props,C=X.points,$=X.isRange,M=X.baseLine,H=E.item.props,q=H.activeDot,ae=H.hide,ce=!ae&&I&&j&&q&&k>=0,pe={};T!=="axis"&&j&&j.props.trigger==="click"?pe={onClick:Lf(y.handleItemMouseEnter,null,b.props.onCLick)}:T!=="axis"&&(pe={onMouseLeave:Lf(y.handleItemMouseLeave,null,b.props.onMouseLeave),onMouseEnter:Lf(y.handleItemMouseEnter,null,b.props.onMouseEnter)});var se=G.exports.cloneElement(b,U(U({},E.props),pe));function le(te){return typeof N.dataKey=="function"?N.dataKey(te.payload):null}if(ce){var K,F;if(N.dataKey&&!N.allowDuplicatedCategory){var ee=typeof N.dataKey=="function"?le:"payload.".concat(N.dataKey.toString());K=Ed(C,ee,R),F=$&&M&&Ed(M,ee,R)}else K=C[k],F=$&&M&&M[k];if(!fe(K))return[se].concat(Ps(y.renderActivePoints({item:E,activePoint:K,basePoint:F,childIndex:k,isRange:$})))}return $?[se,null,null]:[se,null]},y.renderCustomized=function(b,x,S){return G.exports.cloneElement(b,U(U({key:"recharts-customized-".concat(S)},y.props),y.state))},y.uniqueChartId=fe(v.id)?vm("recharts"):v.id,y.clipPathId="".concat(y.uniqueChartId,"-clip"),v.throttleDelay&&(y.triggeredAfterMouseMove=sie(y.triggeredAfterMouseMove,v.throttleDelay)),y.state={},y}return wie(_,[{key:"componentDidMount",value:function(){fe(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(y){fe(y.syncId)&&!fe(this.props.syncId)&&this.addListener(),!fe(y.syncId)&&fe(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),fe(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){typeof this.triggeredAfterMouseMove.cancel=="function"&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Vr(this.props.children,Uo.displayName);if(y&&hie(y.props.shared)){var b=y.props.shared?"axis":"item";return l.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var b=SY(this.container),x=EY(y,b),S=this.inRange(x.chartX,x.chartY);if(!S)return null;var E=this.state,T=E.xAxisMap,A=E.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&T&&A){var N=pi(T).scale,k=pi(A).scale,R=N&&N.invert?N.invert(x.chartX):null,B=k&&k.invert?k.invert(x.chartY):null;return U(U({},x),{},{xValue:R,yValue:B})}var j=gA(this.state,this.props.data,this.props.layout,S);return j?U(U({},x),j):null}},{key:"getCursorRectangle",value:function(){var y=this.props.layout,b=this.state,x=b.activeCoordinate,S=b.offset,E=b.tooltipAxisBandSize,T=E/2;return{stroke:"none",fill:"#ccc",x:y==="horizontal"?x.x-T:S.left+.5,y:y==="horizontal"?S.top+.5:x.y-T,width:y==="horizontal"?E:S.width-1,height:y==="horizontal"?S.height-1:E}}},{key:"getCursorPoints",value:function(){var y=this.props.layout,b=this.state,x=b.activeCoordinate,S=b.offset,E,T,A,I;if(y==="horizontal")E=x.x,A=E,T=S.top,I=S.top+S.height;else if(y==="vertical")T=x.y,I=T,E=S.left,A=S.left+S.width;else if(!fe(x.cx)||!fe(x.cy))if(y==="centric"){var N=x.cx,k=x.cy,R=x.innerRadius,B=x.outerRadius,j=x.angle,X=jt(N,k,R,j),C=jt(N,k,B,j);E=X.x,T=X.y,A=C.x,I=C.y}else{var $=x.cx,M=x.cy,H=x.radius,q=x.startAngle,ae=x.endAngle,ce=jt($,M,H,q),pe=jt($,M,H,ae);return{points:[ce,pe],cx:$,cy:M,radius:H,startAngle:q,endAngle:ae}}return[{x:E,y:T},{x:A,y:I}]}},{key:"inRange",value:function(y,b){var x=this.props.layout;if(x==="horizontal"||x==="vertical"){var S=this.state.offset,E=y>=S.left&&y<=S.left+S.width&&b>=S.top&&b<=S.top+S.height;return E?{x:y,y:b}:null}var T=this.state,A=T.angleAxisMap,I=T.radiusAxisMap;if(A&&I){var N=pi(A);return CI({x:y,y:b},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,b=this.getTooltipEventType(),x=Vr(y,Uo.displayName),S={};x&&b==="axis"&&(x.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var E=pd(this.props,this.handleOuterEvent);return U(U({},E),S)}},{key:"addListener",value:function(){Tn.on(Cv,this.handleReceiveSyncEvent),Tn.setMaxListeners&&Tn._maxListeners&&Tn.setMaxListeners(Tn._maxListeners+1)}},{key:"removeListener",value:function(){Tn.removeListener(Cv,this.handleReceiveSyncEvent),Tn.setMaxListeners&&Tn._maxListeners&&Tn.setMaxListeners(Tn._maxListeners-1)}},{key:"triggerSyncEvent",value:function(y){var b=this.props.syncId;fe(b)||Tn.emit(Cv,b,this.uniqueChartId,y)}},{key:"applySyncEvent",value:function(y){var b=this.props,x=b.layout,S=b.syncMethod,E=this.state.updateId,T=y.dataStartIndex,A=y.dataEndIndex;if(!fe(y.dataStartIndex)||!fe(y.dataEndIndex))this.setState(U({dataStartIndex:T,dataEndIndex:A},d({props:this.props,dataStartIndex:T,dataEndIndex:A,updateId:E},this.state)));else if(fe(y.activeTooltipIndex))this.setState(y);else{var I=y.chartX,N=y.chartY,k=y.activeTooltipIndex,R=this.state,B=R.offset,j=R.tooltipTicks;if(!B)return;if(typeof S=="function")k=S(j,y);else if(S==="value"){k=-1;for(var X=0;X<j.length;X++)if(j[X].value===y.activeLabel){k=X;break}}var C=U(U({},B),{},{x:B.left,y:B.top}),$=Math.min(I,C.x+C.width),M=Math.min(N,C.y+C.height),H=j[k]&&j[k].value,q=PM(this.state,this.props.data,k),ae=j[k]?{x:x==="horizontal"?j[k].coordinate:$,y:x==="horizontal"?M:j[k].coordinate}:CM;this.setState(U(U({},y),{},{activeLabel:H,activeCoordinate:ae,activePayload:q,activeTooltipIndex:k}))}}},{key:"filterFormatItem",value:function(y,b,x){for(var S=this.state.formattedGraphicalItems,E=0,T=S.length;E<T;E++){var A=S[E];if(A.item===y||A.props.key===y.key||b===Ui(A.item.type)&&x===A.childIndex)return A}return null}},{key:"renderAxis",value:function(y,b,x,S){var E=this.props,T=E.width,A=E.height;return G.exports.createElement(Po,{...y,className:"recharts-".concat(y.axisType," ").concat(y.axisType),key:b.key||"".concat(x,"-").concat(S),viewBox:{x:0,y:0,width:T,height:A},ticksGenerator:this.axesTicksGenerator})}},{key:"renderClipPath",value:function(){var y=this.clipPathId,b=this.state.offset,x=b.left,S=b.top,E=b.height,T=b.width;return O("defs",{children:O("clipPath",{id:y,children:O("rect",{x,y:S,height:E,width:T})})})}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(b,x){var S=cA(x,2),E=S[0],T=S[1];return U(U({},b),{},An({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(b,x){var S=cA(x,2),E=S[0],T=S[1];return U(U({},b),{},An({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var b,x;return(b=this.state.xAxisMap)===null||b===void 0||(x=b[y])===null||x===void 0?void 0:x.scale}},{key:"getYScaleByAxisId",value:function(y){var b,x;return(b=this.state.yAxisMap)===null||b===void 0||(x=b[y])===null||x===void 0?void 0:x.scale}},{key:"getItemByXY",value:function(y){var b=this.state.formattedGraphicalItems;if(b&&b.length)for(var x=0,S=b.length;x<S;x++){var E=b[x],T=E.props,A=E.item,I=Ui(A.type);if(I==="Bar"){var N=(T.data||[]).find(function(R){return Rte(y,R)});if(N)return{graphicalItem:E,payload:N}}else if(I==="RadialBar"){var k=(T.data||[]).find(function(R){return CI(y,R)});if(k)return{graphicalItem:E,payload:k}}}return null}},{key:"render",value:function(){var y=this;if(!NT(this))return null;var b=this.props,x=b.children,S=b.className,E=b.width,T=b.height,A=b.style,I=b.compact,N=fA(b,["children","className","width","height","style","compact"]),k=$e(N),R={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(I)return ue(Hy,{...k,width:E,height:T,children:[this.renderClipPath(),DT(x,R)]});var B=this.parseEventsOfWrapper();return ue("div",{className:He("recharts-wrapper",S),style:U({position:"relative",cursor:"default",width:E,height:T},A),...B,ref:function(X){y.container=X},children:[ue(Hy,{...k,width:E,height:T,children:[this.renderClipPath(),DT(x,R)]}),this.renderLegend(),this.renderTooltip()]})}}]),_}(G.exports.Component),n.displayName=i,n.defaultProps=U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p),n.getDerivedStateFromProps=function(w,g){var _=w.data,v=w.children,y=w.width,b=w.height,x=w.layout,S=w.stackOffset,E=w.margin;if(fe(g.updateId)){var T=vA(w);return U(U(U({},T),{},{updateId:0},d(U(U({props:w},T),{},{updateId:0}),g)),{},{prevData:_,prevWidth:y,prevHeight:b,prevLayout:x,prevStackOffset:S,prevMargin:E,prevChildren:v})}if(_!==g.prevData||y!==g.prevWidth||b!==g.prevHeight||x!==g.prevLayout||S!==g.prevStackOffset||!zl(E,g.prevMargin)){var A=vA(w),I={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},N=U(U({},gA(g,_,x)),{},{updateId:g.updateId+1}),k=U(U(U({},A),I),N);return U(U(U({},k),d(U({props:w},k),g)),{},{prevData:_,prevWidth:y,prevHeight:b,prevLayout:x,prevStackOffset:S,prevMargin:E,prevChildren:v})}if(!oN(v,g.prevChildren)){var R=!fe(_),B=R?g.updateId:g.updateId+1;return U(U({updateId:B},d(U(U({props:w},g),{},{updateId:B}),g)),{},{prevChildren:v})}return null},n.renderActiveDot=function(w,g){var _;return G.exports.isValidElement(w)?_=G.exports.cloneElement(w,g):ye(w)?_=w(g):_=O(j_,{...g}),O(Sn,{className:"recharts-active-dot",children:_},g.key)},r},Fie=Lie({chartName:"LineChart",GraphicalChild:Rc,axisComponents:[{axisType:"xAxis",AxisComp:Pm},{axisType:"yAxis",AxisComp:$m}],formatAxisMap:Qne});const jie=({active:t,payload:e,label:n})=>{if(t)return O("div",{className:"custom-tooltip",children:O("p",{className:"label",children:` Time: ${n}, Value: ${e[0].value}`})})},wA=()=>{const[t,e]=G.exports.useState(""),[n,r]=G.exports.useState("");Z.useState(!1);const i=new Date,o=i.toLocaleString("default",{month:"long"}),a=`${i.getDate()} ${o} ${i.getFullYear()}`,u=Ks.firestore().collection("Measurement"),l=u.doc(a),c=u.doc("12 August 2022");return l.get().then(f=>{f.exists?(console.log("Document data:",f.data()),l.collection("data").orderBy("Time","asc").onSnapshot(function(h){const p=h.docs.map(m=>({id:m.id,...m.data()}));e(p),r(p[p.length-1].Value)})):(console.log("No such document!"),c.collection("data").orderBy("Time","asc").onSnapshot(function(h){const p=h.docs.map(m=>({id:m.id,...m.data()}));e(p),r(p[p.length-1].Value)}))}).catch(f=>{console.log("Error getting document:",f)}),O("div",{className:"bg-charts",children:ue(Fie,{width:600,height:350,data:t,margin:{top:0,right:30,bottom:5,left:0},children:[O(Rc,{type:"monotone",dataKey:"Value",stroke:"#00FF00"}),O(Pm,{fontSize:"0.6em",dataKey:"Date"}),O($m,{fontSize:"0.6em",domain:[n/30,n*15]}),O(Uo,{cursor:!1,content:O(jie,{})})]})})};function $M(){return ue("div",{className:"App",children:[ue("div",{className:"App-Content",children:[ue("div",{className:"App-Content-Top",children:[O("div",{className:"App-Content-Top-Left",children:O(wA,{})}),O("div",{className:"App-Content-Top-Right",children:O(wA,{})})]}),O("div",{className:"App-Content-Bottom",children:O("div",{className:"App-Content-Bottom-Inside",children:O(kV,{})})})]}),O("div",{className:"App-Sidebar",children:O(q1,{})})]})}var Uie=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ie,q_=q_||{},ge=Uie||self;function ip(){}function cw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Lc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Bie(t){return Object.prototype.hasOwnProperty.call(t,Pv)&&t[Pv]||(t[Pv]=++Vie)}var Pv="closure_uid_"+(1e9*Math.random()>>>0),Vie=0;function zie(t,e,n){return t.call.apply(t.bind,arguments)}function qie(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vt=zie:Vt=qie,Vt.apply(null,arguments)}function Uf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,o){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return e.prototype[i].apply(r,a)}}function ho(){this.s=this.s,this.o=this.o}var Hie=0;ho.prototype.s=!1;ho.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Hie!=0)&&Bie(this)};ho.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},MM=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Wie(t){e:{var e=Loe;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function _A(t){return Array.prototype.concat.apply([],arguments)}function H_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function op(t){return/^[\s\xa0]*$/.test(t)}var bA=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return t.indexOf(e)!=-1}function $v(t,e){return t<e?-1:t>e?1:0}var an;e:{var xA=ge.navigator;if(xA){var SA=xA.userAgent;if(SA){an=SA;break e}}an=""}function W_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DM(t){const e={};for(const n in t)e[n]=t[n];return e}var EA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RM(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<EA.length;o++)n=EA[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function G_(t){return G_[" "](t),t}G_[" "]=ip;function Gie(t){var e=Yie;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Kie=on(an,"Opera"),$s=on(an,"Trident")||on(an,"MSIE"),LM=on(an,"Edge"),fw=LM||$s,FM=on(an,"Gecko")&&!(on(an.toLowerCase(),"webkit")&&!on(an,"Edge"))&&!(on(an,"Trident")||on(an,"MSIE"))&&!on(an,"Edge"),Qie=on(an.toLowerCase(),"webkit")&&!on(an,"Edge");function jM(){var t=ge.document;return t?t.documentMode:void 0}var ap;e:{var Nv="",Mv=function(){var t=an;if(FM)return/rv:([^\);]+)(\)|;)/.exec(t);if(LM)return/Edge\/([\d\.]+)/.exec(t);if($s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Qie)return/WebKit\/(\S+)/.exec(t);if(Kie)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mv&&(Nv=Mv?Mv[1]:""),$s){var Dv=jM();if(Dv!=null&&Dv>parseFloat(Nv)){ap=String(Dv);break e}}ap=Nv}var Yie={};function Xie(){return Gie(function(){let t=0;const e=bA(String(ap)).split("."),n=bA("9").split("."),r=Math.max(e.length,n.length);for(let a=0;t==0&&a<r;a++){var i=e[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=$v(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||$v(i[2].length==0,o[2].length==0)||$v(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var hw;if(ge.document&&$s){var TA=jM();hw=TA||parseInt(ap,10)||void 0}else hw=void 0;var Jie=hw,Zie=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",ip,e),ge.removeEventListener("test",ip,e)}catch{}return t}();function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};function Xl(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FM){e:{try{G_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:eoe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.Z.h.call(this)}}Wt(Xl,Xt);var eoe={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fc="closure_listenable_"+(1e6*Math.random()|0),toe=0;function noe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++toe,this.ca=this.fa=!1}function Mm(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Dm(t){this.src=t,this.g={},this.h=0}Dm.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=pw(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new noe(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};function dw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NM(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Mm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pw(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}var K_="closure_lm_"+(1e6*Math.random()|0),Rv={};function UM(t,e,n,r,i){if(r&&r.once)return VM(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)UM(t,e[o],n,r,i);return null}return n=X_(n),t&&t[Fc]?t.N(e,n,Lc(r)?!!r.capture:!!r,i):BM(t,e,n,!1,r,i)}function BM(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Lc(i)?!!i.capture:!!i,s=Y_(t);if(s||(t[K_]=s=new Dm(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=roe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zie||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function roe(){function t(n){return e.call(t.src,t.listener,n)}var e=ioe;return t}function VM(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)VM(t,e[o],n,r,i);return null}return n=X_(n),t&&t[Fc]?t.O(e,n,Lc(r)?!!r.capture:!!r,i):BM(t,e,n,!0,r,i)}function zM(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zM(t,e[o],n,r,i);else r=Lc(r)?!!r.capture:!!r,n=X_(n),t&&t[Fc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=pw(o,n,r,i),-1<n&&(Mm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Y_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pw(e,n,r,i)),(n=-1<t?e[t]:null)&&Q_(n))}function Q_(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Fc])dw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Y_(e))?(dw(n,t),n.h==0&&(n.src=null,e[K_]=null)):Mm(t)}}}function qM(t){return t in Rv?Rv[t]:Rv[t]="on"+t}function ioe(t,e){if(t.ca)t=!0;else{e=new Xl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Q_(t),t=n.call(r,e)}return t}function Y_(t){return t=t[K_],t instanceof Dm?t:null}var Lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(t){return typeof t=="function"?t:(t[Lv]||(t[Lv]=function(e){return t.handleEvent(e)}),t[Lv])}function kt(){ho.call(this),this.i=new Dm(this),this.P=this,this.I=null}Wt(kt,ho);kt.prototype[Fc]=!0;kt.prototype.removeEventListener=function(t,e,n,r){zM(this,t,e,n,r)};function zt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var i=e;e=new Xt(r,t),RM(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Bf(a,r,!0,e)&&i}if(a=e.g=t,i=Bf(a,r,!0,e)&&i,i=Bf(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=Bf(a,r,!1,e)&&i}kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mm(n[r]);delete t.g[e],t.h--}}this.I=null};kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Bf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&dw(t.i,a),i=s.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var J_=ge.JSON.stringify;function ooe(){var t=WM;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aoe{constructor(){this.h=this.g=null}add(e,n){const r=HM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var HM=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new soe,t=>t.reset());class soe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uoe(t){ge.setTimeout(()=>{throw t},0)}function Z_(t,e){mw||loe(),gw||(mw(),gw=!0),WM.add(t,e)}var mw;function loe(){var t=ge.Promise.resolve(void 0);mw=function(){t.then(coe)}}var gw=!1,WM=new aoe;function coe(){for(var t;t=ooe();){try{t.h.call(t.g)}catch(n){uoe(n)}var e=HM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gw=!1}function Rm(t,e){kt.call(this),this.h=t||1,this.g=e||ge,this.j=Vt(this.kb,this),this.l=Date.now()}Wt(Rm,kt);ie=Rm.prototype;ie.da=!1;ie.S=null;ie.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zt(this,"tick"),this.da&&(eb(this),this.start()))}};ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function eb(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ie.M=function(){Rm.Z.M.call(this),eb(this),delete this.g};function tb(t,e,n){if(typeof t=="function")n&&(t=Vt(t,n));else if(t&&typeof t.handleEvent=="function")t=Vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function GM(t){t.g=tb(()=>{t.g=null,t.i&&(t.i=!1,GM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class foe extends ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GM(this)}M(){super.M(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jl(t){ho.call(this),this.h=t,this.g={}}Wt(Jl,ho);var IA=[];function KM(t,e,n,r){Array.isArray(n)||(n&&(IA[0]=n.toString()),n=IA);for(var i=0;i<n.length;i++){var o=UM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function QM(t){W_(t.g,function(e,n){this.g.hasOwnProperty(n)&&Q_(e)},t),t.g={}}Jl.prototype.M=function(){Jl.Z.M.call(this),QM(this)};Jl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lm(){this.g=!0}Lm.prototype.Aa=function(){this.g=!1};function hoe(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");a=2<=f.length&&f[1]=="type"?a+(c+"="+l+"&"):a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function doe(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+a})}function es(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+moe(t,n)+(r?" "+r:"")})}function poe(t,e){t.info(function(){return"TIMEOUT: "+e})}Lm.prototype.info=function(){};function moe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return J_(n)}catch{return e}}var Ia={},AA=null;function Fm(){return AA=AA||new kt}Ia.Ma="serverreachability";function YM(t){Xt.call(this,Ia.Ma,t)}Wt(YM,Xt);function Zl(t){const e=Fm();zt(e,new YM(e))}Ia.STAT_EVENT="statevent";function XM(t,e){Xt.call(this,Ia.STAT_EVENT,t),this.stat=e}Wt(XM,Xt);function ln(t){const e=Fm();zt(e,new XM(e,t))}Ia.Na="timingevent";function JM(t,e){Xt.call(this,Ia.Na,t),this.size=e}Wt(JM,Xt);function jc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var jm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ZM={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nb(){}nb.prototype.h=null;function kA(t){return t.h||(t.h=t.i())}function eD(){}var Uc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rb(){Xt.call(this,"d")}Wt(rb,Xt);function ib(){Xt.call(this,"c")}Wt(ib,Xt);var vw;function Um(){}Wt(Um,nb);Um.prototype.g=function(){return new XMLHttpRequest};Um.prototype.i=function(){return{}};vw=new Um;function Bc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Jl(this),this.P=goe,t=fw?125:void 0,this.W=new Rm(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tD}function tD(){this.i=null,this.g="",this.h=!1}var goe=45e3,yw={},sp={};ie=Bc.prototype;ie.setTimeout=function(t){this.P=t};function ww(t,e,n){t.K=1,t.v=Vm(ti(e)),t.s=n,t.U=!0,nD(t,null)}function nD(t,e){t.F=Date.now(),Vc(t),t.A=ti(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),lD(n.h,"t",r),t.C=0,n=t.l.H,t.h=new tD,t.g=OD(t.l,n?e:null,!t.s),0<t.O&&(t.L=new foe(Vt(t.Ia,t,t.g),t.O)),KM(t.V,t.g,"readystatechange",t.gb),e=t.H?DM(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zl(),hoe(t.j,t.u,t.A,t.m,t.X,t.s)}ie.gb=function(t){t=t.target;const e=this.L;e&&Hr(t)==3?e.l():this.Ia(t)};ie.Ia=function(t){try{if(t==this.g)e:{const c=Hr(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>c)&&(c!=3||fw||this.g&&(this.h.h||this.g.ga()||$A(this.g)))){this.I||c!=4||e==7||(e==8||0>=f?Zl(3):Zl(2)),Bm(this);var n=this.g.ba();this.N=n;t:if(rD(this)){var r=$A(this.g);t="";var i=r.length,o=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Bo(this),dl(this);var a="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=n==200,doe(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var s,u=this.g;if((s=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!op(s)){var l=s;break t}}l=null}if(n=l)es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_w(this,n);else{this.i=!1,this.o=3,ln(12),Bo(this),dl(this);break e}}this.U?(iD(this,c,a),fw&&this.i&&c==3&&(KM(this.V,this.W,"tick",this.fb),this.W.start())):(es(this.j,this.m,a,null),_w(this,a)),c==4&&Bo(this),this.i&&!this.I&&(c==4?TD(this.l,this):(this.i=!1,Vc(this)))}else n==400&&0<a.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Bo(this),dl(this)}}}catch{}finally{}};function rD(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function iD(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=voe(t,n),i==sp){e==4&&(t.o=4,ln(14),r=!1),es(t.j,t.m,null,"[Incomplete Response]");break}else if(i==yw){t.o=4,ln(15),es(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else es(t.j,t.m,i,null),_w(t,i);rD(t)&&i!=sp&&i!=yw&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),db(e),e.L=!0,ln(11))):(es(t.j,t.m,n,"[Invalid Chunked Response]"),Bo(t),dl(t))}ie.fb=function(){if(this.g){var t=Hr(this.g),e=this.g.ga();this.C<e.length&&(Bm(this),iD(this,t,e),this.i&&t!=4&&Vc(this))}};function voe(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?sp:(n=Number(e.substring(n,r)),isNaN(n)?yw:(r+=1,r+n>e.length?sp:(e=e.substr(r,n),t.C=r+n,e)))}ie.cancel=function(){this.I=!0,Bo(this)};function Vc(t){t.Y=Date.now()+t.P,oD(t,t.P)}function oD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jc(Vt(t.eb,t),e)}function Bm(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}ie.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(poe(this.j,this.A),this.K!=2&&(Zl(),ln(17)),Bo(this),this.o=2,dl(this)):oD(this,this.Y-t)};function dl(t){t.l.G==0||t.I||TD(t.l,t)}function Bo(t){Bm(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,eb(t.W),QM(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function _w(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||bw(n.i,t))){if(n.I=t.N,!t.J&&bw(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)fp(n),Hm(n);else break e;hb(n),ln(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=jc(Vt(n.ab,n),6e3));if(1>=hD(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Vo(n,11)}else if((t.J||n.g==t)&&fp(n),!op(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.J=l[1],n.la=l[2];const c=l[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const f=l[4];f!=null&&(n.za=f,n.h.info("SVER="+n.za));const h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;!o.g&&(on(m,"spdy")||on(m,"quic")||on(m,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(sb(o,o.h),o.h=null))}if(r.D){const d=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Qe(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var a=t;if(r.oa=kD(r,r.H?r.la:null,r.W),a.J){dD(r.i,a);var s=a,u=r.K;u&&s.setTimeout(u),s.B&&(Bm(s),Vc(s)),r.g=a}else SD(r);0<n.l.length&&Wm(n)}else l[0]!="stop"&&l[0]!="close"||Vo(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Vo(n,7):fb(n):l[0]!="noop"&&n.j&&n.j.wa(l),n.A=0)}}Zl(4)}catch{}}function yoe(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(cw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ob(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(cw(t)||typeof t=="string")MM(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(cw(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=yoe(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ou(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ou)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}ie=ou.prototype;ie.R=function(){ab(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ie.T=function(){return ab(this),this.g.concat()};function ab(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];aa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],aa(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}ie.get=function(t,e){return aa(this.h,t)?this.h[t]:e};ie.set=function(t,e){aa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ie.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};function aa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var aD=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function woe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function sa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof sa){this.g=e!==void 0?e:t.g,up(this,t.j),this.s=t.s,lp(this,t.i),cp(this,t.m),this.l=t.l,e=t.h;var n=new ec;n.i=e.i,e.g&&(n.g=new ou(e.g),n.h=e.h),OA(this,n),this.o=t.o}else t&&(n=String(t).match(aD))?(this.g=!!e,up(this,n[1]||"",!0),this.s=pl(n[2]||""),lp(this,n[3]||"",!0),cp(this,n[4]),this.l=pl(n[5]||"",!0),OA(this,n[6]||"",!0),this.o=pl(n[7]||"")):(this.g=!!e,this.h=new ec(null,this.g))}sa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ju(e,CA,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ju(e,CA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ju(n,n.charAt(0)=="/"?Eoe:Soe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ju(n,Ioe)),t.join("")};function ti(t){return new sa(t)}function up(t,e,n){t.j=n?pl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lp(t,e,n){t.i=n?pl(e,!0):e}function cp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OA(t,e,n){e instanceof ec?(t.h=e,Aoe(t.h,t.g)):(n||(e=Ju(e,Toe)),t.h=new ec(e,t.g))}function Qe(t,e,n){t.h.set(e,n)}function Vm(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _oe(t){return t instanceof sa?ti(t):new sa(t,void 0)}function boe(t,e,n,r){var i=new sa(null,void 0);return t&&up(i,t),e&&lp(i,e),n&&cp(i,n),r&&(i.l=r),i}function pl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ju(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,xoe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xoe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var CA=/[#\/\?@]/g,Soe=/[#\?:]/g,Eoe=/[#\?]/g,Toe=/[#\?@]/g,Ioe=/#/g;function ec(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function po(t){t.g||(t.g=new ou,t.h=0,t.i&&woe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ie=ec.prototype;ie.add=function(t,e){po(this),this.i=null,t=au(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sD(t,e){po(t),e=au(t,e),aa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,aa(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ab(t)))}function uD(t,e){return po(t),e=au(t,e),aa(t.g.h,e)}ie.forEach=function(t,e){po(this),this.g.forEach(function(n,r){MM(n,function(i){t.call(e,i,r,this)},this)},this)};ie.T=function(){po(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n};ie.R=function(t){po(this);var e=[];if(typeof t=="string")uD(this,t)&&(e=_A(e,this.g.get(au(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=_A(e,t[n])}return e};ie.set=function(t,e){return po(this),this.i=null,t=au(this,t),uD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ie.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function lD(t,e,n){sD(t,e),0<n.length&&(t.i=null,t.g.set(au(t,e),H_(n)),t.h+=n.length)}ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;r[o]!==""&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};function au(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Aoe(t,e){e&&!t.j&&(po(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(sD(this,r),lD(this,i,n))},t)),t.j=e}var koe=class{constructor(t,e){this.h=t,this.g=e}};function cD(t){this.l=t||Ooe,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ea&&ge.g.Ea()&&ge.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ooe=10;function fD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hD(t){return t.h?1:t.g?t.g.size:0}function bw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sb(t,e){t.g?t.g.add(e):t.h=e}function dD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cD.prototype.cancel=function(){if(this.i=pD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pD(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return H_(t.i)}function ub(){}ub.prototype.stringify=function(t){return ge.JSON.stringify(t,void 0)};ub.prototype.parse=function(t){return ge.JSON.parse(t,void 0)};function Coe(){this.g=new ub}function Poe(t,e,n){const r=n||"";try{ob(t,function(i,o){let a=i;Lc(i)&&(a=J_(i)),e.push(r+o+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $oe(t,e){const n=new Lm;if(ge.Image){const r=new Image;r.onload=Uf(Vf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Uf(Vf,n,r,"TestLoadImage: error",!1,e),r.onabort=Uf(Vf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uf(Vf,n,r,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Vf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zc(t){this.l=t.$b||null,this.j=t.ib||!1}Wt(zc,nb);zc.prototype.g=function(){return new zm(this.l,this.j)};zc.prototype.i=function(t){return function(){return t}}({});function zm(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(zm,kt);var lb=0;ie=zm.prototype;ie.open=function(t,e){if(this.readyState!=lb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tc(this)};ie.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ge).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qc(this)),this.readyState=lb};ie.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tc(this)),this.g&&(this.readyState=3,tc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ge.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mD(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function mD(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ie.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qc(this):tc(this),this.readyState==3&&mD(this)}};ie.Ua=function(t){this.g&&(this.response=this.responseText=t,qc(this))};ie.Ta=function(t){this.g&&(this.response=t,qc(this))};ie.ha=function(){this.g&&qc(this)};function qc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tc(t)}ie.setRequestHeader=function(t,e){this.v.append(t,e)};ie.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ie.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function tc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Noe=ge.JSON.parse;function mt(t){kt.call(this),this.headers=new ou,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gD,this.K=this.L=!1}Wt(mt,kt);var gD="",Moe=/^https?$/i,Doe=["POST","PUT"];ie=mt.prototype;ie.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vw.g(),this.C=this.u?kA(this.u):kA(vw),this.g.onreadystatechange=Vt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){PA(this,o);return}t=n||"";const i=new ou(this.headers);r&&ob(r,function(o,a){i.set(a,o)}),r=Wie(i.T()),n=ge.FormData&&t instanceof ge.FormData,!(0<=NM(Doe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wD(this),0<this.B&&((this.K=Roe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.pa,this)):this.A=tb(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){PA(this,o)}};function Roe(t){return $s&&Xie()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Loe(t){return t.toLowerCase()=="content-type"}ie.pa=function(){typeof q_!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function PA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vD(t),qm(t)}function vD(t){t.D||(t.D=!0,zt(t,"complete"),zt(t,"error"))}ie.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),qm(this))};ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),mt.Z.M.call(this)};ie.Fa=function(){this.s||(this.F||this.v||this.l?yD(this):this.cb())};ie.cb=function(){yD(this)};function yD(t){if(t.h&&typeof q_!="undefined"&&(!t.C[1]||Hr(t)!=4||t.ba()!=2)){if(t.v&&Hr(t)==4)tb(t.Fa,0,t);else if(zt(t,"readystatechange"),Hr(t)==4){t.h=!1;try{const s=t.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.H).match(aD)[1]||null;if(!i&&ge.self&&ge.self.location){var o=ge.self.location.protocol;i=o.substr(0,o.length-1)}r=!Moe.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var a=2<Hr(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.ba()+"]",vD(t)}}finally{qm(t)}}}}function qm(t,e){if(t.g){wD(t);const n=t.g,r=t.C[0]?ip:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function wD(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}function Hr(t){return t.g?t.g.readyState:0}ie.ba=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}};ie.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ie.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Noe(e)}};function $A(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case gD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ie.Da=function(){return this.m};ie.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Foe(t){let e="";return W_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function cb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Foe(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function Lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _D(t){this.za=0,this.l=[],this.h=new Lm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lu("baseRetryDelayMs",5e3,t),this.$a=Lu("retryDelaySeedMs",1e4,t),this.Ya=Lu("forwardChannelMaxRetries",2,t),this.ra=Lu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new cD(t&&t.concurrentRequestLimit),this.Ca=new Coe,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ie=_D.prototype;ie.ma=8;ie.G=1;function fb(t){if(bD(t),t.G==3){var e=t.V++,n=ti(t.F);Qe(n,"SID",t.J),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),Hc(t,n),e=new Bc(t,t.h,e,void 0),e.K=2,e.v=Vm(ti(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon&&(n=ge.navigator.sendBeacon(e.v.toString(),"")),!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=OD(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vc(e)}AD(t)}ie.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Hm(t){t.g&&(db(t),t.g.cancel(),t.g=null)}function bD(t){Hm(t),t.u&&(ge.clearTimeout(t.u),t.u=null),fp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function Fv(t,e){t.l.push(new koe(t.Za++,e)),t.G==3&&Wm(t)}function Wm(t){fD(t.i)||t.m||(t.m=!0,Z_(t.Ha,t),t.C=0)}function joe(t,e){return hD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=jc(Vt(t.Ha,t,e),ID(t,t.C)),t.C++,!0)}ie.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Bc(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=DM(o),RM(o,this.P)):o=this.P),this.o===null&&(i.H=o),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xD(this,i,e),n=ti(this.F),Qe(n,"RID",t),Qe(n,"CVER",22),this.D&&Qe(n,"X-HTTP-Session-Id",this.D),Hc(this,n),this.o&&o&&cb(n,this.o,o),sb(this.i,i),this.Ra&&Qe(n,"TYPE","init"),this.ja?(Qe(n,"$req",e),Qe(n,"SID","null"),i.$=!0,ww(i,n,null)):ww(i,n,e),this.G=2}}else this.G==3&&(t?NA(this,t):this.l.length==0||fD(this.i)||NA(this))};function NA(t,e){var n;e?n=e.m:n=t.V++;const r=ti(t.F);Qe(r,"SID",t.J),Qe(r,"RID",n),Qe(r,"AID",t.U),Hc(t,r),t.o&&t.s&&cb(r,t.o,t.s),n=new Bc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=xD(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),sb(t.i,n),ww(n,r,e)}function Hc(t,e){t.j&&ob({},function(n,r){Qe(e,r,n)})}function xD(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Vt(t.j.Oa,t.j,t):null;e:{var i=t.l;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let s=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=o,0>l)o=Math.max(0,i[u].h-100),s=!1;else try{Poe(c,a,"req"+l+"_")}catch{r&&r(c)}}if(s){r=a.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function SD(t){t.g||t.u||(t.Y=1,Z_(t.Ga,t),t.A=0)}function hb(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=jc(Vt(t.Ga,t),ID(t,t.A)),t.A++,!0)}ie.Ga=function(){if(this.u=null,ED(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=jc(Vt(this.bb,this),t)}};ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ln(10),Hm(this),ED(this))};function db(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function ED(t){t.g=new Bc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ti(t.oa);Qe(e,"RID","rpc"),Qe(e,"SID",t.J),Qe(e,"CI",t.N?"0":"1"),Qe(e,"AID",t.U),Hc(t,e),Qe(e,"TYPE","xmlhttp"),t.o&&t.s&&cb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Vm(ti(e)),n.s=null,n.U=!0,nD(n,t)}ie.ab=function(){this.v!=null&&(this.v=null,Hm(this),hb(this),ln(19))};function fp(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function TD(t,e){var n=null;if(t.g==e){fp(t),db(t),t.g=null;var r=2}else if(bw(t.i,e))n=e.D,dD(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Fm(),zt(r,new JM(r,n)),Wm(t)}else SD(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&joe(t,e)||r==2&&hb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vo(t,5);break;case 4:Vo(t,10);break;case 3:Vo(t,6);break;default:Vo(t,2)}}}function ID(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Vo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Vt(t.jb,t);n||(n=new sa("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||up(n,"https"),Vm(n)),$oe(n.toString(),r)}else ln(2);t.G=0,t.j&&t.j.va(e),AD(t),bD(t)}ie.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ln(2)):(this.h.info("Failed to ping google.com"),ln(1))};function AD(t){t.G=0,t.I=-1,t.j&&((pD(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,H_(t.l),t.l.length=0),t.j.ua())}function kD(t,e,n){let r=_oe(n);if(r.i!="")e&&lp(r,e+"."+r.i),cp(r,r.m);else{const i=ge.location;r=boe(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&W_(t.aa,function(i,o){Qe(r,o,i)}),e=t.D,n=t.sa,e&&n&&Qe(r,e,n),Qe(r,"VER",t.ma),Hc(t,r),r}function OD(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new mt(new zc({ib:!0})):new mt(t.qa),e.L=t.H,e}function CD(){}ie=CD.prototype;ie.xa=function(){};ie.wa=function(){};ie.va=function(){};ie.ua=function(){};ie.Oa=function(){};function hp(){if($s&&!(10<=Number(Jie)))throw Error("Environmental error: no available transport.")}hp.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){kt.call(this),this.g=new _D(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!op(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!op(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new su(this)}Wt(Dn,kt);Dn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Z_(Vt(t.hb,t,e))),ln(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=kD(t,null,t.W),Wm(t)};Dn.prototype.close=function(){fb(this.g)};Dn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Fv(this.g,e)}else this.v?(e={},e.__data__=J_(t),Fv(this.g,e)):Fv(this.g,t)};Dn.prototype.M=function(){this.g.j=null,delete this.j,fb(this.g),delete this.g,Dn.Z.M.call(this)};function PD(t){rb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Wt(PD,rb);function $D(){ib.call(this),this.status=1}Wt($D,ib);function su(t){this.g=t}Wt(su,CD);su.prototype.xa=function(){zt(this.g,"a")};su.prototype.wa=function(t){zt(this.g,new PD(t))};su.prototype.va=function(t){zt(this.g,new $D)};su.prototype.ua=function(){zt(this.g,"b")};hp.prototype.createWebChannel=hp.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;jm.NO_ERROR=0;jm.TIMEOUT=8;jm.HTTP_ERROR=6;ZM.COMPLETE="complete";eD.EventType=Uc;Uc.OPEN="a";Uc.CLOSE="b";Uc.ERROR="c";Uc.MESSAGE="d";kt.prototype.listen=kt.prototype.N;mt.prototype.listenOnce=mt.prototype.O;mt.prototype.getLastError=mt.prototype.La;mt.prototype.getLastErrorCode=mt.prototype.Da;mt.prototype.getStatus=mt.prototype.ba;mt.prototype.getResponseJson=mt.prototype.Qa;mt.prototype.getResponseText=mt.prototype.ga;mt.prototype.send=mt.prototype.ea;var Uoe=function(){return new hp},Boe=function(){return Fm()},jv=jm,Voe=ZM,zoe=Ia,MA={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qoe=zc,zf=eD,Hoe=mt;const DA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="9.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new rm("@firebase/firestore");function xw(){return Qi.logLevel}function Woe(t){Qi.setLogLevel(t)}function z(t,...e){if(Qi.logLevel<=Te.DEBUG){const n=e.map(pb);Qi.debug(`Firestore (${uu}): ${t}`,...n)}}function dt(t,...e){if(Qi.logLevel<=Te.ERROR){const n=e.map(pb);Qi.error(`Firestore (${uu}): ${t}`,...n)}}function nc(t,...e){if(Qi.logLevel<=Te.WARN){const n=e.map(pb);Qi.warn(`Firestore (${uu}): ${t}`,...n)}}function pb(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw dt(e),new Error(e)}function de(t,e){t||oe()}function Goe(t,e){t||oe()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Koe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class Qoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yoe{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new It;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new It,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},s=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>s(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?s(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new It)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new ND(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Et(e)}}class Xoe{constructor(e,n,r){this.type="FirstParty",this.user=Et.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Joe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Xoe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zoe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eae{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.p;return this.p=o.token,z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.p=n.token,new Zoe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tae(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function Ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function DD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new Xe(0,0))}static max(){return new he(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends rc{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const nae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends rc{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return nae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new V(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new V(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new V(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ee.fromString(e))}static fromName(e){return new Q(Ee.fromString(e).popFirst(5))}static empty(){return new Q(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Sw(t){return t.fields.find(e=>e.kind===2)}function Oo(t){return t.fields.filter(e=>e.kind!==2)}RD.UNKNOWN_ID=-1;class rae{constructor(e,n){this.fieldPath=e,this.kind=n}}class dp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new dp(0,Rn.min())}}function LD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Rn(i,Q.empty(),e)}function FD(t){return new Rn(t.readTime,t.key,-1)}class Rn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rn(he.min(),Q.empty(),-1)}static max(){return new Rn(he.max(),Q.empty(),-1)}}function mb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==jD)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{a[l]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.T=new It,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{n.error?this.T.reject(new ml(e,n.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=gb(r.target.error);this.T.reject(new ml(e,i))}}static open(e,n,r,i){try{return new Gm(n,e.transaction(i,r))}catch(o){throw new ml(n,o)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new oae(n)}}class ur{constructor(e,n,r){this.name=e,this.version=n,this.P=r,ur.v(ct())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return z("SimpleDb","Removing database:",e),$o(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!RP())return!1;if(ur.S())return!0;const e=ct(),n=ur.v(e),r=0<n&&n<10,i=ur.D(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static S(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.C)==="YES"}static N(e,n){return e.store(n)}static v(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async k(e){return this.db||(z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new ml(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new V(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new V(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ml(e,a))},i.onupgradeneeded=o=>{z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.P.O(a,i.transaction,o.oldVersion,this.version).next(()=>{z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.M&&(this.db.onversionchange=n=>this.M(n)),this.db}F(e){this.M=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.k(e);const s=Gm.open(this.db,e,o?"readonly":"readwrite",r),u=i(s).next(l=>(s.R(),l)).catch(l=>(s.abort(l),P.reject(l))).toPromise();return u.catch(()=>{}),await s.A,u}catch(s){const u=s,l=u.name!=="FirebaseError"&&a<3;if(z("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class iae{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return $o(this.$.delete())}}class ml extends V{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function go(t){return t.name==="IndexedDbTransactionError"}class oae{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$o(r)}add(e){return z("SimpleDb","ADD",this.store.name,e,e),$o(this.store.add(e))}get(e){return $o(this.store.get(e)).next(n=>(n===void 0&&(n=null),z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return z("SimpleDb","DELETE",this.store.name,e),$o(this.store.delete(e))}count(){return z("SimpleDb","COUNT",this.store.name),$o(this.store.count())}K(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),o=[];return this.G(i,(a,s)=>{o.push(s)}).next(()=>o)}{const i=this.store.getAll(r.range);return new P((o,a)=>{i.onerror=s=>{a(s.target.error)},i.onsuccess=s=>{o(s.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}W(e,n){z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.G(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Y(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=o=>{const a=gb(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const u=new iae(s),l=n(s.primaryKey,s.value,u);if(l instanceof P){const c=l.catch(f=>(u.done(),P.reject(f)));r.push(c)}u.isDone?i():u.U===null?s.continue():s.continue(u.U)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function $o(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=gb(r.target.error);n(i)}})}let RA=!1;function gb(t){const e=ur.v(ct());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new V("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RA||(RA=!0,setTimeout(()=>{throw r},0)),r}}return t}class aae{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}Z(e){z("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{z("IndexBackiller",`Documents written: ${await this.X.tt()}`)}catch(n){go(n)?z("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await mo(n)}await this.Z(1)})}}class sae{constructor(e,n){this.localStore=e,this.persistence=n}async tt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.et(n,e))}et(e,n){const r=new Set;let i=n,o=!0;return P.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return z("IndexBackiller",`Processing collection: ${a}`),this.nt(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}nt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.st(i,o)).next(s=>(z("IndexBackiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}st(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=FD(o);mb(a,r)>0&&(r=a)}),new Rn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.ot=-1;class ot{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:Rt.RED,this.left=i!=null?i:Rt.EMPTY,this.right=o!=null?o:Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FA(this.data.getIterator())}getIteratorFrom(e){return new FA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class FA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function La(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Re(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new wt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const lae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(de(!!t),typeof t=="string"){let e=0;const n=lae.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VD(t){const e=t.mapValue.fields.__previous_value__;return vb(e)?VD(e):e}function ic(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(e,n,r,i,o,a,s,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u}}class ni{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ni("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ni&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return t==null}function oc(t){return t===0&&1/t==-1/0}function zD(t){return typeof t=="number"&&Number.isInteger(t)&&!oc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},kh={nullValue:"NULL_VALUE"};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vb(t)?4:qD(t)?9007199254740991:10:oe()}function Dr(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ic(t).isEqual(ic(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Yi(r.timestampValue),a=Yi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ua(r.bytesValue).isEqual(ua(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return it(r.geoPointValue.latitude)===it(i.geoPointValue.latitude)&&it(r.geoPointValue.longitude)===it(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return it(r.integerValue)===it(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=it(r.doubleValue),a=it(i.doubleValue);return o===a?oc(o)===oc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ns(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(LA(o)!==LA(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!Dr(o[s],a[s])))return!1;return!0}(t,e);default:return oe()}}function ac(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Xi(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=it(i.integerValue||i.doubleValue),s=it(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(t,e);case 3:return jA(t.timestampValue,e.timestampValue);case 4:return jA(ic(t),ic(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ua(i),s=ua(o);return a.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),s=o.split("/");for(let u=0;u<a.length&&u<s.length;u++){const l=we(a[u],s[u]);if(l!==0)return l}return we(a.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=we(it(i.latitude),it(o.latitude));return a!==0?a:we(it(i.longitude),it(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],s=o.values||[];for(let u=0;u<a.length&&u<s.length;++u){const l=Xi(a[u],s[u]);if(l)return l}return we(a.length,s.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Oi.mapValue&&o===Oi.mapValue)return 0;if(i===Oi.mapValue)return 1;if(o===Oi.mapValue)return-1;const a=i.fields||{},s=Object.keys(a),u=o.fields||{},l=Object.keys(u);s.sort(),l.sort();for(let c=0;c<s.length&&c<l.length;++c){const f=we(s[c],l[c]);if(f!==0)return f;const h=Xi(a[s[c]],u[l[c]]);if(h!==0)return h}return we(s.length,l.length)}(t.mapValue,e.mapValue);default:throw oe()}}function jA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=Yi(t),r=Yi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function fs(t){return Ew(t)}function Ew(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Yi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ua(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const a of r.values||[])o?o=!1:i+=",",i+=Ew(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",a=!0;for(const s of i)a?a=!1:o+=",",o+=`${s}:${Ew(r.fields[s])}`;return o+"}"}(t.mapValue):oe();var e,n}function ca(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tw(t){return!!t&&"integerValue"in t}function sc(t){return!!t&&"arrayValue"in t}function UA(t){return!!t&&"nullValue"in t}function BA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oh(t){return!!t&&"mapValue"in t}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function fae(t){return"nullValue"in t?kh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ca(ni.empty(),Q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:oe()}function hae(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ca(ni.empty(),Q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Oi:oe()}function VA(t,e){const n=Xi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function zA(t,e){const n=Xi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=gl(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ft(gl(this.value))}}function HD(t){const e=[];return Aa(t.fields,(n,r)=>{const i=new lt([n]);if(Oh(r)){const o=HD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n,r,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new je(e,0,he.min(),he.min(),Ft.empty(),0)}static newFoundDocument(e,n,r){return new je(e,1,n,he.min(),r,0)}static newNoDocument(e,n){return new je(e,2,n,he.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new je(e,3,n,he.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ut=null}}function qA(t,e=null,n=[],r=[],i=null,o=null,a=null){return new dae(t,e,n,r,i,o,a)}function fa(t){const e=Y(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+fs(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ut=n}return e.ut}function pae(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${fs(r.value)}`;var r}).join(", ")}]`),Wc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>fs(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>fs(n)).join(",")),`Target(${e})`}function Gc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!xae(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Dr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KA(t.startAt,e.startAt)&&KA(t.endAt,e.endAt)}function pp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mp(t,e){return t.filters.filter(n=>n instanceof Ut&&n.field.isEqual(e))}function HA(t,e,n){let r=kh,i=!0;for(const o of mp(t,e)){let a=kh,s=!0;switch(o.op){case"<":case"<=":a=fae(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=kh}VA({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];VA({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function WA(t,e,n){let r=Oi,i=!0;for(const o of mp(t,e)){let a=Oi,s=!0;switch(o.op){case">=":case">":a=hae(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Oi}zA({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];zA({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Ut extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new mae(e,n,r):n==="array-contains"?new yae(e,r):n==="in"?new wae(e,r):n==="not-in"?new _ae(e,r):n==="array-contains-any"?new bae(e,r):new Ut(e,n,r)}static ct(e,n,r){return n==="in"?new gae(e,r):new vae(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(Xi(n,this.value)):n!==null&&la(this.value)===la(n)&&this.at(Xi(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mae extends Ut{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.at(n)}}class gae extends Ut{constructor(e,n){super(e,"in",n),this.keys=WD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vae extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=WD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class yae extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sc(n)&&ac(n.arrayValue,this.value)}}class wae extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class _ae extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class bae extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}class Ji{constructor(e,n){this.position=e,this.inclusive=n}}class hs{constructor(e,n="asc"){this.field=e,this.dir=n}}function xae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function GA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(a.referenceValue),n.key):r=Xi(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}}function GD(t,e,n,r,i,o,a,s){return new si(t,e,n,r,i,o,a,s)}function lu(t){return new si(t)}function Sae(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function wb(t){for(const e of t.filters)if(e.ht())return e.field;return null}function _b(t){return t.collectionGroup!==null}function Ms(t){const e=Y(t);if(e.lt===null){e.lt=[];const n=wb(e),r=yb(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new hs(n)),e.lt.push(new hs(lt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.lt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new hs(lt.keyField(),o))}}}return e.lt}function er(t){const e=Y(t);if(!e.ft)if(e.limitType==="F")e.ft=qA(e.path,e.collectionGroup,Ms(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Ms(e)){const a=o.dir==="desc"?"asc":"desc";n.push(new hs(o.field,a))}const r=e.endAt?new Ji(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ji(e.startAt.position,e.startAt.inclusive):null;e.ft=qA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function KD(t,e,n){return new si(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kc(t,e){return Gc(er(t),er(e))&&t.limitType===e.limitType}function QD(t){return`${fa(er(t))}|lt:${t.limitType}`}function Iw(t){return`Query(target=${pae(er(t))}; limitType=${t.limitType})`}function bb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,a){const s=GA(i,o,a);return i.inclusive?s<=0:s<0}(n.startAt,Ms(n),r)||n.endAt&&!function(i,o,a){const s=GA(i,o,a);return i.inclusive?s>=0:s>0}(n.endAt,Ms(n),r))}(t,e)}function YD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XD(t){return(e,n)=>{let r=!1;for(const i of Ms(t)){const o=Eae(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Eae(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const s=o.data.field(i),u=a.data.field(i);return s!==null&&u!==null?Xi(s,u):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function ZD(t){return{integerValue:""+t}}function eR(t,e){return zD(e)?ZD(e):JD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function Tae(t,e,n){return t instanceof Ds?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ha?nR(t,e):t instanceof da?rR(t,e):function(r,i){const o=tR(r,i),a=QA(o)+QA(r._t);return Tw(o)&&Tw(r._t)?ZD(a):JD(r.wt,a)}(t,e)}function Iae(t,e,n){return t instanceof ha?nR(t,e):t instanceof da?rR(t,e):n}function tR(t,e){return t instanceof Rs?Tw(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ds extends Km{}class ha extends Km{constructor(e){super(),this.elements=e}}function nR(t,e){const n=iR(e);for(const r of t.elements)n.some(i=>Dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class da extends Km{constructor(e){super(),this.elements=e}}function rR(t,e){let n=iR(e);for(const r of t.elements)n=n.filter(i=>!Dr(i,r));return{arrayValue:{values:n}}}class Rs extends Km{constructor(e,n){super(),this.wt=e,this._t=n}}function QA(t){return it(t.integerValue||t.doubleValue)}function iR(t){return sc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.field=e,this.transform=n}}function Aae(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ha&&r instanceof ha||n instanceof da&&r instanceof da?Ns(n.elements,r.elements,Dr):n instanceof Rs&&r instanceof Rs?Dr(n._t,r._t):n instanceof Ds&&r instanceof Ds}(t.transform,e.transform)}class kae{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function oR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fu(t.key,et.none()):new cu(t.key,t.data,et.none());{const n=t.data,r=Ft.empty();let i=new Re(lt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ui(t.key,r,new Nn(i.toArray()),et.none())}}function Oae(t,e,n){t instanceof cu?function(r,i,o){const a=r.value.clone(),s=XA(r.fieldTransforms,i,o.transformResults);a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(r,i,o){if(!Ch(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=XA(r.fieldTransforms,i,o.transformResults),s=i.data;s.setAll(aR(r)),s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof cu?function(i,o,a,s){if(!Ch(i.precondition,o))return a;const u=i.value.clone(),l=JA(i.fieldTransforms,s,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(i,o,a,s){if(!Ch(i.precondition,o))return a;const u=JA(i.fieldTransforms,s,o),l=o.data;return l.setAll(aR(i)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,a){return Ch(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Cae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tR(r.transform,i||null);o!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,o))}return n||null}function YA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ns(n,r,(i,o)=>Aae(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cu extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Qm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XA(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Iae(a,s,n[i]))}return r}function JA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Tae(o,a,e))}return r}class fu extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xb extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Se;function sR(t){switch(t){default:return oe();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function uR(t){if(t===void 0)return dt("GRPC error has no .code"),D.UNKNOWN;switch(t){case ft.OK:return D.OK;case ft.CANCELLED:return D.CANCELLED;case ft.UNKNOWN:return D.UNKNOWN;case ft.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ft.INTERNAL:return D.INTERNAL;case ft.UNAVAILABLE:return D.UNAVAILABLE;case ft.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ft.NOT_FOUND:return D.NOT_FOUND;case ft.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ft.ABORTED:return D.ABORTED;case ft.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ft.DATA_LOSS:return D.DATA_LOSS;default:return oe()}}(Se=ft||(ft={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae=new ot(Q.comparator);function wn(){return $ae}const lR=new ot(Q.comparator);function Zu(...t){let e=lR;for(const n of t)e=e.insert(n.key,n);return e}function cR(t){let e=lR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _r(){return yl()}function fR(){return yl()}function yl(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nae=new ot(Q.comparator),Mae=new Re(Q.comparator);function _e(...t){let e=Mae;for(const n of t)e=e.add(n);return e}const Dae=new Re(we);function Ym(){return Dae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Yc(he.min(),r,Ym(),wn(),_e())}}class Xc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Xc(wt.EMPTY_BYTE_STRING,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class hR{constructor(e,n){this.targetId=e,this.It=n}}class dR{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ZA{constructor(){this.Tt=0,this.Et=tk(),this.At=wt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=_e(),n=_e(),r=_e();return this.Et.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Xc(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=tk()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Rae{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=wn(),this.Bt=ek(),this.Lt=new Re(we)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const o=i.target;if(pp(o))if(r===0){const a=new Q(o.path);this.Kt(n,a,je.newNoDocument(a,he.min()))}else de(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((o,a)=>{const s=this.Ht(a);if(s){if(o.current&&pp(s.target)){const u=new Q(s.target.path);this.$t.get(u)!==null||this.Xt(a,u)||this.Kt(a,u,je.newNoDocument(u,e))}o.vt&&(n.set(a,o.St()),o.Dt())}});let r=_e();this.Bt.forEach((o,a)=>{let s=!0;a.forEachWhile(u=>{const l=this.Ht(u);return!l||l.purpose===2||(s=!1,!1)}),s&&(r=r.add(o))}),this.$t.forEach((o,a)=>a.setReadTime(e));const i=new Yc(e,n,this.Lt,this.$t,r);return this.$t=wn(),this.Bt=ek(),this.Lt=new Re(we),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new ZA,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new Re(we),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new ZA),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function ek(){return new ot(Q.comparator)}function tk(){return new ot(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Fae=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class jae{constructor(e,n){this.databaseId=e,this.dt=n}}function uc(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pR(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Uae(t,e){return uc(t,e.toTimestamp())}function At(t){return de(!!t),he.fromTimestamp(function(e){const n=Yi(e);return new Xe(n.seconds,n.nanos)}(t))}function Sb(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mR(t){const e=Ee.fromString(t);return de(SR(e)),e}function lc(t,e){return Sb(t.databaseId,e.path)}function kr(t,e){const n=mR(e);if(n.get(1)!==t.databaseId.projectId)throw new V(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(vR(n))}function Aw(t,e){return Sb(t.databaseId,e)}function gR(t){const e=mR(t);return e.length===4?Ee.emptyPath():vR(e)}function cc(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vR(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nk(t,e,n){return{name:lc(t,e),fields:n.value.mapValue.fields}}function yR(t,e,n){const r=kr(t,e.name),i=At(e.updateTime),o=new Ft({mapValue:{fields:e.fields}}),a=je.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bae(t,e){return"found"in e?function(n,r){de(!!r.found),r.found.name,r.found.updateTime;const i=kr(n,r.found.name),o=At(r.found.updateTime),a=new Ft({mapValue:{fields:r.found.fields}});return je.newFoundDocument(i,o,a)}(t,e):"missing"in e?function(n,r){de(!!r.missing),de(!!r.readTime);const i=kr(n,r.missing),o=At(r.readTime);return je.newNoDocument(i,o)}(t,e):oe()}function Vae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,l){return u.dt?(de(l===void 0||typeof l=="string"),wt.fromBase64String(l||"")):(de(l===void 0||l instanceof Uint8Array),wt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const l=u.code===void 0?D.UNKNOWN:uR(u.code);return new V(l,u.message||"")}(a);n=new dR(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kr(t,r.document.name),o=At(r.document.updateTime),a=new Ft({mapValue:{fields:r.document.fields}}),s=je.newFoundDocument(i,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Ph(u,l,s.key,s)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kr(t,r.document),o=r.readTime?At(r.readTime):he.min(),a=je.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ph([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kr(t,r.document),o=r.removedTargetIds||[];n=new Ph([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new Pae(i),a=r.targetId;n=new hR(a,o)}}return n}function fc(t,e){let n;if(e instanceof cu)n={update:nk(t,e.key,e.value)};else if(e instanceof fu)n={delete:lc(t,e.key)};else if(e instanceof ui)n={update:nk(t,e.key,e.data),updateMask:Qae(e.fieldMask)};else{if(!(e instanceof xb))return oe();n={verify:lc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ds)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof da)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rs)return{fieldPath:o.field.canonicalString(),increment:a._t};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Uae(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function kw(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?et.updateTime(At(i.updateTime)):i.exists!==void 0?et.exists(i.exists):et.none()}(e.currentDocument):et.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let s=null;if("setToServerValue"in a)de(a.setToServerValue==="REQUEST_TIME"),s=new Ds;else if("appendMissingElements"in a){const l=a.appendMissingElements.values||[];s=new ha(l)}else if("removeAllFromArray"in a){const l=a.removeAllFromArray.values||[];s=new da(l)}else"increment"in a?s=new Rs(o,a.increment):oe();const u=lt.fromServerFormat(a.fieldPath);return new Qc(u,s)}(t,i)):[];if(e.update){e.update.name;const i=kr(t,e.update.name),o=new Ft({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(s){const u=s.fieldPaths||[];return new Nn(u.map(l=>lt.fromServerFormat(l)))}(e.updateMask);return new ui(i,o,a,n,r)}return new cu(i,o,n,r)}if(e.delete){const i=kr(t,e.delete);return new fu(i,n)}if(e.verify){const i=kr(t,e.verify);return new xb(i,n)}return oe()}function zae(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?At(r.updateTime):At(i);return o.isEqual(he.min())&&(o=At(i)),new kae(o,r.transformResults||[])}(n,e))):[]}function wR(t,e){return{documents:[Aw(t,e.path)]}}function _R(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Aw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Aw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length===0)return;const l=u.map(c=>function(f){if(f.op==="=="){if(BA(f.value))return{unaryFilter:{field:Fa(f.field),op:"IS_NAN"}};if(UA(f.value))return{unaryFilter:{field:Fa(f.field),op:"IS_NULL"}}}else if(f.op==="!="){if(BA(f.value))return{unaryFilter:{field:Fa(f.field),op:"IS_NOT_NAN"}};if(UA(f.value))return{unaryFilter:{field:Fa(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(f.field),op:Wae(f.op),value:f.value}}}(c));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:Fa(c.field),direction:Hae(c.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=function(u,l){return u.dt||Wc(l)?l:{value:l}}(t,e.limit);var s;return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(s=e.startAt).inclusive,values:s.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function bR(t){let e=gR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=xR(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(c=>function(f){return new hs(ts(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let s=null;n.limit&&(s=function(c){let f;return f=typeof c=="object"?c.value:c,Wc(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(c){const f=!!c.before,h=c.values||[];return new Ji(h,f)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const f=!c.before,h=c.values||[];return new Ji(h,f)}(n.endAt)),GD(e,i,a,o,s,"F",u,l)}function qae(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function xR(t){return t?t.unaryFilter!==void 0?[Kae(t)]:t.fieldFilter!==void 0?[Gae(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>xR(e)).reduce((e,n)=>e.concat(n)):oe():[]}function Hae(t){return Lae[t]}function Wae(t){return Fae[t]}function Fa(t){return{fieldPath:t.canonicalString()}}function ts(t){return lt.fromServerFormat(t.fieldPath)}function Gae(t){return Ut.create(ts(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(t.fieldFilter.op),t.fieldFilter.value)}function Kae(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ts(t.unaryFilter.field);return Ut.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ts(t.unaryFilter.field);return Ut.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ts(t.unaryFilter.field);return Ut.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ts(t.unaryFilter.field);return Ut.create(i,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}function Qae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rk(e)),e=Yae(t.get(n),e);return rk(e)}function Yae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function rk(t){return t+""}function br(t){const e=t.length;if(de(e>=2),e===2)return de(t.charAt(0)===""&&t.charAt(1)===""),Ee.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&oe(),t.charAt(a+1)){case"":const s=t.substring(o,a);let u;i.length===0?u=s:(i+=s,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:oe()}o=a+2}return new Ee(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t,e){return[t,fn(e)]}function ER(t,e,n){return[t,fn(e),n]}const Xae={},Jae=["prefixPath","collectionGroup","readTime","documentId"],Zae=["prefixPath","collectionGroup","documentId"],ese=["collectionGroup","readTime","prefixPath","documentId"],tse=["canonicalId","targetId"],nse=["targetId","path"],rse=["path","targetId"],ise=["collectionId","parent"],ose=["indexId","uid"],ase=["uid","sequenceNumber"],sse=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],use=["indexId","uid","orderedDocumentKey"],lse=["userId","collectionPath","documentId"],cse=["userId","collectionPath","largestBatchId"],fse=["userId","collectionGroup","largestBatchId"],TR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hse=[...TR,"documentOverlays"],IR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AR=IR,dse=[...AR,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends UD{constructor(e,n){super(),this.ee=e,this.currentSequenceNumber=n}}function $t(t,e){const n=Y(t);return ur.N(n.ee,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Oae(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fR();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const u=oR(a,s);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,r)=>YA(n,r))&&Ns(this.baseMutations,e.baseMutations,(n,r)=>YA(n,r))}}class Tb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=Nae;const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Tb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r,i,o=he.min(),a=he.min(),s=wt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.ne=e}}function pse(t,e){let n;if(e.document)n=yR(t.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Q.fromSegments(e.noDocument.path),i=ma(e.noDocument.readTime);n=je.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return oe();{const r=Q.fromSegments(e.unknownDocument.path),i=ma(e.unknownDocument.version);n=je.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Xe(r[0],r[1]);return he.fromTimestamp(i)}(e.readTime)),n}function ok(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:lc(i,o.key),fields:o.data.value.mapValue.fields,updateTime:uc(i,o.version.toTimestamp())}}(t.ne,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return oe();r.unknownDocument={path:n.path.toArray(),version:pa(e.version)}}return r}function gp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ma(t){const e=new Xe(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function No(t,e){const n=(e.baseMutations||[]).map(o=>kw(t.ne,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>kw(t.ne,o)),i=Xe.fromMillis(e.localWriteTimeMs);return new Eb(e.batchId,i,n,r)}function el(t){const e=ma(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ma(t.lastLimboFreeSnapshotVersion):he.min();let r;var i;return t.query.documents!==void 0?(de((i=t.query).documents.length===1),r=er(lu(gR(i.documents[0])))):r=function(o){return er(bR(o))}(t.query),new Vi(r,t.targetId,0,t.lastListenSequenceNumber,e,n,wt.fromBase64String(t.resumeToken))}function OR(t,e){const n=pa(e.snapshotVersion),r=pa(e.lastLimboFreeSnapshotVersion);let i;i=pp(e.target)?wR(t.ne,e.target):_R(t.ne,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ab(t){const e=bR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?KD(e,e.limit,"L"):e}function Uv(t,e){return new Ib(e.largestBatchId,kw(t.ne,e.overlayMutation))}function ak(t,e){const n=e.path.lastSegment();return[t,fn(e.path.popLast()),n]}function sk(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:pa(r.readTime),documentKey:fn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{getBundleMetadata(e,n){return uk(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ma(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return uk(e).put({bundleId:(r=n).id,createTime:pa(At(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return lk(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Ab(i.bundledQuery),readTime:ma(i.readTime)};var i})}saveNamedQuery(e,n){return lk(e).put(function(r){return{name:r.name,readTime:pa(At(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function uk(t){return $t(t,"bundles")}function lk(t){return $t(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.wt=e,this.userId=n}static se(e,n){const r=n.uid||"";return new Xm(e,r)}getOverlay(e,n){return Fu(e).get(ak(this.userId,n)).next(r=>r?Uv(this.wt,r):null)}getOverlays(e,n){const r=_r();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new Ib(n,a);i.push(this.ie(e,s))}),P.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(fn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Fu(e).W("collectionPathOverlayIndex",s))}),P.waitFor(o)}getOverlaysForCollection(e,n,r){const i=_r(),o=fn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Fu(e).K("collectionPathOverlayIndex",a).next(s=>{for(const u of s){const l=Uv(this.wt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=_r();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Fu(e).J({index:"collectionGroupOverlayIndex",range:s},(u,l,c)=>{const f=Uv(this.wt,l);o.size()<i||f.largestBatchId===a?(o.set(f.getKey(),f),a=f.largestBatchId):c.done()}).next(()=>o)}ie(e,n){return Fu(e).put(function(r,i,o){const[a,s,u]=ak(i,o.mutation.key);return{userId:i,collectionPath:s,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:fc(r.ne,o.mutation)}}(this.wt,this.userId,n))}}function Fu(t){return $t(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(it(e.integerValue));else if("doubleValue"in e){const r=it(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),oc(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),typeof r=="string"?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(ua(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?qD(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):oe()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),Q.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}Mo.ye=new Mo;function gse(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function ck(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=gse(255&n[i]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}class vse{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ie(r.value),r=n.next();this.Te()}Ee(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ae(r.value),r=n.next();this.Re()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=n.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=n.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const n=this.Ve(e),r=ck(n);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}De(e){const n=this.Ve(e),r=ck(n);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ie(e){const n=255&e;n===0?(this.xe(0),this.xe(255)):n===255?(this.xe(255),this.xe(0)):this.xe(n)}Ae(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class yse{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class wse{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class ju{constructor(){this.Me=new vse,this.Fe=new yse(this.Me),this.$e=new wse(this.Me)}seed(e){this.Me.seed(e)}Be(e){return e===0?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Do(this.indexId,this.documentKey,this.arrayValue,r)}}function bo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=fk(t.arrayValue,e.arrayValue),n!==0?n:(n=fk(t.directionalValue,e.directionalValue),n!==0?n:Q.comparator(t.documentKey,e.documentKey)))}function fk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const n of e.filters){const r=n;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const n=Sw(e);if(n!==void 0&&!this.Qe(n))return!1;const r=Oo(e);let i=0,o=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(this.Ke!==void 0){const a=r[i];if(!this.je(this.Ke,a)||!this.We(this.Ue[o++],a))return!1;++i}for(;i<r.length;++i){const a=r[i];if(o>=this.Ue.length||!this.We(this.Ue[o++],a))return!1}return!0}Qe(e){for(const n of this.qe)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(){this.ze=new kb}addToCollectionParentIndex(e,n){return this.ze.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Rn.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Rn.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class kb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Uint8Array(0);class xse{constructor(e,n){this.user=e,this.databaseId=n,this.He=new kb,this.Je=new vo(r=>fa(r),(r,i)=>Gc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.He.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.He.add(n)});const o={collectionId:r,parent:fn(i)};return hk(e).put(o)}return P.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[DD(n),""],!1,!0);return hk(e).K(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(br(a.parent))}return r})}addFieldIndex(e,n){const r=Wf(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(s=>[s.fieldPath.canonicalString(),s.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=Bu(e);return o.next(s=>{a.put(sk(s,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Wf(e),i=Bu(e),o=Uu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Uu(e);let i=!0;const o=new Map;return P.forEach(this.Ye(n),a=>this.Xe(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=_e();const s=[];return P.forEach(o,(u,l)=>{var c;z("IndexedDbIndexManager",`Using index ${c=u,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${fa(n)}`);const f=function(v,y){const b=Sw(y);if(b===void 0)return null;for(const x of mp(v,b.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null}(l,u),h=function(v,y){const b=new Map;for(const x of Oo(y))for(const S of mp(v,x.fieldPath))switch(S.op){case"==":case"in":b.set(x.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return b.set(x.fieldPath.canonicalString(),S.value),Array.from(b.values())}return null}(l,u),p=function(v,y){const b=[];let x=!0;for(const S of Oo(y)){const E=S.kind===0?HA(v,S.fieldPath,v.startAt):WA(v,S.fieldPath,v.startAt);b.push(E.value),x&&(x=E.inclusive)}return new Ji(b,x)}(l,u),m=function(v,y){const b=[];let x=!0;for(const S of Oo(y)){const E=S.kind===0?WA(v,S.fieldPath,v.endAt):HA(v,S.fieldPath,v.endAt);b.push(E.value),x&&(x=E.inclusive)}return new Ji(b,x)}(l,u),d=this.Ze(u,l,p),w=this.Ze(u,l,m),g=this.tn(u,l,h),_=this.en(u.indexId,f,d,p.inclusive,w,m.inclusive,g);return P.forEach(_,v=>r.j(v,n.limit).next(y=>{y.forEach(b=>{const x=Q.fromSegments(b.documentKey);a.has(x)||(a=a.add(x),s.push(x))})}))}).next(()=>s)}return P.resolve(null)})}Ye(e){let n=this.Je.get(e);return n||(n=[e],this.Je.set(e,n),n)}en(e,n,r,i,o,a,s){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),c=[];for(let f=0;f<u;++f){const h=n?this.nn(n[f/l]):Hf,p=this.sn(e,h,r[f%l],i),m=this.rn(e,h,o[f%l],a),d=s.map(w=>this.sn(e,h,w,!0));c.push(...this.createRange(p,m,d))}return c}sn(e,n,r,i){const o=new Do(e,Q.empty(),n,r);return i?o:o.Le()}rn(e,n,r,i){const o=new Do(e,Q.empty(),n,r);return i?o.Le():o}Xe(e,n){const r=new _se(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.Ge(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;return P.forEach(this.Ye(n),i=>this.Xe(e,i).next(o=>{o?r!==0&&o.fields.length<function(a){let s=new Re(lt.comparator),u=!1;for(const l of a.filters){const c=l;c.field.isKeyField()||(c.op==="array-contains"||c.op==="array-contains-any"?u=!0:s=s.add(c.field))}for(const l of a.orderBy)l.field.isKeyField()||(s=s.add(l.field));return s.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,n){const r=new ju;for(const i of Oo(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Be(i.kind);Mo.ye.re(o,a)}return r.Oe()}nn(e){const n=new ju;return Mo.ye.re(e,n.Be(0)),n.Oe()}un(e,n){const r=new ju;return Mo.ye.re(ca(this.databaseId,n),r.Be(function(i){const o=Oo(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Oe()}tn(e,n,r){if(r===null)return[];let i=[];i.push(new ju);let o=0;for(const a of Oo(e)){const s=r[o++];for(const u of i)if(this.cn(n,a.fieldPath)&&sc(s))i=this.an(i,a,s);else{const l=u.Be(a.kind);Mo.ye.re(s,l)}}return this.hn(i)}Ze(e,n,r){return this.tn(e,n,r.position)}hn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Oe();return n}an(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const u=new ju;u.seed(s.Oe()),Mo.ye.re(a,u.Be(n.kind)),o.push(u)}return o}cn(e,n){return!!e.filters.find(r=>r instanceof Ut&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Wf(e),i=Bu(e);return(n?r.K("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.K()).next(o=>{const a=[];return P.forEach(o,s=>i.get([s.indexId,this.uid]).next(u=>{a.push(function(l,c){const f=c?new dp(c.sequenceNumber,new Rn(ma(c.readTime),new Q(br(c.documentKey)),c.largestBatchId)):dp.empty(),h=l.fields.map(([p,m])=>new rae(lt.fromServerFormat(p),m));return new RD(l.indexId,l.collectionGroup,h,f)}(s,u))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:we(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Wf(e),o=Bu(e);return this.ln(e).next(a=>i.K("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>P.forEach(s,u=>o.put(sk(u.indexId,this.user,a,r)))))}updateIndexEntries(e,n){const r=new Map;return P.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?P.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),P.forEach(s,u=>this.fn(e,i,u).next(l=>{const c=this.dn(o,u);return l.isEqual(c)?P.resolve():this._n(e,o,u,l,c)}))))})}wn(e,n,r,i){return Uu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,n.key),documentKey:n.key.path.toArray()})}mn(e,n,r,i){return Uu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,n.key),n.key.path.toArray()])}fn(e,n,r){const i=Uu(e);let o=new Re(bo);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,n)])},(a,s)=>{o=o.add(new Do(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}dn(e,n){let r=new Re(bo);const i=this.on(n,e);if(i==null)return r;const o=Sw(n);if(o!=null){const a=e.data.field(o.fieldPath);if(sc(a))for(const s of a.arrayValue.values||[])r=r.add(new Do(n.indexId,e.key,this.nn(s),i))}else r=r.add(new Do(n.indexId,e.key,Hf,i));return r}_n(e,n,r,i,o){z("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(s,u,l,c,f){const h=s.getIterator(),p=u.getIterator();let m=La(h),d=La(p);for(;m||d;){let w=!1,g=!1;if(m&&d){const _=l(m,d);_<0?g=!0:_>0&&(w=!0)}else m!=null?g=!0:w=!0;w?(c(d),d=La(p)):g?(f(m),m=La(h)):(m=La(h),d=La(p))}}(i,o,bo,s=>{a.push(this.wn(e,n,r,s))},s=>{a.push(this.mn(e,n,r,s))}),P.waitFor(a)}ln(e){let n=1;return Bu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>bo(a,s)).filter((a,s,u)=>!s||bo(a,u[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=bo(a,e),u=bo(a,n);if(s===0)i[0]=e.Le();else if(s>0&&u<0)i.push(a),i.push(a.Le());else if(u>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2)o.push(IDBKeyRange.bound([i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Hf,[]],[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Hf,[]]));return o}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dk)}getMinOffset(e,n){return P.mapArray(this.Ye(n),r=>this.Xe(e,r).next(i=>i||oe())).next(dk)}}function hk(t){return $t(t,"collectionParents")}function Uu(t){return $t(t,"indexEntries")}function Wf(t){return $t(t,"indexConfiguration")}function Bu(t){return $t(t,"indexState")}function dk(t){de(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;mb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Rn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const u=r.J({range:a},(c,f,h)=>(s++,h.delete()));o.push(u.next(()=>{de(s===1)}));const l=[];for(const c of n.mutations){const f=ER(e,c.key.path,n.batchId);o.push(i.delete(f)),l.push(c.key)}return P.waitFor(o).next(()=>l)}function vp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Jm{constructor(e,n,r,i){this.userId=e,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,n,r,i){de(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new Jm(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fi(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ua(e),a=fi(e);return a.add({}).next(s=>{de(typeof s=="number");const u=new Eb(s,n,r,i),l=function(h,p,m){const d=m.baseMutations.map(g=>fc(h.ne,g)),w=m.mutations.map(g=>fc(h.ne,g));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:d,mutations:w}}(this.wt,this.userId,u),c=[];let f=new Re((h,p)=>we(h.canonicalString(),p.canonicalString()));for(const h of i){const p=ER(this.userId,h.key.path,s);f=f.add(h.key.path.popLast()),c.push(a.put(l)),c.push(o.put(p,Xae))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.gn[s]=u.keys()}),P.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return fi(e).get(n).next(r=>r?(de(r.userId===this.userId),No(this.wt,r)):null)}yn(e,n){return this.gn[n]?P.resolve(this.gn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.gn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return fi(e).J({index:"userMutationsIndex",range:i},(a,s,u)=>{s.userId===this.userId&&(de(s.batchId>=r),o=No(this.wt,s)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fi(e).K("userMutationsIndex",n).next(r=>r.map(i=>No(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=$h(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ua(e).J({range:i},(a,s,u)=>{const[l,c,f]=a,h=br(c);if(l===this.userId&&n.path.isEqual(h))return fi(e).get(f).next(p=>{if(!p)throw oe();de(p.userId===this.userId),o.push(No(this.wt,p))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(we);const i=[];return n.forEach(o=>{const a=$h(this.userId,o.path),s=IDBKeyRange.lowerBound(a),u=Ua(e).J({range:s},(l,c,f)=>{const[h,p,m]=l,d=br(p);h===this.userId&&o.path.isEqual(d)?r=r.add(m):f.done()});i.push(u)}),P.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=$h(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new Re(we);return Ua(e).J({range:a},(u,l,c)=>{const[f,h,p]=u,m=br(h);f===this.userId&&r.isPrefixOf(m)?m.length===i&&(s=s.add(p)):c.done()}).next(()=>this.pn(e,s))}pn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(fi(e).get(o).next(a=>{if(a===null)throw oe();de(a.userId===this.userId),r.push(No(this.wt,a))}))}),P.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return CR(e.ee,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.In(n.batchId)}),P.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ua(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const u=br(o[1]);i.push(u)}else s.done()}).next(()=>{de(i.length===0)})})}containsKey(e,n){return PR(e,this.userId,n)}Tn(e){return $R(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function PR(t,e,n){const r=$h(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Ua(t).J({range:o,H:!0},(s,u,l)=>{const[c,f,h]=s;c===e&&f===i&&(a=!0),l.done()}).next(()=>a)}function fi(t){return $t(t,"mutations")}function Ua(t){return $t(t,"documentMutations")}function $R(t){return $t(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ga(0)}static Rn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e,n){this.referenceDelegate=e,this.wt=n}allocateTargetId(e){return this.bn(e).next(n=>{const r=new ga(n.highestTargetId);return n.highestTargetId=r.next(),this.Pn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(n=>he.fromTimestamp(new Xe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Pn(e,i)))}addTargetData(e,n){return this.vn(e,n).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(n,r),this.Pn(e,r))))}updateTargetData(e,n){return this.vn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ja(e).delete(n.targetId)).next(()=>this.bn(e)).next(r=>(de(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ja(e).J((a,s)=>{const u=el(s);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>P.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ja(e).J((r,i)=>{const o=el(i);n(o)})}bn(e){return mk(e).get("targetGlobalKey").next(n=>(de(n!==null),n))}Pn(e,n){return mk(e).put("targetGlobalKey",n)}vn(e,n){return ja(e).put(OR(this.wt,n))}Vn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=fa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ja(e).J({range:i,index:"queryTargetsIndex"},(a,s,u)=>{const l=el(s);Gc(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=bi(e);return n.forEach(a=>{const s=fn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),P.waitFor(i)}removeMatchingKeys(e,n,r){const i=bi(e);return P.forEach(n,o=>{const a=fn(o.path);return P.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=bi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=bi(e);let o=_e();return i.J({range:r,H:!0},(a,s,u)=>{const l=br(a[1]),c=new Q(l);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=fn(n.path),i=IDBKeyRange.bound([r],[DD(r)],!1,!0);let o=0;return bi(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],u,l)=>{a!==0&&(o++,l.done())}).next(()=>o>0)}te(e,n){return ja(e).get(n).next(r=>r?el(r):null)}}function ja(t){return $t(t,"targets")}function mk(t){return $t(t,"targetGlobal")}function bi(t){return $t(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class Ese{constructor(e){this.Sn=e,this.buffer=new Re(gk),this.Dn=0}Cn(){return++this.Dn}xn(e){const n=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tse{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Nn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return this.Nn!==null}kn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Nn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.kn(3e5)})}}class Ise{constructor(e,n){this.On=e,this.params=n}calculateTargetCount(e,n){return this.On.Mn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(yn.ot);const r=new Ese(n);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.On.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.On.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(pk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pk):this.$n(e,n))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,n){let r,i,o,a,s,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),xw()<=Te.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(u-s)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new Ise(r,i)}(this,n)}Mn(e){const n=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Bn(e){let n=0;return this.Fn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Fn(e,n){return this.Ln(e,(r,i)=>n(i))}addReference(e,n,r){return Gf(e,r)}removeReference(e,n,r){return Gf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gf(e,n)}Un(e,n){return function(r,i){let o=!1;return $R(r).Y(a=>PR(r,a,i).next(s=>(s&&(o=!0),P.resolve(!s)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Ln(e,(a,s)=>{if(s<=n){const u=this.Un(e,a).next(l=>{if(!l)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),bi(e).delete([0,fn(a.path)])))});i.push(u)}}).next(()=>P.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gf(e,n)}Ln(e,n){const r=bi(e);let i,o=yn.ot;return r.J({index:"documentTargetsIndex"},([a,s],{path:u,sequenceNumber:l})=>{a===0?(o!==yn.ot&&n(new Q(br(i)),o),o=l,i=u):o=yn.ot}).next(()=>{o!==yn.ot&&n(new Q(br(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gf(t,e){return bi(t).put(function(n,r){return{targetId:0,path:fn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return xo(e).put(r)}removeEntry(e,n,r){return xo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],gp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.qn(e,r)))}getEntry(e,n){let r=je.newInvalidDocument(n);return xo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vu(n))},(i,o)=>{r=this.Kn(n,o)}).next(()=>r)}Gn(e,n){let r={size:0,document:je.newInvalidDocument(n)};return xo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vu(n))},(i,o)=>{r={document:this.Kn(n,o),size:vp(o)}}).next(()=>r)}getEntries(e,n){let r=wn();return this.Qn(e,n,(i,o)=>{const a=this.Kn(i,o);r=r.insert(i,a)}).next(()=>r)}jn(e,n){let r=wn(),i=new ot(Q.comparator);return this.Qn(e,n,(o,a)=>{const s=this.Kn(o,a);r=r.insert(o,s),i=i.insert(o,vp(a))}).next(()=>({documents:r,Wn:i}))}Qn(e,n,r){if(n.isEmpty())return P.resolve();let i=new Re(wk);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(Vu(i.first()),Vu(i.last())),a=i.getIterator();let s=a.getNext();return xo(e).J({index:"documentKeyIndex",range:o},(u,l,c)=>{const f=Q.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;s&&wk(s,f)<0;)r(s,null),s=a.getNext();s&&s.isEqual(f)&&(r(s,l),s=a.hasNext()?a.getNext():null),s?c.q(Vu(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),gp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xo(e).K(IDBKeyRange.bound(i,o,!0)).next(a=>{let s=wn();for(const u of a){const l=this.Kn(Q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(l.key,l)}return s})}getAllFromCollectionGroup(e,n,r,i){let o=wn();const a=yk(n,r),s=yk(n,Rn.max());return xo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(u,l,c)=>{const f=this.Kn(Q.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new Ose(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return vk(e).get("remoteDocumentGlobalKey").next(n=>(de(!!n),n))}qn(e,n){return vk(e).put("remoteDocumentGlobalKey",n)}Kn(e,n){if(n){const r=pse(this.wt,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return je.newInvalidDocument(e)}}function MR(t){return new kse(t)}class Ose extends NR{constructor(e,n){super(),this.zn=e,this.trackRemovals=n,this.Hn=new vo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Re((o,a)=>we(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.Hn.get(o);if(n.push(this.zn.removeEntry(e,o,s.readTime)),a.isValidDocument()){const u=ok(this.zn.wt,a);i=i.add(o.path.popLast()),r+=vp(u)-s.size,n.push(this.zn.addEntry(e,o,u))}else if(r-=s.size,this.trackRemovals){const u=ok(this.zn.wt,a.convertToNoDocument(he.min()));n.push(this.zn.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.zn.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.zn.updateMetadata(e,r)),P.waitFor(n)}getFromCache(e,n){return this.zn.Gn(e,n).next(r=>(this.Hn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.zn.jn(e,n).next(({documents:r,Wn:i})=>(i.forEach((o,a)=>{this.Hn.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function vk(t){return $t(t,"remoteDocumentGlobal")}function xo(t){return $t(t,"remoteDocumentsV14")}function Vu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yk(t,e){const n=e.documentKey.path.toArray();return[t,gp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=we(n[o],r[o]),i)return i;return i=we(n.length,r.length),i||(i=we(n[n.length-2],r[r.length-2]),i||we(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&vl(r.mutation,i,Nn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=_r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Zu();return o.forEach((s,u)=>{a=a.insert(s,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=wn();const a=yl(),s=yl();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ui)?o=o.insert(l.key,l):c!==void 0&&(a.set(l.key,c.mutation.getFieldMask()),vl(c.mutation,l,c.mutation.getFieldMask(),Xe.now()))}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>a.set(l,c)),n.forEach((l,c)=>{var f;return s.set(l,new Cse(c,(f=a.get(l))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new ot((a,s)=>a-s),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Nn.empty();c=s.applyToLocalView(l,c),r.set(u,c);const f=(i.get(s.batchId)||_e()).add(u);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const u=s.getNext(),l=u.key,c=u.value,f=fR();c.forEach(h=>{if(!o.has(h)){const p=oR(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return P.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(_r());let s=-1,u=o;return a.next(l=>P.forEach(l,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?P.resolve():this.getBaseDocument(e,c,f).next(h=>{u=u.insert(c,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(c=>({batchId:s,changes:cR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Zu();return this.indexManager.getCollectionParents(e,i).next(a=>P.forEach(a,s=>{const u=function(l,c){return new si(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,f)=>{o=o.insert(c,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((s,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,je.newInvalidDocument(l)))});let a=Zu();return i.forEach((s,u)=>{const l=o.get(s);l!==void 0&&vl(l.mutation,u,Nn.empty(),Xe.now()),bb(n,u)&&(a=a.insert(s,u))}),a})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):P.resolve(je.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return P.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:At(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:Ab(r.bundledQuery),readTime:At(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.overlays=new ot(Q.comparator),this.Xn=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_r();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ie(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=_r(),o=n.length+1,a=new Q(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const u=s.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=_r(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const s=_r(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>s.set(l,c)),!(s.size()>=i)););return P.resolve(s)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Ib(n,r));let o=this.Xn.get(n);o===void 0&&(o=_e(),this.Xn.set(n,o)),this.Xn.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.Zn=new Re(xt.ts),this.es=new Re(xt.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new xt(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new Q(new Ee([])),r=new xt(n,e),i=new xt(n,e+1),o=[];return this.es.forEachInRange([r,i],a=>{this.rs(a),o.push(a.key)}),o}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new Q(new Ee([])),r=new xt(n,e),i=new xt(n,e+1);let o=_e();return this.es.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new xt(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return Q.comparator(e.key,n.key)||we(e.ls,n.ls)}static ns(e,n){return we(e.ls,n.ls)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Re(xt.ts)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Eb(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.ds=this.ds.add(new xt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,n){return P.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],a=>{const s=this._s(a.ls);o.push(s)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(we);return n.forEach(i=>{const o=new xt(i,0),a=new xt(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,a],s=>{r=r.add(s.ls)})}),P.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Q.isDocumentKey(o)||(o=o.child(""));const a=new xt(new Q(o),0);let s=new Re(we);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(s=s.add(u.ls)),!0)},a),P.resolve(this.gs(s))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return P.forEach(n.mutations,i=>{const o=new xt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new xt(n,0),i=this.ds.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.ps=e,this.docs=new ot(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():je.newInvalidDocument(n))}getEntries(e,n){let r=wn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():je.newInvalidDocument(i))}),P.resolve(r)}getAllFromCollection(e,n,r){let i=wn();const o=new Q(n.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:s,value:{document:u}}=a.getNext();if(!n.isPrefixOf(s.path))break;s.path.length>n.length+1||mb(FD(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,r,i){oe()}Is(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dse(this)}getSize(e){return P.resolve(this.size)}}class Dse extends NR{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.persistence=e,this.Ts=new vo(n=>fa(n),Gc),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Es=0,this.As=new Ob,this.targetCount=0,this.Rs=ga.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),P.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.vn(n),P.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Ts.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Ts.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.bs={},this.overlays={},this.Ps=new yn(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Rse(this),this.indexManager=new bse,this.remoteDocumentCache=function(r){return new Mse(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new kR(n),this.Ds=new Pse(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $se,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new Nse(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new Lse(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(o=>this.referenceDelegate.xs(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ns(e,n){return P.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Lse extends UD{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.ks=new Ob,this.Os=null}static Ms(e){return new Zm(e)}get Fs(){if(this.Os)return this.Os;throw oe()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),P.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Fs.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Fs,r=>{const i=Q.fromPath(r);return this.$s(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return P.or([()=>P.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(e){this.wt=e}O(e,n,r,i){const o=new Gm("createOrUpgrade",n);r<1&&i>=1&&(function(s){s.createObjectStore("owner")}(e),function(s){s.createObjectStore("mutationQueues",{keyPath:"userId"}),s.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ik,{unique:!0}),s.createObjectStore("documentMutations")}(e),_k(e),function(s){s.createObjectStore("remoteDocuments")}(e));let a=P.resolve();return r<3&&i>=3&&(r!==0&&(function(s){s.deleteObjectStore("targetDocuments"),s.deleteObjectStore("targets"),s.deleteObjectStore("targetGlobal")}(e),_k(e)),a=a.next(()=>function(s){const u=s.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(s,u){return u.store("mutations").K().next(l=>{s.deleteObjectStore("mutations"),s.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ik,{unique:!0});const c=u.store("mutations"),f=l.map(h=>c.put(h));return P.waitFor(f)})}(e,o))),a=a.next(()=>{(function(s){s.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.Bs(o))),r<6&&i>=6&&(a=a.next(()=>(function(s){s.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(o)))),r<7&&i>=7&&(a=a.next(()=>this.Us(o))),r<8&&i>=8&&(a=a.next(()=>this.qs(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(s){s.objectStoreNames.contains("remoteDocumentChanges")&&s.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.Ks(o))),r<11&&i>=11&&(a=a.next(()=>{(function(s){s.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(s){s.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(s){const u=s.createObjectStore("documentOverlays",{keyPath:lse});u.createIndex("collectionPathOverlayIndex",cse,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",fse,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(s){const u=s.createObjectStore("remoteDocumentsV14",{keyPath:Jae});u.createIndex("documentKeyIndex",Zae),u.createIndex("collectionGroupIndex",ese)}(e)).next(()=>this.Gs(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.Qs(e,o))),r<15&&i>=15&&(a=a.next(()=>function(s){s.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),s.createObjectStore("indexState",{keyPath:ose}).createIndex("sequenceNumberIndex",ase,{unique:!1}),s.createObjectStore("indexEntries",{keyPath:sse}).createIndex("documentKeyIndex",use,{unique:!1})}(e))),a}Ls(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next(i=>P.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",a).next(s=>P.forEach(s,u=>{de(u.userId===o.userId);const l=No(this.wt,u);return CR(e,o.userId,l).next(()=>{})}))}))}Us(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const u=new Ee(a),l=function(c){return[0,fn(c)]}(u);o.push(n.get(l).next(c=>c?P.resolve():(f=>n.put({targetId:0,path:fn(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>P.waitFor(o))})}qs(e,n){e.createObjectStore("collectionParents",{keyPath:ise});const r=n.store("collectionParents"),i=new kb,o=a=>{if(i.add(a)){const s=a.lastSegment(),u=a.popLast();return r.put({collectionId:s,parent:fn(u)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const u=new Ee(a);return o(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,u],l)=>{const c=br(s);return o(c.popLast())}))}Ks(e){const n=e.store("targets");return n.J((r,i)=>{const o=el(i),a=OR(this.wt,o);return n.put(a)})}Gs(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),u=(l=a,l.document?new Q(Ee.fromString(l.document.name).popFirst(5)):l.noDocument?Q.fromSegments(l.noDocument.path):l.unknownDocument?Q.fromSegments(l.unknownDocument.path):oe()).path.toArray();var l;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(c))}).next(()=>P.waitFor(i))}Qs(e,n){const r=n.store("mutations"),i=MR(this.wt),o=new RR(Zm.Ms,this.wt.ne);return r.K().next(a=>{const s=new Map;return a.forEach(u=>{var l;let c=(l=s.get(u.userId))!==null&&l!==void 0?l:_e();No(this.wt,u).keys().forEach(f=>c=c.add(f)),s.set(u.userId,c)}),P.forEach(s,(u,l)=>{const c=new Et(l),f=Xm.se(this.wt,c),h=o.getIndexManager(c),p=Jm.se(c,this.wt,h,o.referenceDelegate);return new DR(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new Ow(n,yn.ot),u).next()})})}}function _k(t){t.createObjectStore("targetDocuments",{keyPath:nse}).createIndex("documentTargetsIndex",rse,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tse,{unique:!0}),t.createObjectStore("targetGlobal")}const Bv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cb{constructor(e,n,r,i,o,a,s,u,l,c,f=14){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.js=o,this.window=a,this.document=s,this.Ws=l,this.zs=c,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=h=>Promise.resolve(),!Cb.V())throw new V(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ase(this,i),this.ei=n+"main",this.wt=new kR(u),this.ni=new ur(this.ei,this.Hs,new Fse(this.wt)),this.Vs=new Sse(this.referenceDelegate,this.wt),this.remoteDocumentCache=MR(this.wt),this.Ds=new mse,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,c===!1&&dt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new V(D.FAILED_PRECONDITION,Bv);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new yn(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){return this.ti=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(async()=>{this.started&&await this.ii()}))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(n=>{n||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(n=>this.isPrimary&&!n?this.li(e).next(()=>!1):!!n&&this.fi(e).next(()=>!0))).catch(e=>{if(go(e))return z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return zu(e).get("owner").next(n=>P.resolve(this.di(n)))}_i(e){return Kf(e).delete(this.clientId)}async wi(){if(this.isPrimary&&!this.mi(this.Zs,18e5)){this.Zs=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=$t(n,"clientMetadata");return r.K().next(i=>{const o=this.gi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return P.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.si)for(const n of e)this.si.removeItem(this.yi(n.clientId))}}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?P.resolve(!0):zu(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)){if(this.di(n)&&this.networkEnabled)return!0;if(!this.di(n)){if(!n.allowTabSynchronization)throw new V(D.FAILED_PRECONDITION,Bv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kf(e).K().next(r=>this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),await this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Ow(e,yn.ot);return this.li(n).next(()=>this._i(n))}),this.ni.close(),this.Ai()}gi(e,n){return e.filter(r=>this.mi(r.updateTimeMs,n)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Kf(e).K().next(n=>this.gi(n,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,n){return Jm.se(e,this.wt,n,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xse(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Xm.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,n,r){z("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(a=this.Hs)===15?dse:a===14?AR:a===13?IR:a===12?hse:a===11?TR:void oe();var a;let s;return this.ni.runTransaction(e,i,o,u=>(s=new Ow(u,this.Ps?this.Ps.next():yn.ot),n==="readwrite-primary"?this.ai(s).next(l=>!!l||this.hi(s)).next(l=>{if(!l)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new V(D.FAILED_PRECONDITION,jD);return r(s)}).next(l=>this.fi(s).next(()=>l)):this.bi(s).next(()=>r(s)))).then(u=>(s.raiseOnCommittedEvent(),u))}bi(e){return zu(e).get("owner").next(n=>{if(n!==null&&this.mi(n.leaseTimestampMs,5e3)&&!this.pi(n.ownerId)&&!this.di(n)&&!(this.zs||this.allowTabSynchronization&&n.allowTabSynchronization))throw new V(D.FAILED_PRECONDITION,Bv)})}fi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zu(e).put("owner",n)}static V(){return ur.V()}li(e){const n=zu(e);return n.get("owner").next(r=>this.di(r)?(z("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):P.resolve())}mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground=this.document.visibilityState==="visible")}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Js=()=>{this.Ii(),nB()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var n;try{const r=((n=this.si)===null||n===void 0?void 0:n.getItem(this.yi(e)))!==null;return z("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zu(t){return $t(t,"owner")}function Kf(t){return $t(t,"clientMetadata")}function Pb(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=_e(),i=_e();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $b(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(o=>o||this.xi(e,n,i,r)).next(o=>o||this.Ni(e,n))}Ci(e,n){return P.resolve(null)}xi(e,n,r,i){return Sae(n)||i.isEqual(he.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(o=>{const a=this.ki(n,o);return this.Oi(n,a,r,i)?this.Ni(e,n):(xw()<=Te.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Iw(n)),this.Mi(e,a,n,LD(i,-1)))})}ki(e,n){let r=new Re(XD(e));return n.forEach((i,o)=>{bb(e,o)&&(r=r.add(o))}),r}Oi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ni(e,n){return xw()<=Te.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Iw(n)),this.Di.getDocumentsMatchingQuery(e,n,Rn.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new ot(we),this.Bi=new vo(o=>fa(o),Gc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DR(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function FR(t,e,n,r){return new jse(t,e,n,r)}async function jR(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let u=_e();for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:a,addedBatchIds:s}))})})}function Use(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Ui.newChangeBuffer({trackRemovals:!0});return function(a,s,u,l){const c=u.batch,f=c.keys();let h=P.resolve();return f.forEach(p=>{h=h.next(()=>l.getEntry(s,p)).next(m=>{const d=u.docVersions.get(p);de(d!==null),m.version.compareTo(d)<0&&(c.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),l.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(s,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let s=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(s=s.add(a.batch.mutations[u].key));return s}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UR(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Bse(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Vs.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Vs.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(f)?p=p.withResumeToken(wt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(m,d,w){return m.resumeToken.approximateByteSize()===0||d.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&s.push(n.Vs.updateTargetData(o,p))});let u=wn(),l=_e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(BR(o,a,e.documentUpdates).next(c=>{u=c.Gi,l=c.Qi})),!r.isEqual(he.min())){const c=n.Vs.getLastRemoteSnapshotVersion(o).next(f=>n.Vs.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return P.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.$i=i,o))}function BR(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=wn();return n.forEach((s,u)=>{const l=o.get(s);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(s)),u.isNoDocument()&&u.version.isEqual(he.min())?(e.removeEntry(s,u.readTime),a=a.insert(s,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),a=a.insert(s,u)):z("LocalStore","Ignoring outdated watch update for ",s,". Current version:",l.version," Watch version:",u.version)}),{Gi:a,Qi:i}})}function Vse(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ls(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Vs.allocateTargetId(r).next(a=>(i=new Vi(e,a,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function Fs(t,e,n){const r=Y(t),i=r.$i.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!go(a))throw a;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function yp(t,e,n){const r=Y(t);let i=he.min(),o=_e();return r.persistence.runTransaction("Execute query","readonly",a=>function(s,u,l){const c=Y(s),f=c.Bi.get(l);return f!==void 0?P.resolve(c.$i.get(f)):c.Vs.getTargetData(u,l)}(r,a,er(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(a,s.targetId).next(u=>{o=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:_e())).next(s=>(qR(r,YD(e),s),{documents:s,ji:o})))}function VR(t,e){const n=Y(t),r=Y(n.Vs),i=n.$i.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.te(o,e).next(a=>a?a.target:null))}function zR(t,e){const n=Y(t),r=n.Li.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ui.getAllFromCollectionGroup(i,e,LD(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qR(n,e,i),i))}function qR(t,e,n){let r=he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Li.set(e,r)}async function zse(t,e,n,r){const i=Y(t);let o=_e(),a=wn();for(const l of n){const c=e.Wi(l.metadata.name);l.document&&(o=o.add(c));const f=e.zi(l);f.setReadTime(e.Hi(l.metadata.readTime)),a=a.insert(c,f)}const s=i.Ui.newChangeBuffer({trackRemovals:!0}),u=await Ls(i,function(l){return er(lu(Ee.fromString(`__bundle__/docs/${l}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>BR(l,s,a).next(c=>(s.apply(l),c)).next(c=>i.Vs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Vs.addMatchingKeys(l,o,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,c.Gi,c.Qi)).next(()=>c.Gi)))}async function qse(t,e,n=_e()){const r=await Ls(t,er(Ab(e.bundledQuery))),i=Y(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const a=At(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Ds.saveNamedQuery(o,e);const s=r.withResumeToken(wt.EMPTY_BYTE_STRING,a);return i.$i=i.$i.insert(s.targetId,s),i.Vs.updateTargetData(o,s).next(()=>i.Vs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Vs.addMatchingKeys(o,n,r.targetId)).next(()=>i.Ds.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){return`firestore_clients_${t}_${e}`}function xk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Vv(t,e){return`firestore_targets_${t}_${e}`}class wp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ji(e,n,r){const i=JSON.parse(r);let o,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(o=new V(i.error.code,i.error.message))),a?new wp(e,n,i.state,o):(dt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ji(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new V(r.error.code,r.error.message))),o?new wl(e,r.state,i):(dt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _p{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ji(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Ym();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=zD(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new _p(e,o):(dt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Nb{constructor(e,n){this.clientId=e,this.onlineState=n}static Ji(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Nb(n.clientId,n.onlineState):(dt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Cw{constructor(){this.activeTargetIds=Ym()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zv{constructor(e,n,r,i,o){this.window=e,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ot(we),this.started=!1,this.ir=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=bk(this.persistenceKey,this.tr),this.ur=function(s){return`firestore_sequence_number_${s}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Cw),this.cr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.lr=function(s){return`firestore_online_state_${s}`}(this.persistenceKey),this.dr=function(s){return`firestore_bundle_loaded_v2_${s}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ri();for(const r of e){if(r===this.tr)continue;const i=this.getItem(bk(this.persistenceKey,r));if(i){const o=_p.Ji(r,i);o&&(this.sr=this.sr.insert(o.clientId,o))}}this._r();const n=this.storage.getItem(this.lr);if(n){const r=this.wr(n);r&&this.mr(r)}for(const r of this.ir)this.nr(r);this.ir=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let n=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,n,r){this.yr(e,n,r),this.pr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Vv(this.persistenceKey,e));if(r){const i=wl.Ji(e,r);i&&(n=i.state)}}return this.Ir.Xi(e),this._r(),n}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vv(this.persistenceKey,e))}updateQueryState(e,n,r){this.Tr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z("SharedClientState","READ",e,n),n}setItem(e,n){z("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){z("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){const n=e;if(n.storageArea===this.storage){if(z("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.cr.test(n.key)){if(n.newValue==null){const r=this.Rr(n.key);return this.br(r,null)}{const r=this.Pr(n.key,n.newValue);if(r)return this.br(r.clientId,r)}}else if(this.ar.test(n.key)){if(n.newValue!==null){const r=this.vr(n.key,n.newValue);if(r)return this.Vr(r)}}else if(this.hr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(n.key===this.lr){if(n.newValue!==null){const r=this.wr(n.newValue);if(r)return this.mr(r)}}else if(n.key===this.ur){const r=function(i){let o=yn.ot;if(i!=null)try{const a=JSON.parse(i);de(typeof a=="number"),o=a}catch(a){dt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==yn.ot&&this.sequenceNumberHandler(r)}else if(n.key===this.dr){const r=this.Cr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Nr(i)))}}}else this.ir.push(n)})}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,n,r){const i=new wp(this.currentUser,e,n,r),o=xk(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Yi())}pr(e){const n=xk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Er(e){const n={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(n))}Tr(e,n,r){const i=Vv(this.persistenceKey,e),o=new wl(e,n,r);this.setItem(i,o.Yi())}Ar(e){const n=JSON.stringify(Array.from(e));this.setItem(this.dr,n)}Rr(e){const n=this.cr.exec(e);return n?n[1]:null}Pr(e,n){const r=this.Rr(e);return _p.Ji(r,n)}vr(e,n){const r=this.ar.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return wp.Ji(new Et(o),i,n)}Sr(e,n){const r=this.hr.exec(e),i=Number(r[1]);return wl.Ji(i,n)}wr(e){return Nb.Ji(e)}Cr(e){return JSON.parse(e)}async Vr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.kr(e.batchId,e.state,e.error);z("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const r=n?this.sr.insert(e,n):this.sr.remove(e),i=this.gr(this.sr),o=this.gr(r),a=[],s=[];return o.forEach(u=>{i.has(u)||a.push(u)}),i.forEach(u=>{o.has(u)||s.push(u)}),this.syncEngine.Mr(a,s).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let n=Ym();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class HR{constructor(){this.Fr=new Cw,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Cw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,o){const a=this.oo(e,n);z("RestConnection","Sending: ",a,r);const s={};return this.uo(s,i,o),this.co(e,a,s,r).then(u=>(z("RestConnection","Received: ",u),u),u=>{throw nc("RestConnection",`${e} failed with error: `,u,"url: ",a,"request:",r),u})}ao(e,n,r,i,o,a){return this.ro(e,n,r,i,o)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}oo(e,n){const r=Wse[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((o,a)=>{const s=new Hoe;s.listenOnce(Voe.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case jv.NO_ERROR:const l=s.getResponseJson();z("Connection","XHR received:",JSON.stringify(l)),o(l);break;case jv.TIMEOUT:z("Connection",'RPC "'+e+'" timed out'),a(new V(D.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const c=s.getStatus();if(z("Connection",'RPC "'+e+'" failed with status:',c,"response text:",s.getResponseText()),c>0){const f=s.getResponseJson().error;if(f&&f.status&&f.message){const h=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(m)>=0?m:D.UNKNOWN}(f.status);a(new V(h,f.message))}else a(new V(D.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new V(D.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{z("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);s.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uoe(),a=Boe(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new qoe({})),this.uo(s.initMessageHeaders,n,r),$P()||MP()||eB()||DP()||tB()||NP()||(s.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");z("Connection","Creating WebChannel: "+u,s);const l=o.createWebChannel(u,s);let c=!1,f=!1;const h=new Gse({jr:m=>{f?z("Connection","Not sending because WebChannel is closed:",m):(c||(z("Connection","Opening WebChannel transport."),l.open(),c=!0),z("Connection","WebChannel sending:",m),l.send(m))},Wr:()=>l.close()}),p=(m,d,w)=>{m.listen(d,g=>{try{w(g)}catch(_){setTimeout(()=>{throw _},0)}})};return p(l,zf.EventType.OPEN,()=>{f||z("Connection","WebChannel transport opened.")}),p(l,zf.EventType.CLOSE,()=>{f||(f=!0,z("Connection","WebChannel transport closed"),h.eo())}),p(l,zf.EventType.ERROR,m=>{f||(f=!0,nc("Connection","WebChannel transport errored:",m),h.eo(new V(D.UNAVAILABLE,"The operation could not be completed")))}),p(l,zf.EventType.MESSAGE,m=>{var d;if(!f){const w=m.data[0];de(!!w);const g=w,_=g.error||((d=g[0])===null||d===void 0?void 0:d.error);if(_){z("Connection","WebChannel received error:",_);const v=_.status;let y=function(x){const S=ft[x];if(S!==void 0)return uR(S)}(v),b=_.message;y===void 0&&(y=D.INTERNAL,b="Unknown error status: "+v+" with message "+_.message),f=!0,h.eo(new V(y,b)),l.close()}else z("Connection","WebChannel received:",w),h.no(w)}}),p(a,zoe.STAT_EVENT,m=>{m.stat===MA.PROXY?z("Connection","Detected buffering proxy"):m.stat===MA.NOPROXY&&z("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof window!="undefined"?window:null}function Nh(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return new jae(t,!0)}class Mb{constructor(e,n,r=1e3,i=1.5,o=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,i,o,a,s,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Mb(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new V(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qse extends GR{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.wt=o}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=Vae(this.wt,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?At(o.readTime):he.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=cc(this.wt),n.addTarget=function(i,o){let a;const s=o.target;return a=pp(s)?{documents:wR(i,s)}:{query:_R(i,s)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=pR(i,o.resumeToken):o.snapshotVersion.compareTo(he.min())>0&&(a.readTime=uc(i,o.snapshotVersion.toTimestamp())),a}(this.wt,e);const r=qae(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=cc(this.wt),n.removeTarget=e,this.Mo(n)}}class Yse extends GR{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=zae(e.writeResults,e.commitTime),r=At(e.commitTime);return this.listener.Jo(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=cc(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fc(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new V(D.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.bo.ro(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(D.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.bo.ao(e,n,r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(D.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class Jse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(dt(n),this.su=!1):z("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(a=>{r.enqueueAndForget(async()=>{yo(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(s){const u=Y(s);u.lu.add(4),await hu(u),u._u.set("Unknown"),u.lu.delete(4),await Zc(u)}(this))})}),this._u=new Jse(r,i)}}async function Zc(t){if(yo(t))for(const e of t.fu)await e(!0)}async function hu(t){for(const e of t.fu)await e(!1)}function eg(t,e){const n=Y(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),Lb(n)?Rb(n):pu(n).Co()&&Db(n,e))}function hc(t,e){const n=Y(t),r=pu(n);n.hu.delete(e),r.Co()&&KR(n,e),n.hu.size===0&&(r.Co()?r.ko():yo(n)&&n._u.set("Unknown"))}function Db(t,e){t.wu.Nt(e.targetId),pu(t).Qo(e)}function KR(t,e){t.wu.Nt(e),pu(t).jo(e)}function Rb(t){t.wu=new Rae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),pu(t).start(),t._u.iu()}function Lb(t){return yo(t)&&!pu(t).Do()&&t.hu.size>0}function yo(t){return Y(t).lu.size===0}function QR(t){t.wu=void 0}async function eue(t){t.hu.forEach((e,n)=>{Db(t,e)})}async function tue(t,e){QR(t),Lb(t)?(t._u.uu(e),Rb(t)):t._u.set("Unknown")}async function nue(t,e,n){if(t._u.set("Online"),e instanceof dR&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.hu.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.hu.delete(a),r.wu.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bp(t,r)}else if(e instanceof Ph?t.wu.Ut(e):e instanceof hR?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(he.min()))try{const r=await UR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.wu.Yt(o);return a.targetChanges.forEach((s,u)=>{if(s.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach(s=>{const u=i.hu.get(s);if(!u)return;i.hu.set(s,u.withResumeToken(wt.EMPTY_BYTE_STRING,u.snapshotVersion)),KR(i,s);const l=new Vi(u.target,s,1,u.sequenceNumber);Db(i,l)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await bp(t,r)}}async function bp(t,e,n){if(!go(e))throw e;t.lu.add(1),await hu(t),t._u.set("Offline"),n||(n=()=>UR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await Zc(t)})}function YR(t,e){return e().catch(n=>bp(t,n,e))}async function du(t){const e=Y(t),n=Zi(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;rue(e);)try{const i=await Vse(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,iue(e,i)}catch(i){await bp(e,i)}XR(e)&&JR(e)}function rue(t){return yo(t)&&t.au.length<10}function iue(t,e){t.au.push(e);const n=Zi(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function XR(t){return yo(t)&&!Zi(t).Do()&&t.au.length>0}function JR(t){Zi(t).start()}async function oue(t){Zi(t).Xo()}async function aue(t){const e=Zi(t);for(const n of t.au)e.Ho(n.mutations)}async function sue(t,e,n){const r=t.au.shift(),i=Tb.from(r,e,n);await YR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await du(t)}async function uue(t,e){e&&Zi(t).zo&&await async function(n,r){if(i=r.code,sR(i)&&i!==D.ABORTED){const o=n.au.shift();Zi(n).No(),await YR(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await du(n)}var i}(t,e),XR(t)&&JR(t)}async function Ek(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=yo(n);n.lu.add(3),await hu(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await Zc(n)}async function Pw(t,e){const n=Y(t);e?(n.lu.delete(2),await Zc(n)):e||(n.lu.add(2),await hu(n),n._u.set("Unknown"))}function pu(t){return t.mu||(t.mu=function(e,n,r){const i=Y(e);return i.tu(),new Qse(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:eue.bind(null,t),Jr:tue.bind(null,t),Go:nue.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),Lb(t)?Rb(t):t._u.set("Unknown")):(await t.mu.stop(),QR(t))})),t.mu}function Zi(t){return t.gu||(t.gu=function(e,n,r){const i=Y(e);return i.tu(),new Yse(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:oue.bind(null,t),Jr:uue.bind(null,t),Yo:aue.bind(null,t),Jo:sue.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await du(t)):(await t.gu.stop(),t.au.length>0&&(z("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Fb(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mu(t,e){if(dt("AsyncQueue",`${e}: ${t}`),go(t))return new V(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Zu(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.yu=new ot(Q.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):oe():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class js{constructor(e,n,r,i,o,a,s,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new js(e,n,ds.emptySet(n),o,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(){this.Iu=void 0,this.listeners=[]}}class cue{constructor(){this.queries=new vo(e=>QD(e),Kc),this.onlineState="Unknown",this.Tu=new Set}}async function jb(t,e){const n=Y(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new lue),i)try{o.Iu=await n.onListen(r)}catch(a){const s=mu(a,`Initialization of query '${Iw(e.query)}' failed`);return void e.onError(s)}n.queries.set(r,o),o.listeners.push(e),e.Eu(n.onlineState),o.Iu&&e.Au(o.Iu)&&Bb(n)}async function Ub(t,e){const n=Y(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fue(t,e){const n=Y(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.listeners)s.Au(i)&&(r=!0);a.Iu=i}}r&&Bb(n)}function hue(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Bb(t){t.Tu.forEach(e=>{e.next()})}class Vb{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e,n){this.payload=e,this.byteLength=n}Cu(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.wt=e}Wi(e){return kr(this.wt,e)}zi(e){return e.metadata.exists?yR(this.wt,e.document,!1):je.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return At(e)}}class pue{constructor(e,n,r){this.xu=e,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=Ee.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ku(e){const n=new Map,r=new Ik(this.wt);for(const i of e)if(i.metadata.queries){const o=r.Wi(i.metadata.name);for(const a of i.metadata.queries){const s=(n.get(a)||_e()).add(o);n.set(a,s)}}return n}async complete(){const e=await zse(this.localStore,new Ik(this.wt),this.documents,this.xu.id),n=this.ku(this.documents);for(const r of this.queries)await qse(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:e}}}function ZR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class n2{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=_e(),this.mutatedKeys=_e(),this.Lu=XD(e),this.Uu=new ds(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new Tk,i=n?n.Uu:this.Uu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=bb(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),d=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?m!==d&&(r.track({type:3,doc:p}),w=!0):this.Qu(h,p)||(r.track({type:2,doc:p}),w=!0,(u&&this.Lu(p,u)>0||l&&this.Lu(p,l)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(u||l)&&(s=!0)),w&&(p?(a=a.add(p),o=d?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Uu:a,Gu:r,Oi:s,mutatedKeys:o}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const o=e.Gu.pu();o.sort((l,c)=>function(f,h){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return p(f)-p(h)}(l.type,c.type)||this.Lu(l.doc,c.doc)),this.ju(r);const a=n?this.Wu():[],s=this.Bu.size===0&&this.current?1:0,u=s!==this.$u;return this.$u=s,o.length!==0||u?{snapshot:new js(this.query,e.Uu,i,o,e.mutatedKeys,s===0,u,!1),zu:a}:{zu:a}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Tk,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_e(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new t2(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new e2(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=_e();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return js.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class mue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gue{constructor(e){this.key=e,this.Xu=!1}}class vue{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new vo(s=>QD(s),Kc),this.ec=new Map,this.nc=new Set,this.sc=new ot(Q.comparator),this.ic=new Map,this.rc=new Ob,this.oc={},this.uc=new Map,this.cc=ga.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function yue(t,e){const n=Gb(t);let r,i;const o=n.tc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const a=await Ls(n.localStore,er(e));n.isPrimaryClient&&eg(n.remoteStore,a);const s=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await zb(n,e,r,s==="current")}return i}async function zb(t,e,n,r){t.hc=(c,f,h)=>async function(p,m,d,w){let g=m.view.Ku(d);g.Oi&&(g=await yp(p.localStore,m.query,!1).then(({documents:y})=>m.view.Ku(y,g)));const _=w&&w.targetChanges.get(m.targetId),v=m.view.applyChanges(g,p.isPrimaryClient,_);return $w(p,m.targetId,v.zu),v.snapshot}(t,c,f,h);const i=await yp(t.localStore,e,!0),o=new n2(e,i.ji),a=o.Ku(i.documents),s=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),u=o.applyChanges(a,t.isPrimaryClient,s);$w(t,n,u.zu);const l=new mue(e,n,o);return t.tc.set(e,l),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}async function wue(t,e){const n=Y(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(o=>!Kc(o,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fs(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),hc(n.remoteStore,r.targetId),Us(n,r.targetId)}).catch(mo)):(Us(n,r.targetId),await Fs(n.localStore,r.targetId,!0))}async function _ue(t,e,n){const r=Kb(t);try{const i=await function(o,a){const s=Y(o),u=Xe.now(),l=a.reduce((h,p)=>h.add(p.key),_e());let c,f;return s.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=wn(),m=_e();return s.Ui.getEntries(h,l).next(d=>{p=d,p.forEach((w,g)=>{g.isValidDocument()||(m=m.add(w))})}).next(()=>s.localDocuments.getOverlayedDocuments(h,p)).next(d=>{c=d;const w=[];for(const g of a){const _=Cae(g,c.get(g.key).overlayedDocument);_!=null&&w.push(new ui(g.key,_,HD(_.value.mapValue),et.exists(!0)))}return s.mutationQueue.addMutationBatch(h,u,w,a)}).next(d=>{f=d;const w=d.applyToLocalDocumentSet(c,m);return s.documentOverlayCache.saveOverlays(h,d.batchId,w)})}).then(()=>({batchId:f.batchId,changes:cR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,s){let u=o.oc[o.currentUser.toKey()];u||(u=new ot(we)),u=u.insert(a,s),o.oc[o.currentUser.toKey()]=u}(r,i.batchId,n),await li(r,i.changes),await du(r.remoteStore)}catch(i){const o=mu(i,"Failed to persist write");n.reject(o)}}async function r2(t,e){const n=Y(t);try{const r=await Bse(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.ic.get(o);a&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Xu=!0:i.modifiedDocuments.size>0?de(a.Xu):i.removedDocuments.size>0&&(de(a.Xu),a.Xu=!1))}),await li(n,r,e)}catch(r){await mo(r)}}function Ak(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((o,a)=>{const s=a.view.Eu(e);s.snapshot&&i.push(s.snapshot)}),function(o,a){const s=Y(o);s.onlineState=a;let u=!1;s.queries.forEach((l,c)=>{for(const f of c.listeners)f.Eu(a)&&(u=!0)}),u&&Bb(s)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bue(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),o=i&&i.key;if(o){let a=new ot(Q.comparator);a=a.insert(o,je.newNoDocument(o,he.min()));const s=_e().add(o),u=new Yc(he.min(),new Map,new Re(we),a,s);await r2(r,u),r.sc=r.sc.remove(o),r.ic.delete(e),Wb(r)}else await Fs(r.localStore,e,!1).then(()=>Us(r,e,n)).catch(mo)}async function xue(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await Use(n.localStore,e);Hb(n,r,null),qb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await li(n,i)}catch(i){await mo(i)}}async function Sue(t,e,n){const r=Y(t);try{const i=await function(o,a){const s=Y(o);return s.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return s.mutationQueue.lookupMutationBatch(u,a).next(c=>(de(c!==null),l=c.keys(),s.mutationQueue.removeMutationBatch(u,c))).next(()=>s.mutationQueue.performConsistencyCheck(u)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>s.localDocuments.getDocuments(u,l))})}(r.localStore,e);Hb(r,e,n),qb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await li(r,i)}catch(i){await mo(i)}}async function Eue(t,e){const n=Y(t);yo(n.remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Y(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",s=>a.mutationQueue.getHighestUnacknowledgedBatchId(s))}(n.localStore);if(r===-1)return void e.resolve();const i=n.uc.get(r)||[];i.push(e),n.uc.set(r,i)}catch(r){const i=mu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function qb(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function Hb(t,e,n){const r=Y(t);let i=r.oc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Us(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||i2(t,r)})}function i2(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(hc(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),Wb(t))}function $w(t,e,n){for(const r of n)r instanceof e2?(t.rc.addReference(r.key,e),Tue(t,r)):r instanceof t2?(z("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||i2(t,r.key)):oe()}function Tue(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(z("SyncEngine","New document in limbo: "+n),t.nc.add(r),Wb(t))}function Wb(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new Q(Ee.fromString(e)),r=t.cc.next();t.ic.set(r,new gue(n)),t.sc=t.sc.insert(n,r),eg(t.remoteStore,new Vi(er(lu(n.path)),r,2,yn.ot))}}async function li(t,e,n){const r=Y(t),i=[],o=[],a=[];r.tc.isEmpty()||(r.tc.forEach((s,u)=>{a.push(r.hc(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=$b.Vi(u.targetId,l);o.push(c)}}))}),await Promise.all(a),r.Zu.Go(i),await async function(s,u){const l=Y(s);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>P.forEach(u,f=>P.forEach(f.Pi,h=>l.persistence.referenceDelegate.addReference(c,f.targetId,h)).next(()=>P.forEach(f.vi,h=>l.persistence.referenceDelegate.removeReference(c,f.targetId,h)))))}catch(c){if(!go(c))throw c;z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const f=c.targetId;if(!c.fromCache){const h=l.$i.get(f),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);l.$i=l.$i.insert(f,m)}}}(r.localStore,o))}async function Iue(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await jR(n.localStore,e);n.currentUser=e,function(i,o){i.uc.forEach(a=>{a.forEach(s=>{s.reject(new V(D.CANCELLED,o))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await li(n,r.Ki)}}function Aue(t,e){const n=Y(t),r=n.ic.get(e);if(r&&r.Xu)return _e().add(r.key);{let i=_e();const o=n.ec.get(e);if(!o)return i;for(const a of o){const s=n.tc.get(a);i=i.unionWith(s.view.qu)}return i}}async function kue(t,e){const n=Y(t),r=await yp(n.localStore,e.query,!0),i=e.view.Ju(r);return n.isPrimaryClient&&$w(n,e.targetId,i.zu),i}async function Oue(t,e){const n=Y(t);return zR(n.localStore,e).then(r=>li(n,r))}async function Cue(t,e,n,r){const i=Y(t),o=await function(a,s){const u=Y(a),l=Y(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",c=>l.yn(c,s).next(f=>f?u.localDocuments.getDocuments(c,f):P.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await du(i.remoteStore):n==="acknowledged"||n==="rejected"?(Hb(i,e,r||null),qb(i,e),function(a,s){Y(Y(a).mutationQueue).In(s)}(i.localStore,e)):oe(),await li(i,o)):z("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Pue(t,e){const n=Y(t);if(Gb(n),Kb(n),e===!0&&n.ac!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await kk(n,r.toArray());n.ac=!0,await Pw(n.remoteStore,!0);for(const o of i)eg(n.remoteStore,o)}else if(e===!1&&n.ac!==!1){const r=[];let i=Promise.resolve();n.ec.forEach((o,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then(()=>(Us(n,a),Fs(n.localStore,a,!0))),hc(n.remoteStore,a)}),await i,await kk(n,r),function(o){const a=Y(o);a.ic.forEach((s,u)=>{hc(a.remoteStore,u)}),a.rc.cs(),a.ic=new Map,a.sc=new ot(Q.comparator)}(n),n.ac=!1,await Pw(n.remoteStore,!1)}}async function kk(t,e,n){const r=Y(t),i=[],o=[];for(const a of e){let s;const u=r.ec.get(a);if(u&&u.length!==0){s=await Ls(r.localStore,er(u[0]));for(const l of u){const c=r.tc.get(l),f=await kue(r,c);f.snapshot&&o.push(f.snapshot)}}else{const l=await VR(r.localStore,a);s=await Ls(r.localStore,l),await zb(r,o2(l),a,!1)}i.push(s)}return r.Zu.Go(o),i}function o2(t){return GD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $ue(t){const e=Y(t);return Y(Y(e.localStore).persistence).Ri()}async function Nue(t,e,n,r){const i=Y(t);if(i.ac)return void z("SyncEngine","Ignoring unexpected query state notification.");const o=i.ec.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const a=await zR(i.localStore,YD(o[0])),s=Yc.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await li(i,a,s);break}case"rejected":await Fs(i.localStore,e,!0),Us(i,e,r);break;default:oe()}}async function Mue(t,e,n){const r=Gb(t);if(r.ac){for(const i of e){if(r.ec.has(i)){z("SyncEngine","Adding an already active target "+i);continue}const o=await VR(r.localStore,i),a=await Ls(r.localStore,o);await zb(r,o2(o),a.targetId,!1),eg(r.remoteStore,a)}for(const i of n)r.ec.has(i)&&await Fs(r.localStore,i,!1).then(()=>{hc(r.remoteStore,i),Us(r,i)}).catch(mo)}}function Gb(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bue.bind(null,e),e.Zu.Go=fue.bind(null,e.eventManager),e.Zu.lc=hue.bind(null,e.eventManager),e}function Kb(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sue.bind(null,e),e}function Due(t,e,n){const r=Y(t);(async function(i,o,a){try{const s=await o.getMetadata();if(await function(f,h){const p=Y(f),m=At(h.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",d=>p.Ds.getBundleMetadata(d,h.id)).then(d=>!!d&&d.createTime.compareTo(m)>=0)}(i.localStore,s))return await o.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(s)),Promise.resolve(new Set);a._updateProgress(ZR(s));const u=new pue(s,i.localStore,o.wt);let l=await o.fc();for(;l;){const f=await u.Nu(l);f&&a._updateProgress(f),l=await o.fc()}const c=await u.complete();return await li(i,c.Mu,void 0),await function(f,h){const p=Y(f);return p.persistence.runTransaction("Save bundle","readwrite",m=>p.Ds.saveBundleMetadata(m,h))}(i.localStore,s),a._completeWith(c.progress),Promise.resolve(c.Ou)}catch(s){return nc("SyncEngine",`Loading bundle failed with ${s}`),a._failWith(s),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class a2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return FR(this.persistence,new LR,e.initialUser,this.wt)}_c(e){return new RR(Zm.Ms,this.wt)}dc(e){return new HR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class s2 extends a2{constructor(e,n,r){super(),this.yc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.yc.initialize(this,e),await Kb(this.yc.syncEngine),await du(this.yc.remoteStore),await this.persistence.ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wc(e){return FR(this.persistence,new LR,e.initialUser,this.wt)}mc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Tse(r,e.asyncQueue,n)}gc(e,n){const r=new sae(n,this.persistence);return new aae(e.asyncQueue,r)}_c(e){const n=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Cb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WR(),Nh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new HR}}class Rue extends s2{constructor(e,n){super(e,n,!1),this.yc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.yc.syncEngine;this.sharedClientState instanceof zv&&(this.sharedClientState.syncEngine={kr:Cue.bind(null,n),Or:Nue.bind(null,n),Mr:Mue.bind(null,n),Ri:$ue.bind(null,n),Nr:Oue.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ci(async r=>{await Pue(this.yc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}dc(e){const n=WR();if(!zv.V(n))throw new V(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Pb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zv(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Qb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ak(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Iue.bind(null,this.syncEngine),await Pw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cue}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Kse(i));var i;return function(o,a,s,u){return new Xse(o,a,s,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=s=>Ak(this.syncEngine,s,0),a=Sk.V()?new Sk:new Hse,new Zse(n,r,i,o,a);var n,r,i,o,a}createSyncEngine(e,n){return function(r,i,o,a,s,u,l){const c=new vue(r,i,o,a,s,u);return l&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Y(e);z("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await hu(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e,n){this.Ec=e,this.wt=n,this.metadata=new It,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}async getMetadata(){return this.metadata.promise}async fc(){return await this.getMetadata(),this.Rc()}async Rc(){const e=await this.bc();if(e===null)return null;const n=this.Ac.decode(e),r=Number(n);isNaN(r)&&this.Pc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new due(JSON.parse(i),e.length+r)}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async bc(){for(;this.Vc()<0&&!await this.Sc(););if(this.buffer.length===0)return null;const e=this.Vc();e<0&&this.Pc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Sc()&&this.Pc("Reached the end of bundle when more is expected.");const n=this.Ac.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}async Sc(){const e=await this.Ec.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new V(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const o=Y(r),a=cc(o.wt)+"/documents",s={documents:i.map(f=>lc(o.wt,f))},u=await o.ao("BatchGetDocuments",a,s,i.length),l=new Map;u.forEach(f=>{const h=Bae(o.wt,f);l.set(h.key.toString(),h)});const c=[];return i.forEach(f=>{const h=l.get(f.toString());de(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Q.fromPath(r);this.mutations.push(new xb(i,this.precondition(i)))}),await async function(n,r){const i=Y(n),o=cc(i.wt)+"/documents",a={writes:r.map(s=>fc(i.wt,s))};await i.ro("Commit",o,a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw oe();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new V(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?et.updateTime(n):et.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new V(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return et.updateTime(n)}return et.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Dc=r.maxAttempts,this.So=new Mb(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io(async()=>{const e=new Fue(this.datastore),n=this.xc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Nc(i)}))}).catch(r=>{this.Nc(r)})})}xc(e){try{const n=this.updateFunction(e);return!Wc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!sR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=MD.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u2(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function l2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yb(t);z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Ek(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Ek(e.remoteStore,o)),t.onlineComponents=e}async function Yb(t){return t.offlineComponents||(z("FirestoreClient","Using default OfflineComponentProvider"),await u2(t,new a2)),t.offlineComponents}async function ng(t){return t.onlineComponents||(z("FirestoreClient","Using default OnlineComponentProvider"),await l2(t,new Qb)),t.onlineComponents}function c2(t){return Yb(t).then(e=>e.persistence)}function Xb(t){return Yb(t).then(e=>e.localStore)}function f2(t){return ng(t).then(e=>e.remoteStore)}function Jb(t){return ng(t).then(e=>e.syncEngine)}async function Bs(t){const e=await ng(t),n=e.eventManager;return n.onListen=yue.bind(null,e.syncEngine),n.onUnlisten=wue.bind(null,e.syncEngine),n}function Bue(t){return t.asyncQueue.enqueue(async()=>{const e=await c2(t),n=await f2(t);return e.setNetworkEnabled(!0),function(r){const i=Y(r);return i.lu.delete(0),Zc(i)}(n)})}function Vue(t){return t.asyncQueue.enqueue(async()=>{const e=await c2(t),n=await f2(t);return e.setNetworkEnabled(!1),async function(r){const i=Y(r);i.lu.add(0),await hu(i),i._u.set("Offline")}(n)})}function zue(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const a=await function(s,u){const l=Y(s);return l.persistence.runTransaction("read document","readonly",c=>l.localDocuments.getDocument(c,u))}(r,i);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new V(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const s=mu(a,`Failed to get document '${i} from cache`);o.reject(s)}}(await Xb(t),e,n)),n.promise}function h2(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,u){const l=new tg({next:f=>{o.enqueueAndForget(()=>Ub(i,c));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new V(D.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&s&&s.source==="server"?u.reject(new V(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new Vb(lu(a.path),l,{includeMetadataChanges:!0,Du:!0});return jb(i,c)}(await Bs(t),t.asyncQueue,e,n,r)),r.promise}function que(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const a=await yp(r,i,!0),s=new n2(i,a.ji),u=s.Ku(a.documents),l=s.applyChanges(u,!1);o.resolve(l.snapshot)}catch(a){const s=mu(a,`Failed to execute query '${i} against cache`);o.reject(s)}}(await Xb(t),e,n)),n.promise}function d2(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,s,u){const l=new tg({next:f=>{o.enqueueAndForget(()=>Ub(i,c)),f.fromCache&&s.source==="server"?u.reject(new V(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),c=new Vb(a,l,{includeMetadataChanges:!0,Du:!0});return jb(i,c)}(await Bs(t),t.asyncQueue,e,n,r)),r.promise}function Hue(t,e){const n=new tg(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){Y(r).Tu.add(i),i.next()}(await Bs(t),n)),()=>{n.Tc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){Y(r).Tu.delete(i)}(await Bs(t),n))}}function Wue(t,e,n){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>{const i=await function(o){return ng(o).then(a=>a.datastore)}(t);new jue(t.asyncQueue,i,n,e,r).run()}),r.promise}function Gue(t,e,n,r){const i=function(o,a){let s;return s=typeof o=="string"?new TextEncoder().encode(o):o,function(u,l){return new Lue(u,l)}(function(u,l){if(u instanceof Uint8Array)return Ok(u,l);if(u instanceof ArrayBuffer)return Ok(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(s),a)}(n,Jc(e));t.asyncQueue.enqueueAndForget(async()=>{Due(await Jb(t),i,r)})}function Kue(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=Y(n);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ds.getNamedQuery(o,r))}(await Xb(t),e))}const Ck=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t,e,n){if(!n)throw new V(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p2(t,e,n,r){if(e===!0&&r===!0)throw new V(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pk(t){if(!Q.isDocumentKey(t))throw new V(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $k(t){if(Q.isDocumentKey(t))throw new V(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(t);throw new V(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function m2(t,e){if(e<=0)throw new V(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new V(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nk({}),this._settingsFrozen=!1,e instanceof ni?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new V(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ni(i.options.projectId)}(e))}get app(){if(!this._app)throw new V(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Koe;switch(n.type){case"gapi":const r=n.client;return de(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Joe(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new V(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ck.get(e);n&&(z("ComponentProvider","Removing Datastore"),Ck.delete(e),n.terminate())}(this),Promise.resolve()}}function Que(t,e,n,r={}){var i;const o=(t=Ae(t,ef))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&nc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let a,s;if(typeof r.mockUserToken=="string")a=r.mockUserToken,s=Et.MOCK_USER;else{a=XU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new V(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Et(u)}t._authCredentials=new Qoe(new ND(a,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class Or extends Zt{constructor(e,n,r){super(e,n,lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new Q(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function g2(t,e,...n){if(t=Ge(t),Zb("collection","path",e),t instanceof ef){const r=Ee.fromString(e,...n);return $k(r),new Or(t,null,r)}{if(!(t instanceof We||t instanceof Or))throw new V(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return $k(r),new Or(t.firestore,null,r)}}function Yue(t,e){if(t=Ae(t,ef),Zb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new V(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zt(t,null,function(n){return new si(Ee.emptyPath(),n)}(e))}function xp(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=MD.I()),Zb("doc","path",e),t instanceof ef){const r=Ee.fromString(e,...n);return Pk(r),new We(t,null,new Q(r))}{if(!(t instanceof We||t instanceof Or))throw new V(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return Pk(r),new We(t.firestore,t instanceof Or?t.converter:null,new Q(r))}}function v2(t,e){return t=Ge(t),e=Ge(e),(t instanceof We||t instanceof Or)&&(e instanceof We||e instanceof Or)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function y2(t,e){return t=Ge(t),e=Ge(e),t instanceof Zt&&e instanceof Zt&&t.firestore===e.firestore&&Kc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Mb(this,"async_queue_retry"),this.Kc=()=>{const n=Nh();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Nh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Nh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new It;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!go(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw dt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=Fb.createAndSchedule(this,e,n,r,o=>this.Wc(o));return this.$c.push(i),i}Gc(){this.Bc&&oe()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function Nw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Jue{constructor(){this._progressObserver={},this._taskCompletionResolver=new It,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue=-1;class at extends ef{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Xue,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||w2(this),this._firestoreClient.terminate()}}function Nt(t){return t._firestoreClient||w2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function w2(t){var e;const n=t._freezeSettings(),r=function(i,o,a,s){return new cae(i,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Uue(t._authCredentials,t._appCheckCredentials,t._queue,r)}function ele(t,e){b2(t=Ae(t,at));const n=Nt(t),r=t._freezeSettings(),i=new Qb;return _2(n,i,new s2(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function tle(t){b2(t=Ae(t,at));const e=Nt(t),n=t._freezeSettings(),r=new Qb;return _2(e,r,new Rue(r,n.cacheSizeBytes))}function _2(t,e,n){const r=new It;return t.asyncQueue.enqueue(async()=>{try{await u2(t,n),await l2(t,e),r.resolve()}catch(i){const o=i;if(!function(a){return a.name==="FirebaseError"?a.code===D.FAILED_PRECONDITION||a.code===D.UNIMPLEMENTED:typeof DOMException!="undefined"&&a instanceof DOMException?a.code===22||a.code===20||a.code===11:!0}(o))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}}).then(()=>r.promise)}function nle(t){if(t._initialized&&!t._terminated)throw new V(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new It;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!ur.V())return Promise.resolve();const r=n+"main";await ur.delete(r)}(Pb(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function rle(t){return function(e){const n=new It;return e.asyncQueue.enqueueAndForget(async()=>Eue(await Jb(e),n)),n.promise}(Nt(t=Ae(t,at)))}function ile(t){return Bue(Nt(t=Ae(t,at)))}function ole(t){return Vue(Nt(t=Ae(t,at)))}function ale(t,e){const n=Nt(t=Ae(t,at)),r=new Jue;return Gue(n,t._databaseId,e,r),r}function sle(t,e){return Kue(Nt(t=Ae(t,at)),e).then(n=>n?new Zt(t,null,n.query):null)}function b2(t){if(t._initialized||t._terminated)throw new V(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(wt.fromBase64String(e))}catch(n){throw new V(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ule=/^__.*__$/;class lle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class x2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class og{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Sp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(S2(this.Zc)&&ule.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class cle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||Jc(e)}aa(e,n,r,i=!1){return new og({Zc:e,methodName:n,ca:r,path:lt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Oa(t){const e=t._freezeSettings(),n=Jc(t._databaseId);return new cle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ag(t,e,n,r,i,o={}){const a=t.aa(o.merge||o.mergeFields?2:0,e,n,i);rx("Data must be an object, but it was:",a,r);const s=I2(r,a);let u,l;if(o.merge)u=new Nn(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=Mw(e,f,n);if(!a.contains(h))throw new V(D.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);k2(c,h)||c.push(h)}u=new Nn(c),l=a.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=a.fieldTransforms;return new lle(new Ft(s),u,l)}class tf extends ka{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function E2(t,e,n){return new og({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class ex extends ka{_toFieldTransform(e){return new Qc(e.path,new Ds)}isEqual(e){return e instanceof ex}}class fle extends ka{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=E2(this,e,!0),r=this.ha.map(o=>Ca(o,n)),i=new ha(r);return new Qc(e.path,i)}isEqual(e){return this===e}}class hle extends ka{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=E2(this,e,!0),r=this.ha.map(o=>Ca(o,n)),i=new da(r);return new Qc(e.path,i)}isEqual(e){return this===e}}class dle extends ka{constructor(e,n){super(e),this.la=n}_toFieldTransform(e){const n=new Rs(e.wt,eR(e.wt,this.la));return new Qc(e.path,n)}isEqual(e){return this===e}}function tx(t,e,n,r){const i=t.aa(1,e,n);rx("Data must be an object, but it was:",i,r);const o=[],a=Ft.empty();Aa(r,(u,l)=>{const c=ix(e,u,n);l=Ge(l);const f=i.ia(c);if(l instanceof tf)o.push(c);else{const h=Ca(l,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new Nn(o);return new x2(a,s,i.fieldTransforms)}function nx(t,e,n,r,i,o){const a=t.aa(1,e,n),s=[Mw(e,r,n)],u=[i];if(o.length%2!=0)throw new V(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Mw(e,o[h])),u.push(o[h+1]);const l=[],c=Ft.empty();for(let h=s.length-1;h>=0;--h)if(!k2(l,s[h])){const p=s[h];let m=u[h];m=Ge(m);const d=a.ia(p);if(m instanceof tf)l.push(p);else{const w=Ca(m,d);w!=null&&(l.push(p),c.set(p,w))}}const f=new Nn(l);return new x2(c,f,a.fieldTransforms)}function T2(t,e,n,r=!1){return Ca(n,t.aa(r?4:3,e))}function Ca(t,e){if(A2(t=Ge(t)))return rx("Unsupported field value:",e,t),I2(t,e);if(t instanceof ka)return function(n,r){if(!S2(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const a of n){let s=Ca(a,r.ra(o));s==null&&(s={nullValue:"NULL_VALUE"}),i.push(s),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ge(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eR(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:uc(r.wt,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uc(r.wt,i)}}if(n instanceof ig)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rr)return{bytesValue:pR(r.wt,n._byteString)};if(n instanceof We){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${rg(n)}`)}(t,e)}function I2(t,e){const n={};return BD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,i)=>{const o=Ca(i,e.ea(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof ig||t instanceof Rr||t instanceof We||t instanceof ka)}function rx(t,e,n){if(!A2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=rg(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function Mw(t,e,n){if((e=Ge(e))instanceof eo)return e._internalPath;if(typeof e=="string")return ix(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const ple=new RegExp("[~\\*/\\[\\]]");function ix(t,e,n){if(e.search(ple)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eo(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new V(D.INVALID_ARGUMENT,s+t+u)}function k2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mle extends dc{data(){return super.data()}}function sg(t,e){return typeof e=="string"?ix(t,e):e instanceof eo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ri extends dc{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _l extends ri{data(e={}){return super.data(e)}}class to{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _l(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new _l(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const s=new _l(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:gle(a.type),doc:s,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}function O2(t,e){return t instanceof ri&&e instanceof ri?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof to&&e instanceof to&&t._firestore===e._firestore&&y2(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nf{}function hi(t,...e){for(const n of e)t=n._apply(t);return t}class vle extends nf{constructor(e,n,r){super(),this.fa=e,this.da=n,this._a=r,this.type="where"}_apply(e){const n=Oa(e.firestore),r=function(i,o,a,s,u,l,c){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new V(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){Dk(c,l);const p=[];for(const m of c)p.push(Mk(s,i,m));f={arrayValue:{values:p}}}else f=Mk(s,i,c)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||Dk(c,l),f=T2(a,o,c,l==="in"||l==="not-in");const h=Ut.create(u,l,f);return function(p,m){if(m.ht()){const w=wb(p);if(w!==null&&!w.isEqual(m.field))throw new V(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${w.toString()}' and '${m.field.toString()}'`);const g=yb(p);g!==null&&D2(p,m.field,g)}const d=function(w,g){for(const _ of w.filters)if(g.indexOf(_.op)>=0)return _.op;return null}(p,function(w){switch(w){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(m.op));if(d!==null)throw d===m.op?new V(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${m.op.toString()}' filter.`):new V(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${m.op.toString()}' filters with '${d.toString()}' filters.`)}(i,h),h}(e._query,"where",n,e.firestore._databaseId,this.fa,this.da,this._a);return new Zt(e.firestore,e.converter,function(i,o){const a=i.filters.concat([o]);return new si(i.path,i.collectionGroup,i.explicitOrderBy.slice(),a,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function yle(t,e,n){const r=e,i=sg("where",t);return new vle(i,r,n)}class wle extends nf{constructor(e,n){super(),this.fa=e,this.wa=n,this.type="orderBy"}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new V(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new V(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new hs(i,o);return function(s,u){if(yb(s)===null){const l=wb(s);l!==null&&D2(s,l,u.field)}}(r,a),a}(e._query,this.fa,this.wa);return new Zt(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new si(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function _le(t,e="asc"){const n=e,r=sg("orderBy",t);return new wle(r,n)}class P2 extends nf{constructor(e,n,r){super(),this.type=e,this.ma=n,this.ga=r}_apply(e){return new Zt(e.firestore,e.converter,KD(e._query,this.ma,this.ga))}}function ble(t){return m2("limit",t),new P2("limit",t,"F")}function xle(t){return m2("limitToLast",t),new P2("limitToLast",t,"L")}class $2 extends nf{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=M2(e,this.type,this.ya,this.pa);return new Zt(e.firestore,e.converter,function(r,i){return new si(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Sle(...t){return new $2("startAt",t,!0)}function Ele(...t){return new $2("startAfter",t,!1)}class N2 extends nf{constructor(e,n,r){super(),this.type=e,this.ya=n,this.pa=r}_apply(e){const n=M2(e,this.type,this.ya,this.pa);return new Zt(e.firestore,e.converter,function(r,i){return new si(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function Tle(...t){return new N2("endBefore",t,!1)}function Ile(...t){return new N2("endAt",t,!0)}function M2(t,e,n,r){if(n[0]=Ge(n[0]),n[0]instanceof dc)return function(i,o,a,s,u){if(!s)throw new V(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const l=[];for(const c of Ms(i))if(c.field.isKeyField())l.push(ca(o,s.key));else{const f=s.data.field(c.field);if(vb(f))throw new V(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const h=c.field.canonicalString();throw new V(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}l.push(f)}return new Ji(l,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Oa(t.firestore);return function(o,a,s,u,l,c){const f=o.explicitOrderBy;if(l.length>f.length)throw new V(D.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let p=0;p<l.length;p++){const m=l[p];if(f[p].field.isKeyField()){if(typeof m!="string")throw new V(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof m}`);if(!_b(o)&&m.indexOf("/")!==-1)throw new V(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${m}' contains a slash.`);const d=o.path.child(Ee.fromString(m));if(!Q.isDocumentKey(d))throw new V(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${d}' is not because it contains an odd number of segments.`);const w=new Q(d);h.push(ca(a,w))}else{const d=T2(s,u,m);h.push(d)}}return new Ji(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function Mk(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new V(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&n.indexOf("/")!==-1)throw new V(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!Q.isDocumentKey(r))throw new V(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ca(t,new Q(r))}if(n instanceof We)return ca(t,n._key);throw new V(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(n)}.`)}function Dk(t,e){if(!Array.isArray(t)||t.length===0)throw new V(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new V(D.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function D2(t,e,n){if(!n.isEqual(e))throw new V(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){const r={};return Aa(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ig(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);de(SR(r));const i=new ni(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||dt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kle extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ole{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oa(e)}set(e,n,r){this._verifyNotCommitted();const i=xi(e,this._firestore),o=ug(i.converter,n,r),a=ag(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,et.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=xi(e,this._firestore);let a;return a=typeof(n=Ge(n))=="string"||n instanceof eo?nx(this._dataReader,"WriteBatch.update",o._key,n,r,i):tx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,et.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xi(e,this._firestore);return this._mutations=this._mutations.concat(new fu(n._key,et.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new V(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xi(t,e){if((t=Ge(t)).firestore!==e)throw new V(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cle(t){t=Ae(t,We);const e=Ae(t.firestore,at);return h2(Nt(e),t._key).then(n=>ax(e,t,n))}class Pa extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function Ple(t){t=Ae(t,We);const e=Ae(t.firestore,at),n=Nt(e),r=new Pa(e);return zue(n,t._key).then(i=>new ri(e,r,t._key,i,new zo(i!==null&&i.hasLocalMutations,!0),t.converter))}function $le(t){t=Ae(t,We);const e=Ae(t.firestore,at);return h2(Nt(e),t._key,{source:"server"}).then(n=>ax(e,t,n))}function Nle(t){t=Ae(t,Zt);const e=Ae(t.firestore,at),n=Nt(e),r=new Pa(e);return C2(t._query),d2(n,t._query).then(i=>new to(e,r,t,i))}function Mle(t){t=Ae(t,Zt);const e=Ae(t.firestore,at),n=Nt(e),r=new Pa(e);return que(n,t._query).then(i=>new to(e,r,t,i))}function Dle(t){t=Ae(t,Zt);const e=Ae(t.firestore,at),n=Nt(e),r=new Pa(e);return d2(n,t._query,{source:"server"}).then(i=>new to(e,r,t,i))}function Rk(t,e,n){t=Ae(t,We);const r=Ae(t.firestore,at),i=ug(t.converter,e,n);return rf(r,[ag(Oa(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,et.none())])}function Lk(t,e,n,...r){t=Ae(t,We);const i=Ae(t.firestore,at),o=Oa(i);let a;return a=typeof(e=Ge(e))=="string"||e instanceof eo?nx(o,"updateDoc",t._key,e,n,r):tx(o,"updateDoc",t._key,e),rf(i,[a.toMutation(t._key,et.exists(!0))])}function Rle(t){return rf(Ae(t.firestore,at),[new fu(t._key,et.none())])}function Lle(t,e){const n=Ae(t.firestore,at),r=xp(t),i=ug(t.converter,e);return rf(n,[ag(Oa(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}function R2(t,...e){var n,r,i;t=Ge(t);let o={includeMetadataChanges:!1},a=0;typeof e[a]!="object"||Nw(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges};if(Nw(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,c;if(t instanceof We)l=Ae(t.firestore,at),c=lu(t._key.path),u={next:f=>{e[a]&&e[a](ax(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Ae(t,Zt);l=Ae(f.firestore,at),c=f._query;const h=new Pa(l);u={next:p=>{e[a]&&e[a](new to(l,h,f,p))},error:e[a+1],complete:e[a+2]},C2(t._query)}return function(f,h,p,m){const d=new tg(m),w=new Vb(h,d,p);return f.asyncQueue.enqueueAndForget(async()=>jb(await Bs(f),w)),()=>{d.Tc(),f.asyncQueue.enqueueAndForget(async()=>Ub(await Bs(f),w))}}(Nt(l),c,s,u)}function Fle(t,e){return Hue(Nt(t=Ae(t,at)),Nw(e)?e:{next:e})}function rf(t,e){return function(n,r){const i=new It;return n.asyncQueue.enqueueAndForget(async()=>_ue(await Jb(n),r,i)),i.promise}(Nt(t),e)}function ax(t,e,n){const r=n.docs.get(e._key),i=new Pa(t);return new ri(t,i,e._key,r,new zo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Oa(e)}get(e){const n=xi(e,this._firestore),r=new kle(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return oe();const o=i[0];if(o.isFoundDocument())return new dc(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new dc(this._firestore,r,n._key,null,n.converter);throw oe()})}set(e,n,r){const i=xi(e,this._firestore),o=ug(i.converter,n,r),a=ag(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const o=xi(e,this._firestore);let a;return a=typeof(n=Ge(n))=="string"||n instanceof eo?nx(this._dataReader,"Transaction.update",o._key,n,r,i):tx(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,a),this}delete(e){const n=xi(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=xi(e,this._firestore),r=new Pa(this._firestore);return super.get(e).then(i=>new ri(this._firestore,r,n._key,i._document,new zo(!1,!1),n.converter))}}function Ule(t,e,n){t=Ae(t,at);const r=Object.assign(Object.assign({},Ale),n);return function(i){if(i.maxAttempts<1)throw new V(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),Wue(Nt(t),i=>e(new jle(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(){return new tf("deleteField")}function Vle(){return new ex("serverTimestamp")}function zle(...t){return new fle("arrayUnion",t)}function qle(...t){return new hle("arrayRemove",t)}function Hle(t){return new dle("increment",t)}(function(t,e=!0){(function(n){uu=n})(xa),Wi(new ei("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),o=new at(i,new Yoe(n.getProvider("auth-internal")),new eae(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC")),Er(DA,"3.4.13",t),Er(DA,"3.4.13","esm2017")})();const Wle="@firebase/firestore-compat",Gle="0.1.22";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new V("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){if(typeof Uint8Array=="undefined")throw new V("unimplemented","Uint8Arrays are not available in this environment.")}function jk(){if(!uae())throw new V("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pc{constructor(e){this._delegate=e}static fromBase64String(e){return jk(),new pc(Rr.fromBase64String(e))}static fromUint8Array(e){return Fk(),new pc(Rr.fromUint8Array(e))}toBase64(){return jk(),this._delegate.toBase64()}toUint8Array(){return Fk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){return Kle(t,["next","error","complete"])}function Kle(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{enableIndexedDbPersistence(e,n){return ele(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return tle(e._delegate)}clearIndexedDbPersistence(e){return nle(e._delegate)}}class L2{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ni||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&nc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Que(this._delegate,e,n,r)}enableNetwork(){return ile(this._delegate)}disableNetwork(){return ole(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,p2("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rle(this._delegate)}onSnapshotsInSync(e){return Fle(this._delegate,e)}get app(){if(!this._appCompat)throw new V("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vs(this,g2(this._delegate,e))}catch(n){throw nn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qn(this,xp(this._delegate,e))}catch(n){throw nn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new tn(this,Yue(this._delegate,e))}catch(n){throw nn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Ule(this._delegate,n=>e(new F2(this,n)))}batch(){return Nt(this._delegate),new j2(new Ole(this._delegate,e=>rf(this._delegate,e)))}loadBundle(e){return ale(this._delegate,e)}namedQuery(e){return sle(this._delegate,e).then(n=>n?new tn(this,n):null)}}class lg extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(new Rr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qn.forKey(n,this.firestore,null)}}function Yle(t){Woe(t)}class F2{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new lg(e)}get(e){const n=qo(e);return this._delegate.get(n).then(r=>new mc(this._firestore,new ri(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=qo(e);return r?(sx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=qo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=qo(e);return this._delegate.delete(n),this}}class j2{constructor(e){this._delegate=e}set(e,n,r){const i=qo(e);return r?(sx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=qo(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=qo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class va{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new _l(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gc(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=va.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new va(e,new lg(e),n),i.set(n,o)),o}}va.INSTANCES=new WeakMap;class Qn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new V("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qn(n,new We(n._delegate,r,new Q(e)))}static forKey(e,n,r){return new Qn(n,new We(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Vs(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vs(this.firestore,g2(this._delegate,e))}catch(n){throw nn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ge(e),e instanceof We?v2(this._delegate,e):!1}set(e,n){n=sx("DocumentReference.set",n);try{return n?Rk(this._delegate,e,n):Rk(this._delegate,e)}catch(r){throw nn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?Lk(this._delegate,e):Lk(this._delegate,e,n,...r)}catch(i){throw nn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Rle(this._delegate)}onSnapshot(...e){const n=U2(e),r=B2(e,i=>new mc(this.firestore,new ri(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return R2(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Ple(this._delegate):(e==null?void 0:e.source)==="server"?n=$le(this._delegate):n=Cle(this._delegate),n.then(r=>new mc(this.firestore,new ri(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qn(this.firestore,e?this._delegate.withConverter(va.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nn(t,e,n){return t.message=t.message.replace(e,n),t}function U2(t){for(const e of t)if(typeof e=="object"&&!Dw(e))return e;return{}}function B2(t,e){var n,r;let i;return Dw(t[0])?i=t[0]:Dw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class mc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return O2(this._delegate,e._delegate)}}class gc extends mc{data(e){const n=this._delegate.data(e);return Goe(n!==void 0),n}}class tn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new lg(e)}where(e,n,r){try{return new tn(this.firestore,hi(this._delegate,yle(e,n,r)))}catch(i){throw nn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new tn(this.firestore,hi(this._delegate,_le(e,n)))}catch(r){throw nn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new tn(this.firestore,hi(this._delegate,ble(e)))}catch(n){throw nn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new tn(this.firestore,hi(this._delegate,xle(e)))}catch(n){throw nn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new tn(this.firestore,hi(this._delegate,Sle(...e)))}catch(n){throw nn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new tn(this.firestore,hi(this._delegate,Ele(...e)))}catch(n){throw nn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new tn(this.firestore,hi(this._delegate,Tle(...e)))}catch(n){throw nn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new tn(this.firestore,hi(this._delegate,Ile(...e)))}catch(n){throw nn(n,"endAt()","Query.endAt()")}}isEqual(e){return y2(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Mle(this._delegate):(e==null?void 0:e.source)==="server"?n=Dle(this._delegate):n=Nle(this._delegate),n.then(r=>new Rw(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=U2(e),r=B2(e,i=>new Rw(this.firestore,new to(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return R2(this._delegate,n,r)}withConverter(e){return new tn(this.firestore,e?this._delegate.withConverter(va.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Xle{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new gc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new tn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Xle(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new gc(this._firestore,r))})}isEqual(e){return O2(this._delegate,e._delegate)}}class Vs extends tn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qn(this.firestore,e):null}doc(e){try{return e===void 0?new Qn(this.firestore,xp(this._delegate)):new Qn(this.firestore,xp(this._delegate,e))}catch(n){throw nn(n,"doc()","CollectionReference.doc()")}}add(e){return Lle(this._delegate,e).then(n=>new Qn(this.firestore,n))}isEqual(e){return v2(this._delegate,e._delegate)}withConverter(e){return new Vs(this.firestore,e?this._delegate.withConverter(va.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function qo(t){return Ae(t,We)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(...e){this._delegate=new eo(...e)}static documentId(){return new ux(lt.keyField().canonicalString())}isEqual(e){return e=Ge(e),e instanceof eo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._delegate=e}static serverTimestamp(){const e=Vle();return e._methodName="FieldValue.serverTimestamp",new Ro(e)}static delete(){const e=Ble();return e._methodName="FieldValue.delete",new Ro(e)}static arrayUnion(...e){const n=zle(...e);return n._methodName="FieldValue.arrayUnion",new Ro(n)}static arrayRemove(...e){const n=qle(...e);return n._methodName="FieldValue.arrayRemove",new Ro(n)}static increment(e){const n=Hle(e);return n._methodName="FieldValue.increment",new Ro(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jle={Firestore:L2,GeoPoint:ig,Timestamp:Xe,Blob:pc,Transaction:F2,WriteBatch:j2,DocumentReference:Qn,DocumentSnapshot:mc,Query:tn,QueryDocumentSnapshot:gc,QuerySnapshot:Rw,CollectionReference:Vs,FieldPath:ux,FieldValue:Ro,setLogLevel:Yle,CACHE_SIZE_UNLIMITED:Zue};function Zle(t,e){t.INTERNAL.registerComponent(new ei("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Jle)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t){Zle(t,(e,n)=>new L2(e,n,new Qle)),t.registerVersion(Wle,Gle)}ece(Ks);const tce=()=>{const[t,e]=G.exports.useState("No Data For View"),[n,r]=G.exports.useState(""),[i,o]=G.exports.useState("No Data For View"),[a,s]=G.exports.useState(""),[u,l]=G.exports.useState("No Data For View"),[c,f]=G.exports.useState(""),[h,p]=G.exports.useState("No Data For View"),[m,d]=G.exports.useState(""),[w,g]=G.exports.useState("No Data For View"),[_,v]=G.exports.useState(""),[y,b]=G.exports.useState("No Data For View"),[x,S]=G.exports.useState(""),[E,T]=G.exports.useState("No Data For View"),[A,I]=G.exports.useState(""),[N,k]=G.exports.useState("No Data For View"),[R,B]=G.exports.useState(""),j=Ks.firestore();return j.collection("Measurement").onSnapshot(function(pe){const se=pe.docs.map(K=>({id:K.id,...K.data()})),le=String(se[0].id);console.log(se),console.log(le),e(se[1].id),o(se[2].id),l(se[3].id),p(se[4].id),g(se[5].id),b(se[6].id),T(se[7].id),k(se[8].id)}),ue("div",{className:"bg-Resulttables",children:[ue("div",{className:"Table-titles-area",children:[ue("ul",{className:"Table-titles",children:[O("li",{children:"Date & Time"}),O("li",{children:"Download"})]}),O("hr",{className:"Table-line"})]}),ue("div",{className:"Table-data-area",children:[ue("ul",{className:"Table-datas",children:[O("li",{children:t}),ue("button",{className:"downloadButton",onClick:()=>{console.log(t+" data downloading..."),j.collection("Measurement").doc(t).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));r(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(n))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:i}),ue("button",{className:"downloadButton",onClick:()=>{console.log(i+" data downloading..."),j.collection("Measurement").doc(i).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));s(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(a))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:u}),ue("button",{className:"downloadButton",onClick:()=>{console.log(u+" data downloading..."),j.collection("Measurement").doc(u).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));f(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(c))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:h}),ue("button",{className:"downloadButton",onClick:()=>{console.log(h+" data downloading..."),j.collection("Measurement").doc(h).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));d(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(m))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:w}),ue("button",{className:"downloadButton",onClick:()=>{console.log(w+" data downloading..."),j.collection("Measurement").doc(w).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));v(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(_))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:y}),ue("button",{className:"downloadButton",onClick:()=>{console.log(y+" data downloading..."),j.collection("Measurement").doc(y).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));S(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(x))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:E}),ue("button",{className:"downloadButton",onClick:()=>{console.log(E+" data downloading..."),j.collection("Measurement").doc(E).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));I(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(A))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]}),ue("ul",{className:"Table-datas",children:[O("li",{children:N}),ue("button",{className:"downloadButton",onClick:()=>{console.log(N+" data downloading..."),j.collection("Measurement").doc(N).collection("data").orderBy("Time","asc").onSnapshot(function(ee){const te=ee.docs.map(L=>({id:L.id,...L.data()}));B(te),console.log(te)});const le=`data:text/json;chatset=utf-8,${encodeURIComponent(JSON.stringify(R))}`,K=document.createElement("a"),F=document.createElement("a");K.href=le,F.href=le,K.download="data.json",F.download="data.txt",K.click(),F.click()},children:[O("li",{className:"download-image",children:" "})," "]})]})]})]})};function nce(){return ue("div",{className:"App",children:[O("div",{className:"App-Content",children:O(tce,{})}),O("div",{className:"App-Sidebar",children:O(q1,{})})]})}const rce=()=>ue("div",{className:"bg-Credits",children:[O("h3",{className:"Credit-title",children:"Picoammeter Data Visualizer V0.1"}),O("p",{className:"Credit-text",children:"This Software developing for measure current coming from Keithley 6485 and data with graphs visualize now it's more meaningful!"}),O("p",{className:"Credit-text",children:"Developer: Ensar Batuhan Ayd\u0131n"}),O("p",{className:"Credit-text",children:"Infrastructure center : Selcuk University - Laser Spectroscopy Labratoary - Konya, T\xFCrkiye"})]});function ice(){return ue("div",{className:"App",children:[O("div",{className:"App-Content",children:O(rce,{})}),O("div",{className:"App-Sidebar",children:O(q1,{})})]})}function oce(){const t={databaseURL:"https://picoammeter-database-default-rtdb.firebaseio.com/",projectId:"picoammeter-database",apiKey:"AIzaSyBKhYZvrZkuTqxKCfx2jIh1d4OHKNV7o64"};return Ks.initializeApp(t)}function lx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V2(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ace=V2,z2=new ba("auth","Firebase",V2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new rm("@firebase/auth");function Mh(t,...e){Uk.logLevel<=Te.ERROR&&Uk.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw cx(t,...e)}function Cr(t,...e){return cx(t,...e)}function sce(t,e,n){const r=Object.assign(Object.assign({},ace()),{[e]:n});return new ba("auth","Firebase",r).create(e,{appName:t.name})}function cx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return z2.create(t,...e)}function me(t,e,...n){if(!t)throw cx(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mh(e),new Error(e)}function ii(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Map;function Gr(t){ii(t instanceof Function,"Expected a class definition");let e=Bk.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bk.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uce(t,e){const n=im(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(hd(o,e!=null?e:{}))return i;hr(i,"already-initialized")}return n.initialize({options:e})}function lce(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cce(){return Vk()==="http:"||Vk()==="https:"}function Vk(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fce(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cce()||NP()||"connection"in navigator)?navigator.onLine:!0}function hce(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=$P()||MP()}get(){return fce()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pce=new of(3e4,6e4);function cg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function af(t,e,n,r,i={}){return H2(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Tc(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),q2.fetch()(W2(t,t.config.apiHost,n,s),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function H2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dce),e);try{const i=new mce(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Qf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[u,l]=s.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Qf(t,"user-disabled",a);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sce(t,c,l);hr(t,c)}}catch(i){if(i instanceof ao)throw i;hr(t,"network-request-failed")}}async function fg(t,e,n,r,i={}){const o=await af(t,e,n,r,i);return"mfaPendingCredential"in o&&hr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function W2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fx(t.config,i):`${t.config.apiScheme}://${i}`}class mce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),pce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gce(t,e){return af(t,"POST","/v1/accounts:delete",e)}async function vce(t,e){return af(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yce(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),i=hx(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:bl(qv(i.auth_time)),issuedAtTime:bl(qv(i.iat)),expirationTime:bl(qv(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function qv(t){return Number(t)*1e3}function hx(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KU(r);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",(e=o)===null||e===void 0?void 0:e.toString()),null}}function wce(t){const e=hx(t);return me(e,"internal-error"),me(typeof e.exp!="undefined","internal-error"),me(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ao&&_ce(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _ce({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vc(t,vce(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ece(o.providerUserInfo):[],s=Sce(t.providerData,a),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=u?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new G2(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function xce(t){const e=Ge(t);await Ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sce(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ece(t){return t.map(e=>{var{providerId:n}=e,r=lx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tce(t,e){const n=await H2(t,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=W2(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",q2.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken!="undefined","internal-error"),me(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):wce(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Tce(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new yc;return r&&(me(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){me(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new G2(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vc(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yce(this,e)}reload(){return xce(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vc(this,gce(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,d=(s=n.tenantId)!==null&&s!==void 0?s:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:y,isAnonymous:b,providerData:x,stsTokenManager:S}=n;me(v&&S,e,"internal-error");const E=yc.fromJSON(this.name,S);me(typeof v=="string",e,"internal-error"),di(f,e.name),di(h,e.name),me(typeof y=="boolean",e,"internal-error"),me(typeof b=="boolean",e,"internal-error"),di(p,e.name),di(m,e.name),di(d,e.name),di(w,e.name),di(g,e.name),di(_,e.name);const T=new Ko({uid:v,auth:e,email:h,emailVerified:y,displayName:f,isAnonymous:b,photoURL:m,phoneNumber:p,tenantId:d,stsTokenManager:E,createdAt:g,lastLoginAt:_});return x&&Array.isArray(x)&&(T.providerData=x.map(A=>Object.assign({},A))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new yc;i.updateFromServerResponse(n);const o=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ep(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K2.type="NONE";const zk=K2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class ps{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ps(Gr(zk),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||Gr(zk);const a=Dh(r,e.config.apiKey,e.name);let s=null;for(const l of n)try{const c=await l._get(a);if(c){const f=Ko._fromJSON(e,c);l!==o&&(s=f),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new ps(o,e,r):(o=u[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(a)}catch{}})),new ps(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z2(e))return"Blackberry";if(eL(e))return"Webos";if(dx(e))return"Safari";if((e.includes("chrome/")||Y2(e))&&!e.includes("edge/"))return"Chrome";if(J2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q2(t=ct()){return/firefox\//i.test(t)}function dx(t=ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Y2(t=ct()){return/crios\//i.test(t)}function X2(t=ct()){return/iemobile/i.test(t)}function J2(t=ct()){return/android/i.test(t)}function Z2(t=ct()){return/blackberry/i.test(t)}function eL(t=ct()){return/webos/i.test(t)}function hg(t=ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ice(t=ct()){var e;return hg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ace(){return DP()&&document.documentMode===10}function tL(t=ct()){return hg(t)||J2(t)||eL(t)||Z2(t)||/windows phone/i.test(t)||X2(t)}function kce(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e=[]){let n;switch(t){case"Browser":n=qk(ct());break;case"Worker":n=`${qk(ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const u=e(o);a(u)}catch(u){s(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hk(this),this.idTokenSubscription=new Hk(this),this.beforeStateQueue=new Oce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===s)&&(u==null?void 0:u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Ep(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hce()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return me(a,this,"internal-error"),a.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function px(t){return Ge(t)}class Hk{constructor(e){this.auth=e,this.observer=null,this.addObserver=LP(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function Pce(t,e){return af(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ce(t,e){return fg(t,"POST","/v1/accounts:signInWithPassword",cg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nce(t,e){return fg(t,"POST","/v1/accounts:signInWithEmailLink",cg(t,e))}async function Mce(t,e){return fg(t,"POST","/v1/accounts:signInWithEmailLink",cg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends mx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $ce(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Nce(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Pce(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Mce(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(t,e){return fg(t,"POST","/v1/accounts:signInWithIdp",cg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce="http://localhost";class ya extends mx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=lx(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ya(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ms(e,n)}buildRequest(){const e={requestUri:Dce,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rce(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lce(t){const e=Ku(Qu(t)).link,n=e?Ku(Qu(e)).deep_link_id:null,r=Ku(Qu(t)).deep_link_id;return(r?Ku(Qu(r)).link:null)||r||n||e||t}class gx{constructor(e){var n,r,i,o,a,s;const u=Ku(Qu(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,f=Rce((i=u.mode)!==null&&i!==void 0?i:null);me(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=u.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=Lce(e);try{return new gx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.providerId=gu.PROVIDER_ID}static credential(e,n){return wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gx.parseLink(n);return me(r,"argument-error"),wc._fromEmailAndCode(e,r.code,r.tenantId)}}gu.PROVIDER_ID="password";gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends rL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends sf{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends sf{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends sf{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ko._fromIdTokenResponse(e,r,i),a=Wk(r);return new zs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Wk(r);return new zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Wk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends ao{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tp(e,n,r,i)}}function iL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,o,e,r):o})}async function Fce(t,e,n=!1){const r=await vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jce(t,e,n=!1){var r;const{auth:i}=t,o="reauthenticate";try{const a=await vc(t,iL(i,o,e,t),n);me(a.idToken,i,"internal-error");const s=hx(a.idToken);me(s,i,"internal-error");const{sub:u}=s;return me(t.uid===u,i,"user-mismatch"),zs._forOperation(t,o,a)}catch(a){throw((r=a)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&hr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e,n=!1){const r="signIn",i=await iL(t,r,e),o=await zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Uce(t,e){return oL(px(t),e)}function Bce(t,e,n){return Uce(Ge(t),gu.credential(e,n))}const Ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(){const t=ct();return dx(t)||hg(t)}const zce=1e3,qce=10;class sL extends aL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Vce()&&kce(),this.fallbackToPolling=tL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,u)=>{this.notifyListeners(a,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Ace()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qce):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sL.type="LOCAL";const Hce=sL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL extends aL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uL.type="SESSION";const lL=uL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async l=>l(n.origin,o)),u=await Wce(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,u)=>{const l=vx("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function Kce(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof Pr().WorkerGlobalScope!="undefined"&&typeof Pr().importScripts=="function"}async function Qce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yce(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xce(){return cL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="firebaseLocalStorageDb",Jce=1,Ap="firebaseLocalStorage",hL="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pg(t,e){return t.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function Zce(){const t=indexedDB.deleteDatabase(fL);return new uf(t).toPromise()}function Fw(){const t=indexedDB.open(fL,Jce);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ap,{keyPath:hL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ap)?e(r):(r.close(),await Zce(),e(await Fw()))})})}async function Gk(t,e,n){const r=pg(t,!0).put({[hL]:e,value:n});return new uf(r).toPromise()}async function efe(t,e){const n=pg(t,!1).get(e),r=await new uf(n).toPromise();return r===void 0?null:r.value}function Kk(t,e){const n=pg(t,!0).delete(e);return new uf(n).toPromise()}const tfe=800,nfe=3;class dL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nfe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(Xce()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qce(),!this.activeServiceWorker)return;this.sender=new Gce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fw();return await Gk(e,Ip,"1"),await Kk(e,Ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>efe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pg(i,!1).getAll();return new uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dL.type="LOCAL";const rfe=dL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ife(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ofe(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Cr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",ife().appendChild(r)})}function afe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sfe(t,e){return e?Gr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx extends mx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ufe(t){return oL(t.auth,new yx(t),t.bypassAuthState)}function lfe(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),jce(n,new yx(t),t.bypassAuthState)}async function cfe(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Fce(n,new yx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ufe;case"linkViaPopup":case"linkViaRedirect":return cfe;case"reauthViaPopup":case"reauthViaRedirect":return lfe;default:hr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe=new of(2e3,1e4);class ns extends pL{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=vx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,ffe.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hfe="pendingRedirect",Rh=new Map;class dfe extends pL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const r=await pfe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pfe(t,e){const n=vfe(e),r=gfe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mfe(t,e){Rh.set(t._key(),e)}function gfe(t){return Gr(t._redirectPersistence)}function vfe(t){return Dh(hfe,t.config.apiKey,t.name)}async function yfe(t,e,n=!1){const r=px(t),i=sfe(r,e),a=await new dfe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wfe=10*60*1e3;class _fe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bfe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mL(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wfe&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qk(e))}saveEventToCache(e){this.cachedEventUids.add(Qk(e)),this.lastProcessedEventTime=Date.now()}}function Qk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xfe(t,e={}){return af(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Efe=/^https?/;async function Tfe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xfe(t);for(const n of e)try{if(Ife(n))return}catch{}hr(t,"unauthorized-domain")}function Ife(t){const e=Lw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Efe.test(n))return!1;if(Sfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Afe=new of(3e4,6e4);function Yk(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kfe(t){return new Promise((e,n)=>{var r,i,o;function a(){Yk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yk(),n(Cr(t,"network-request-failed"))},timeout:Afe.get()})}if(!((i=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pr().gapi)===null||o===void 0)&&o.load)a();else{const s=afe("iframefcb");return Pr()[s]=()=>{gapi.load?a():n(Cr(t,"network-request-failed"))},ofe(`https://apis.google.com/js/api.js?onload=${s}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function Ofe(t){return Lh=Lh||kfe(t),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cfe=new of(5e3,15e3),Pfe="__/auth/iframe",$fe="emulator/auth/iframe",Nfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dfe(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fx(e,$fe):`https://${t.config.authDomain}/${Pfe}`,r={apiKey:e.apiKey,appName:t.name,v:xa},i=Mfe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tc(r).slice(1)}`}async function Rfe(t){const e=await Ofe(t),n=Pr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:Dfe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nfe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Cr(t,"network-request-failed"),s=Pr().setTimeout(()=>{o(a)},Cfe.get());function u(){Pr().clearTimeout(s),i(r)}r.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ffe=500,jfe=600,Ufe="_blank",Bfe="http://localhost";class Xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vfe(t,e,n,r=Ffe,i=jfe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},Lfe),{width:r.toString(),height:i.toString(),top:o,left:a}),l=ct().toLowerCase();n&&(s=Y2(l)?Ufe:n),Q2(l)&&(e=e||Bfe,u.scrollbars="yes");const c=Object.entries(u).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Ice(l)&&s!=="_self")return zfe(e||"",s),new Xk(null);const f=window.open(e||"",s,c);me(f,t,"popup-blocked");try{f.focus()}catch{}return new Xk(f)}function zfe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qfe="__/auth/handler",Hfe="emulator/auth/handler";function Jk(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(e instanceof rL){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",sB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(o||{}))a[u]=l}if(e instanceof sf){const u=e.getScopes().filter(l=>l!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];return`${Wfe(t)}?${Tc(s).slice(1)}`}function Wfe({config:t}){return t.emulator?fx(t,Hfe):`https://${t.authDomain}/${qfe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="webStorageSupport";class Gfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lL,this._completeRedirectFn=yfe,this._overrideRedirectResult=mfe}async _openPopup(e,n,r,i){var o;ii((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=Jk(e,n,r,Lw(),i);return Vfe(e,a,vx())}async _openRedirect(e,n,r,i){return await this._originValidation(e),Kce(Jk(e,n,r,Lw(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Rfe(e),r=new _fe(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hv,{type:Hv},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Hv];a!==void 0&&n(!!a),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tfe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tL()||dx()||hg()}}const Kfe=Gfe;var Zk="@firebase/auth",eO="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yfe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Xfe(t){Wi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:a}=r.options;return((s,u)=>{me(o&&!o.includes(":"),"invalid-api-key",{appName:s.name}),me(!(a!=null&&a.includes(":")),"argument-error",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nL(t)},c=new Cce(s,u,l);return lce(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new ei("auth-internal",e=>{const n=px(e.getProvider("auth").getImmediate());return(r=>new Qfe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(Zk,eO,Yfe(t)),Er(Zk,eO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jfe(t=zP()){const e=im(t,"auth");return e.isInitialized()?e.getImmediate():uce(t,{popupRedirectResolver:Kfe,persistence:[rfe,Hce,lL]})}Xfe("Browser");const Zfe=Jfe(oce()),ehe=()=>{const[t,e]=G.exports.useState(""),[n,r]=G.exports.useState(""),[i,o]=G.exports.useState(!0),[a,s]=G.exports.useState({}),u={errorlog:"Invalid mail or password please check it!"},l=f=>f===a.name&&O("div",{className:"error",children:a.message}),c=async(f,h)=>{try{await Bce(Zfe,f,h),o(!1)}catch(p){console.error(p),s({name:"errorlog",message:u.errorlog})}};return ue("div",{className:"bg-Login",children:[O("div",{className:"Login-logo-title-area",children:ue("ul",{className:"Login-logo-title-area-content",children:[O("li",{className:"logo"}),O("li",{className:"main-title",children:"Login"}),O("li",{className:"device-title",children:"Keithley-6485"})]})}),O("div",{className:"Login-form",children:O("div",{className:"Login-enterance-area",children:ue("div",{className:"Login-enterance",children:[O("label",{className:"label",children:"Username"}),O("input",{className:"Login-enterbox",value:t,onChange:f=>e(f.target.value),placeholder:"E-mail Address",required:!0}),O("label",{className:"label",children:"Password"}),O("input",{className:"Login-enterbox",type:"password",name:"pass",value:n,onChange:f=>r(f.target.value),placeholder:"Password",required:!0}),O("div",{className:"error-decoration",children:l("errorlog")}),ue("div",{className:"Login-button-area",children:[O("button",{className:"Button-enter",onClick:()=>c(t,n),type:"submit",children:"Enter"}),i?O(kU,{to:"/"}):O($M,{})]})]})})})]})};function the(){return O("div",{className:"App-Login",children:O("div",{className:"App-Content-Login",children:O(ehe,{})})})}function nhe(){return O(MU,{children:ue(NU,{children:[O(Cf,{path:"/credits",children:O(ice,{})}),O(Cf,{path:"/results",children:O(nce,{})}),O(Cf,{path:"/realtime",children:O($M,{})}),O(Cf,{path:"/",children:O(the,{})})]})})}Wv.createRoot(document.getElementById("root")).render(O(Z.StrictMode,{children:O(nhe,{})}));
